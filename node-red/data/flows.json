[
    {
        "id": "8769aeb719e4f5f1",
        "type": "tab",
        "label": "Database",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "bfe76d69eb22265e",
        "type": "tab",
        "label": "Link",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "c2a28872a2e6ba67",
        "type": "tab",
        "label": "Tunnels",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "4621a3bae9cafe56",
        "type": "tab",
        "label": "BD4NRG",
        "disabled": true,
        "info": "",
        "env": []
    },
    {
        "id": "e52631fa86fdd3be",
        "type": "tab",
        "label": "UNIVERSE v1.1",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "828bae03b631ac33",
        "type": "tab",
        "label": "Ethereum",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "48a7733923a33252",
        "type": "tab",
        "label": "Files v2 (reduced)",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "f29ecd9eab0f0d83",
        "type": "tab",
        "label": "System v3",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "6ac908635771d986",
        "type": "tab",
        "label": "PoE v5",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "8216168554436ffe",
        "type": "tab",
        "label": "PoE v9",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "2835520133019989",
        "type": "tab",
        "label": "HYPERRIDE",
        "disabled": true,
        "info": "",
        "env": []
    },
    {
        "id": "a9f15cb41dc0ee30",
        "type": "tab",
        "label": "Letsfiware (local)",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "f04368e2cacc78ba",
        "type": "tab",
        "label": "Letsfiware (SDM)",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "df0435d82c4bf5f6",
        "type": "tab",
        "label": "FIWARE API v1.6",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "34047250a1f44ce1",
        "type": "group",
        "z": "48a7733923a33252",
        "name": "",
        "style": {
            "stroke": "none",
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "1a1a090377e2b43e"
        ],
        "x": 334,
        "y": 19,
        "w": 232,
        "h": 82
    },
    {
        "id": "fde0a01bd296f290",
        "type": "group",
        "z": "8216168554436ffe",
        "name": "Ganache",
        "style": {
            "fill": "#e3f3d3",
            "label": true,
            "stroke-opacity": "0"
        },
        "nodes": [
            "e8c1b9d30c882af2",
            "87f6f9a58b4fdbc4",
            "080af97efcf8f80b",
            "928fa5ae72d6aa05"
        ],
        "x": 654,
        "y": 39,
        "w": 152,
        "h": 82
    },
    {
        "id": "d02f3c31e2484257",
        "type": "group",
        "z": "8216168554436ffe",
        "name": "Sepolia",
        "style": {
            "stroke-opacity": "0",
            "fill": "#dbcbe7",
            "label": true
        },
        "nodes": [
            "114d8f213dc35b5a"
        ],
        "x": 654,
        "y": 219,
        "w": 152,
        "h": 82
    },
    {
        "id": "f9f38656cf5cfad0",
        "type": "group",
        "z": "6ac908635771d986",
        "name": "Ganache",
        "style": {
            "fill": "#e3f3d3",
            "label": true,
            "stroke-opacity": "0"
        },
        "nodes": [
            "ebb82b76244b95a0"
        ],
        "x": 654,
        "y": 39,
        "w": 152,
        "h": 82
    },
    {
        "id": "acbc51a19c5f252b",
        "type": "group",
        "z": "4621a3bae9cafe56",
        "name": "FIWARE Lab",
        "style": {
            "fill": "#bfdbef",
            "label": true
        },
        "nodes": [
            "718762eba46388e3",
            "9b758950fa84d340",
            "f4fc170835181aa6",
            "58dcf7acb347c02d",
            "e1778a2b99592df7",
            "ec97a993413526a6",
            "9f431c1fa3415d6f",
            "91b41736f7f2fb85",
            "8c7f51b59ec845d3",
            "521b7c0acb9b7532",
            "24fea8e88e67d201",
            "6825658a9fa2c096",
            "f3e2aaa40a0c5cca",
            "9640bfdb7077fafb"
        ],
        "x": 34,
        "y": 759,
        "w": 612,
        "h": 322
    },
    {
        "id": "8c1dee98eb885d92",
        "type": "group",
        "z": "4621a3bae9cafe56",
        "name": "",
        "style": {
            "fill": "#bfdbef",
            "label": true
        },
        "nodes": [
            "ca08eaa5ef7049a2",
            "801c21d96f43b88c",
            "d9afe2295042aafd",
            "cb38fcce417fb255",
            "9fe86a418a1a83a5",
            "3ee2da573bff6508",
            "dd8084f9b6293f5b",
            "ce47d88d2ab38fa5",
            "ed120f22df36994e",
            "028ed664f4317e6e",
            "b4d0f2b889b507ed",
            "26177be72569d131",
            "8eb304793d7cacae",
            "1953990d564f3505",
            "90b2c47b2985a2dc",
            "b4a8bf37c1492b4a",
            "c38d6db8e2fff14c",
            "4a8b91c365b49afa",
            "7cfdcadf2f330eea",
            "6cb826b3c608b31f",
            "ced237f60b53fcc9",
            "2cc9e5c28b9372cf"
        ],
        "x": 34,
        "y": 1119,
        "w": 852,
        "h": 322
    },
    {
        "id": "163a853d334c2fd4",
        "type": "group",
        "z": "2835520133019989",
        "name": "",
        "style": {
            "fill": "#ffefbf",
            "label": true
        },
        "nodes": [
            "d82001d3b5da9077",
            "17144426a7e34011",
            "bd4942206847a1f1",
            "a3e4a46d1ac76e31",
            "53504fe8a3958a71",
            "8b27aea867042be3",
            "0c56506e984d1260",
            "08369715890d9f1b",
            "bfc7b3464ed96b73",
            "b9f65ffccc50adf9",
            "1331049f46a60c30",
            "7d68d812f6c8a3e6",
            "dedf9af496c727fd",
            "bfc70665473a63fc",
            "97d93f02a47ef417",
            "47de5e40f3ae0be4",
            "b4781f68ded14f8b",
            "f3db2288d49e787b",
            "e967196d554755d6",
            "aad8a5b8b4b529ee",
            "ade44908eb00efd4",
            "7fa6eb6671ce559f",
            "da5619d6c248edc5",
            "6a698585041a836e",
            "ed5c957b6445056b",
            "60bc68ce166f5958",
            "5ee9287c85961a10",
            "4cdde665e0c797c9",
            "2fe6671abf93b4db",
            "4432d68f1ecae6ec",
            "edc8f0d2a9b6c406",
            "77faedee7289021e",
            "96bc4b433fabb229"
        ],
        "x": 14,
        "y": 19,
        "w": 752,
        "h": 502
    },
    {
        "id": "9e743c43c2b4d08b",
        "type": "group",
        "z": "2835520133019989",
        "name": "",
        "style": {
            "fill": "#e3f3d3",
            "label": true
        },
        "nodes": [
            "f96e3fad8a4b2326",
            "044144fe96059c80",
            "959f0d477e6a63b5",
            "681e4e8a74d1f258",
            "f85c232a76a4c03b",
            "5f0a91483b30fa59",
            "d64b4ec7587b45e4",
            "328cc84743ca3128",
            "04b823ff432d6864",
            "1e6023c9b749b822",
            "503adc64135b4058",
            "847885d49ce80b35",
            "2cd1f8e7896af830",
            "347c40e21bcdd664",
            "376e723fa615d072",
            "91b76b15b6e22c04",
            "62ee7fd3504063e2",
            "18d68432b70391cb",
            "faf9e34a7214d9b0",
            "2d7e49ca90b1eed1",
            "2e85ad851bd880f7",
            "ee377e03d9c6bf1c",
            "2daaee1bd1c0b7c1",
            "49d7dfae1bf0d692",
            "0fbca4a98c9682da",
            "6521f0f79ca9f189",
            "34494e3c8d984bc2",
            "14e64137c37dea14",
            "ef80eeb8ddc16f5a",
            "521a5d5342e60af4",
            "e3e544b0661083a2",
            "c52a1b07e4612d3b",
            "9d9aa766086fbc1a",
            "51437996a0e5d92a",
            "e956725a02dc480d",
            "a4e4937289e1ae67",
            "d8d4807bf2d208fd",
            "44af20af11cbc163",
            "1c8ccc2e4afcc7c0",
            "d420a0a4b53fba4f",
            "a27d63c77fb7b64b",
            "a4c6b1d34edf5a8f",
            "b8ee46b807a3b5b4",
            "44ed83480cd91188",
            "451a1609b31cc04c",
            "76a817b0bccd2410",
            "d59a29718da6b51c",
            "35757f0e6a4a61c7",
            "c7ac4d1a45d58707",
            "a721930cdc574ff5",
            "12c3bc15dd40f12f"
        ],
        "x": 14,
        "y": 559,
        "w": 752,
        "h": 862
    },
    {
        "id": "ae95b855fca41e1f",
        "type": "group",
        "z": "2835520133019989",
        "name": "",
        "style": {
            "fill": "#bfdbef",
            "label": true
        },
        "nodes": [
            "41cd9aa4099b72f5",
            "ca97a70289c5301e",
            "c74c71f238da619a",
            "24da90dfda12dec6",
            "b5a11d884b2b1a33"
        ],
        "x": 14,
        "y": 1859,
        "w": 752,
        "h": 82
    },
    {
        "id": "bfc8e3a59536fac2",
        "type": "group",
        "z": "2835520133019989",
        "name": "",
        "style": {
            "fill": "#ffbfbf",
            "label": true
        },
        "nodes": [
            "1d86014bf1bcf80c",
            "c7f29357bd37b8f4",
            "a439ebc60f41d8ed",
            "460a5149f518619d",
            "5339e9b6e72d6a36",
            "47e4cdd31c5e5186",
            "6258ca244c4a64aa",
            "b1b937f8b67914f4",
            "8fbf748a35e909d4",
            "142baa976015d7f6",
            "fc45756368f33da2",
            "2fc47dbc32227813",
            "bc52acbb14d1d6e9",
            "6e8dcce41959b65f",
            "6dd552d7b692f8c7",
            "2944d634ea25547e",
            "d98d85e2593568ea",
            "af24ca3138dcd29f",
            "19b7a7b8ad31ac15",
            "2d66c2388265d860",
            "9f177ffa2b33c5a2",
            "c799269c29c1ac34",
            "4699c370b714faa3",
            "ec00d6b901c362d6",
            "34f9cf655c72f8cd",
            "ffea82fb60577f01"
        ],
        "x": 14,
        "y": 1459,
        "w": 752,
        "h": 342
    },
    {
        "id": "fee944a6bdaf5f10",
        "type": "group",
        "z": "df0435d82c4bf5f6",
        "name": "FIWARE Setup",
        "style": {
            "fill": "#bfdbef",
            "label": true
        },
        "nodes": [
            "379b8f87c7b48b05",
            "4d2b122668704621",
            "de1dc9b0a360f04b",
            "1c184eb76bb592b9",
            "d253b3ac8ed31e2b",
            "e235739cdac4cd33",
            "b2e61cdd20abb1c3",
            "c38b702a3618f239",
            "668626b56dbdf22a",
            "a524c4addbede590",
            "13f15381ada61611",
            "f3836386f6b7084d",
            "ef29d54a03a9b576",
            "81b831ae0bcc412c",
            "c88f3dcb9491b520",
            "e568ed5ce60311c0",
            "40b2f13307ca515e",
            "5b6f4464fcce3868",
            "fb492fbc7f0e1709",
            "7ad91dacce9f89ba",
            "9ebc7614f8ae0530",
            "355e79edc51b326c",
            "d4a6f58dcade2406",
            "566325ccdbdada90",
            "1a03d03fe0320ad6"
        ],
        "x": 14,
        "y": 19,
        "w": 952,
        "h": 382
    },
    {
        "id": "644561f951ea370c",
        "type": "group",
        "z": "df0435d82c4bf5f6",
        "name": "Keyrock IdM API",
        "style": {
            "fill": "#ffefbf",
            "label": true
        },
        "nodes": [
            "84b4e91151209eb7",
            "3c7ce65a8a8afb94",
            "093de2403915081d",
            "209b6241e6a466d8",
            "264dd7c22c235eb6",
            "4f23fc3d8b1d0308"
        ],
        "x": 1034,
        "y": 319,
        "w": 972,
        "h": 82
    },
    {
        "id": "a399fc643c3207d7",
        "type": "group",
        "z": "df0435d82c4bf5f6",
        "name": "Context Broker API",
        "style": {
            "fill": "#e3f3d3",
            "label": true
        },
        "nodes": [
            "7a0d18bd3b339d0d",
            "416e41df565fabb1",
            "d13d945dec6dcbef",
            "9f432bef3072aef6",
            "e0bfa17429fabcca",
            "6b1b8c3779e0e4cf",
            "192af80d18bec436",
            "7cd6d72930c4185e",
            "f549aeb0b4ecedd3",
            "dc4fd2baacc7088d",
            "7108c481a860d720",
            "d4137e58491cf6b8",
            "4b0be9e4e01a4290",
            "9f0f8cba2b6dbd99",
            "bbe233b4512a26dd",
            "a7421c2dcee4af40",
            "3daa71f31114633e",
            "1d5e64dbaa822e20",
            "49d64956ecb2a056",
            "de9fee3d21ce5403",
            "ea5508c8318a7a91",
            "556bed16e3069b47",
            "0453516bf9d06061",
            "a8c5436832d3ad59",
            "c15fd7e5d687bc9a",
            "f9b2416f30d248ef",
            "0cc0b952fbd45197"
        ],
        "x": 1034,
        "y": 19,
        "w": 972,
        "h": 322
    },
    {
        "id": "7048013762d936db",
        "type": "group",
        "z": "e52631fa86fdd3be",
        "name": "",
        "style": {
            "stroke-opacity": "0",
            "fill": "#e3f3d3",
            "label": true
        },
        "nodes": [
            "c8f051effd2e3560",
            "6e1e63d3ac48bdac",
            "08e35d1bd3455795",
            "5a051954645f7297",
            "e0d89847ae3f869b",
            "448534c70b9e7160",
            "42d5275e7e5126d5",
            "84dadb4b70bf968f",
            "432586859e633808",
            "49b3c830b1f3f8c1",
            "e09c2264f5cd5f03",
            "b6be9ea67c20470c",
            "725e4060ae079a58",
            "aef16637363ad33c",
            "bf87f213ac1616d6",
            "114e5d93ba37d588"
        ],
        "x": 154,
        "y": 419,
        "w": 812,
        "h": 162
    },
    {
        "id": "15d84497.52381b",
        "type": "Context-Broker",
        "name": "Orion LD + IdM + PEP Proxy",
        "endpoint": "http://host.docker.internal:1026",
        "service": "",
        "servicepath": "",
        "idmEndpoint": "http://host.docker.internal:3005"
    },
    {
        "id": "95f6c009.fa934",
        "type": "ui_base",
        "theme": {
            "name": "theme-light",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#0094CE",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#097479",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#4B7930",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
            },
            "themeState": {
                "base-color": {
                    "default": "#0094CE",
                    "value": "#0094CE",
                    "edited": false
                },
                "page-titlebar-backgroundColor": {
                    "value": "#0094CE",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#fafafa",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#1bbfff",
                    "edited": false
                },
                "group-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "widget-textColor": {
                    "value": "#111111",
                    "edited": false
                },
                "widget-backgroundColor": {
                    "value": "#0094ce",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey",
                "palette": "light"
            }
        },
        "site": {
            "name": "Node-RED Dashboard",
            "hideToolbar": "false",
            "allowSwipe": "false",
            "lockMenu": "false",
            "allowTempTheme": "true",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 48,
                "sy": 48,
                "gx": 6,
                "gy": 6,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "ade1f84b9abbf285",
        "type": "ui_group",
        "name": "Monitoring data",
        "tab": "e6013c6f.69328",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "a9912d64.97094",
        "type": "ui_group",
        "name": "System Information",
        "tab": "e6013c6f.69328",
        "order": 1,
        "disp": true,
        "width": "6"
    },
    {
        "id": "b6cc1aae65862dae",
        "type": "ui_group",
        "name": "Realtime",
        "tab": "e6013c6f.69328",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "f6e5eaea1a3d31cf",
        "type": "ui_group",
        "name": "Loadavg",
        "tab": "e6013c6f.69328",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "e6013c6f.69328",
        "type": "ui_tab",
        "name": "System Monitor",
        "icon": "memory",
        "order": 6,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "68ea59a18e66e807",
        "type": "ui_tab",
        "name": "FIWARE Universe",
        "icon": "bubble_chart",
        "order": 1,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "47bd647b0bf55722",
        "type": "ui_group",
        "name": "Default",
        "tab": "68ea59a18e66e807",
        "order": 1,
        "disp": false,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "428fc8e6d916cf55",
        "type": "ui_group",
        "name": "FIWARE",
        "tab": "68ea59a18e66e807",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "3887268fb207a290",
        "type": "ui_group",
        "name": "Notarization",
        "tab": "68ea59a18e66e807",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "160e81fb.f1c86e",
        "type": "ui_group",
        "name": "File Browser",
        "tab": "b63d1f91.68095",
        "order": 1,
        "disp": false,
        "width": "12",
        "collapse": false,
        "className": ""
    },
    {
        "id": "26e8fe8026c92abb",
        "type": "ui_group",
        "name": "Properties",
        "tab": "b63d1f91.68095",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "4128a70510a0cd4e",
        "type": "ui_group",
        "name": "Preview",
        "tab": "b63d1f91.68095",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "b63d1f91.68095",
        "type": "ui_tab",
        "name": "File Manager",
        "icon": "folder_open",
        "order": 5,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "a46f63f7bc8183e7",
        "type": "sender-account",
        "name": "Account 2 Test",
        "ethereumClient": "a4d6d03469e02326",
        "address": "0x7efC9d38581c7Cb8372325c349Ec5095D027B3Dd",
        "managedByEthereumClient": false,
        "transactionQueueSize": "100"
    },
    {
        "id": "bb8657c15acd1db1",
        "type": "ui_group",
        "name": "Preview",
        "tab": "af20b3f79a99fb33",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "af20b3f79a99fb33",
        "type": "ui_tab",
        "name": "HTML Viewer",
        "icon": "dashboard",
        "order": 7,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "b4799249b6347148",
        "type": "ngrokauth",
        "name": "fiware@proton.me"
    },
    {
        "id": "51def6da5af481ac",
        "type": "ui_group",
        "name": "Database",
        "tab": "1e15f62f82f992f8",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "1e15f62f82f992f8",
        "type": "ui_tab",
        "name": "Home",
        "icon": "home",
        "order": 2,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "1c5e119ec6122feb",
        "type": "mqtt-broker",
        "name": "",
        "broker": "broker.hivemq.com",
        "port": "1883",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "a4d6d03469e02326",
        "type": "ethereum-client",
        "name": "Replit",
        "url": "https://eth.replit.com"
    },
    {
        "id": "e351187f9c95f60d",
        "type": "ui_group",
        "name": "Link",
        "tab": "1e15f62f82f992f8",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "3eb81d320b6c1fa6",
        "type": "smart-contract",
        "name": "PoE v7 (Sepolia)",
        "ethereumClient": "0604ca7353fa5a18",
        "address": "0x00d1895DEa022512A718e46768b10E49DB011aD4",
        "abi": "[ \t{ \t\t\"anonymous\": false, \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"indexed\": false, \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"\", \t\t\t\t\"type\": \"bytes32\" \t\t\t}, \t\t\t{ \t\t\t\t\"indexed\": false, \t\t\t\t\"internalType\": \"string\", \t\t\t\t\"name\": \"\", \t\t\t\t\"type\": \"string\" \t\t\t}, \t\t\t{ \t\t\t\t\"indexed\": false, \t\t\t\t\"internalType\": \"address\", \t\t\t\t\"name\": \"\", \t\t\t\t\"type\": \"address\" \t\t\t}, \t\t\t{ \t\t\t\t\"indexed\": false, \t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\"name\": \"\", \t\t\t\t\"type\": \"uint256\" \t\t\t} \t\t], \t\t\"name\": \"Notarized\", \t\t\"type\": \"event\" \t}, \t{ \t\t\"anonymous\": false, \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"indexed\": false, \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"\", \t\t\t\t\"type\": \"bytes32\" \t\t\t}, \t\t\t{ \t\t\t\t\"indexed\": false, \t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\"name\": \"\", \t\t\t\t\"type\": \"uint256\" \t\t\t} \t\t], \t\t\"name\": \"Nullified\", \t\t\"type\": \"event\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"string\", \t\t\t\t\"name\": \"document\", \t\t\t\t\"type\": \"string\" \t\t\t} \t\t], \t\t\"name\": \"cancel\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"hash\", \t\t\t\t\"type\": \"bytes32\" \t\t\t}, \t\t\t{ \t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\"name\": \"timestamp\", \t\t\t\t\"type\": \"uint256\" \t\t\t} \t\t], \t\t\"stateMutability\": \"nonpayable\", \t\t\"type\": \"function\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"string\", \t\t\t\t\"name\": \"document\", \t\t\t\t\"type\": \"string\" \t\t\t}, \t\t\t{ \t\t\t\t\"internalType\": \"string\", \t\t\t\t\"name\": \"info\", \t\t\t\t\"type\": \"string\" \t\t\t} \t\t], \t\t\"name\": \"certify\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"hash\", \t\t\t\t\"type\": \"bytes32\" \t\t\t}, \t\t\t{ \t\t\t\t\"components\": [ \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"string\", \t\t\t\t\t\t\"name\": \"information\", \t\t\t\t\t\t\"type\": \"string\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"address\", \t\t\t\t\t\t\"name\": \"provider\", \t\t\t\t\t\t\"type\": \"address\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"timestamp\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t} \t\t\t\t], \t\t\t\t\"internalType\": \"struct ProofOfExistence.Proof\", \t\t\t\t\"name\": \"proof\", \t\t\t\t\"type\": \"tuple\" \t\t\t} \t\t], \t\t\"stateMutability\": \"nonpayable\", \t\t\"type\": \"function\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"string\", \t\t\t\t\"name\": \"document\", \t\t\t\t\"type\": \"string\" \t\t\t} \t\t], \t\t\"name\": \"check\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bool\", \t\t\t\t\"name\": \"result\", \t\t\t\t\"type\": \"bool\" \t\t\t} \t\t], \t\t\"stateMutability\": \"view\", \t\t\"type\": \"function\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"string\", \t\t\t\t\"name\": \"document\", \t\t\t\t\"type\": \"string\" \t\t\t} \t\t], \t\t\"name\": \"digest\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"hash\", \t\t\t\t\"type\": \"bytes32\" \t\t\t} \t\t], \t\t\"stateMutability\": \"pure\", \t\t\"type\": \"function\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"hash\", \t\t\t\t\"type\": \"bytes32\" \t\t\t} \t\t], \t\t\"name\": \"getProof\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"components\": [ \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"string\", \t\t\t\t\t\t\"name\": \"information\", \t\t\t\t\t\t\"type\": \"string\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"address\", \t\t\t\t\t\t\"name\": \"provider\", \t\t\t\t\t\t\"type\": \"address\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"timestamp\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t} \t\t\t\t], \t\t\t\t\"internalType\": \"struct ProofOfExistence.Proof\", \t\t\t\t\"name\": \"proof\", \t\t\t\t\"type\": \"tuple\" \t\t\t} \t\t], \t\t\"stateMutability\": \"view\", \t\t\"type\": \"function\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"hash\", \t\t\t\t\"type\": \"bytes32\" \t\t\t}, \t\t\t{ \t\t\t\t\"internalType\": \"string\", \t\t\t\t\"name\": \"info\", \t\t\t\t\"type\": \"string\" \t\t\t} \t\t], \t\t\"name\": \"notarize\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"components\": [ \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"string\", \t\t\t\t\t\t\"name\": \"information\", \t\t\t\t\t\t\"type\": \"string\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"address\", \t\t\t\t\t\t\"name\": \"provider\", \t\t\t\t\t\t\"type\": \"address\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"timestamp\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t} \t\t\t\t], \t\t\t\t\"internalType\": \"struct ProofOfExistence.Proof\", \t\t\t\t\"name\": \"proof\", \t\t\t\t\"type\": \"tuple\" \t\t\t} \t\t], \t\t\"stateMutability\": \"nonpayable\", \t\t\"type\": \"function\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"hash\", \t\t\t\t\"type\": \"bytes32\" \t\t\t} \t\t], \t\t\"name\": \"nullify\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\"name\": \"timestamp\", \t\t\t\t\"type\": \"uint256\" \t\t\t} \t\t], \t\t\"stateMutability\": \"nonpayable\", \t\t\"type\": \"function\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"hash\", \t\t\t\t\"type\": \"bytes32\" \t\t\t} \t\t], \t\t\"name\": \"verify\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bool\", \t\t\t\t\"name\": \"result\", \t\t\t\t\"type\": \"bool\" \t\t\t} \t\t], \t\t\"stateMutability\": \"view\", \t\t\"type\": \"function\" \t} ]"
    },
    {
        "id": "21db029aa1b5a1dd",
        "type": "sender-account",
        "name": "Account 3 (Metamask)",
        "ethereumClient": "013355f336f7c383",
        "address": "0xcFB1d247D5213d75b75e2aA1De235d6ec32f6544",
        "managedByEthereumClient": false,
        "transactionQueueSize": "100"
    },
    {
        "id": "4644998d391d3c5b",
        "type": "smart-contract",
        "name": "PoE (Replit)",
        "ethereumClient": "013355f336f7c383",
        "address": "0xFb64423ea795852698943FFBeE727d4EB37D8f37",
        "abi": "[{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"Notarized\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"Nullified\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"document\",\"type\":\"string\"}],\"name\":\"cancel\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"hash\",\"type\":\"bytes32\"},{\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"document\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"info\",\"type\":\"string\"}],\"name\":\"certify\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"hash\",\"type\":\"bytes32\"},{\"components\":[{\"internalType\":\"string\",\"name\":\"information\",\"type\":\"string\"},{\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"internalType\":\"struct ProofOfExistence.Proof\",\"name\":\"proof\",\"type\":\"tuple\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"document\",\"type\":\"string\"}],\"name\":\"check\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"result\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"document\",\"type\":\"string\"}],\"name\":\"digest\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"hash\",\"type\":\"bytes32\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"hash\",\"type\":\"bytes32\"}],\"name\":\"getProof\",\"outputs\":[{\"components\":[{\"internalType\":\"string\",\"name\":\"information\",\"type\":\"string\"},{\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"internalType\":\"struct ProofOfExistence.Proof\",\"name\":\"proof\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"hash\",\"type\":\"bytes32\"},{\"internalType\":\"string\",\"name\":\"info\",\"type\":\"string\"}],\"name\":\"notarize\",\"outputs\":[{\"components\":[{\"internalType\":\"string\",\"name\":\"information\",\"type\":\"string\"},{\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"internalType\":\"struct ProofOfExistence.Proof\",\"name\":\"proof\",\"type\":\"tuple\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"hash\",\"type\":\"bytes32\"}],\"name\":\"nullify\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"hash\",\"type\":\"bytes32\"}],\"name\":\"verify\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"result\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"}]"
    },
    {
        "id": "c936756ac0243b92",
        "type": "sender-account",
        "name": "Account 7 (Sepolia)",
        "ethereumClient": "0604ca7353fa5a18",
        "address": "0x6ea4618FFead7e1B282b3cE11Afd3d95aE24CBb0",
        "managedByEthereumClient": false,
        "transactionQueueSize": "100"
    },
    {
        "id": "a4b3ff3023c6a717",
        "type": "smart-contract",
        "name": "PoE v9 (Ganache)",
        "ethereumClient": "151efd3e17f2a2d1",
        "address": "0xe1db7c5eAEfe7C82912Cd1116684135B44202196",
        "abi": "[ \t{ \t\t\"anonymous\": false, \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"indexed\": false, \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"\", \t\t\t\t\"type\": \"bytes32\" \t\t\t}, \t\t\t{ \t\t\t\t\"components\": [ \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"string\", \t\t\t\t\t\t\"name\": \"description\", \t\t\t\t\t\t\"type\": \"string\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"address\", \t\t\t\t\t\t\"name\": \"provider\", \t\t\t\t\t\t\"type\": \"address\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"timestamp\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"blockNumber\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"bool\", \t\t\t\t\t\t\"name\": \"isNotarized\", \t\t\t\t\t\t\"type\": \"bool\" \t\t\t\t\t} \t\t\t\t], \t\t\t\t\"indexed\": false, \t\t\t\t\"internalType\": \"struct ProofOfExistence.Proof\", \t\t\t\t\"name\": \"\", \t\t\t\t\"type\": \"tuple\" \t\t\t} \t\t], \t\t\"name\": \"Notarized\", \t\t\"type\": \"event\" \t}, \t{ \t\t\"anonymous\": false, \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"indexed\": false, \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"\", \t\t\t\t\"type\": \"bytes32\" \t\t\t}, \t\t\t{ \t\t\t\t\"components\": [ \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"string\", \t\t\t\t\t\t\"name\": \"description\", \t\t\t\t\t\t\"type\": \"string\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"address\", \t\t\t\t\t\t\"name\": \"provider\", \t\t\t\t\t\t\"type\": \"address\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"timestamp\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"blockNumber\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"bool\", \t\t\t\t\t\t\"name\": \"isNotarized\", \t\t\t\t\t\t\"type\": \"bool\" \t\t\t\t\t} \t\t\t\t], \t\t\t\t\"indexed\": false, \t\t\t\t\"internalType\": \"struct ProofOfExistence.Proof\", \t\t\t\t\"name\": \"\", \t\t\t\t\"type\": \"tuple\" \t\t\t} \t\t], \t\t\"name\": \"Nullified\", \t\t\"type\": \"event\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"string\", \t\t\t\t\"name\": \"document\", \t\t\t\t\"type\": \"string\" \t\t\t}, \t\t\t{ \t\t\t\t\"internalType\": \"string\", \t\t\t\t\"name\": \"metadata\", \t\t\t\t\"type\": \"string\" \t\t\t} \t\t], \t\t\"name\": \"cancel\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"hash\", \t\t\t\t\"type\": \"bytes32\" \t\t\t}, \t\t\t{ \t\t\t\t\"components\": [ \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"string\", \t\t\t\t\t\t\"name\": \"description\", \t\t\t\t\t\t\"type\": \"string\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"address\", \t\t\t\t\t\t\"name\": \"provider\", \t\t\t\t\t\t\"type\": \"address\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"timestamp\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"blockNumber\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"bool\", \t\t\t\t\t\t\"name\": \"isNotarized\", \t\t\t\t\t\t\"type\": \"bool\" \t\t\t\t\t} \t\t\t\t], \t\t\t\t\"internalType\": \"struct ProofOfExistence.Proof\", \t\t\t\t\"name\": \"proof\", \t\t\t\t\"type\": \"tuple\" \t\t\t} \t\t], \t\t\"stateMutability\": \"nonpayable\", \t\t\"type\": \"function\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"string\", \t\t\t\t\"name\": \"document\", \t\t\t\t\"type\": \"string\" \t\t\t} \t\t], \t\t\"name\": \"cancelDocumentOnly\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"hash\", \t\t\t\t\"type\": \"bytes32\" \t\t\t}, \t\t\t{ \t\t\t\t\"components\": [ \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"string\", \t\t\t\t\t\t\"name\": \"description\", \t\t\t\t\t\t\"type\": \"string\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"address\", \t\t\t\t\t\t\"name\": \"provider\", \t\t\t\t\t\t\"type\": \"address\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"timestamp\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"blockNumber\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"bool\", \t\t\t\t\t\t\"name\": \"isNotarized\", \t\t\t\t\t\t\"type\": \"bool\" \t\t\t\t\t} \t\t\t\t], \t\t\t\t\"internalType\": \"struct ProofOfExistence.Proof\", \t\t\t\t\"name\": \"proof\", \t\t\t\t\"type\": \"tuple\" \t\t\t} \t\t], \t\t\"stateMutability\": \"nonpayable\", \t\t\"type\": \"function\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"string\", \t\t\t\t\"name\": \"document\", \t\t\t\t\"type\": \"string\" \t\t\t}, \t\t\t{ \t\t\t\t\"internalType\": \"string\", \t\t\t\t\"name\": \"metadata\", \t\t\t\t\"type\": \"string\" \t\t\t} \t\t], \t\t\"name\": \"certify\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"hash\", \t\t\t\t\"type\": \"bytes32\" \t\t\t}, \t\t\t{ \t\t\t\t\"components\": [ \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"string\", \t\t\t\t\t\t\"name\": \"description\", \t\t\t\t\t\t\"type\": \"string\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"address\", \t\t\t\t\t\t\"name\": \"provider\", \t\t\t\t\t\t\"type\": \"address\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"timestamp\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"blockNumber\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"bool\", \t\t\t\t\t\t\"name\": \"isNotarized\", \t\t\t\t\t\t\"type\": \"bool\" \t\t\t\t\t} \t\t\t\t], \t\t\t\t\"internalType\": \"struct ProofOfExistence.Proof\", \t\t\t\t\"name\": \"proof\", \t\t\t\t\"type\": \"tuple\" \t\t\t} \t\t], \t\t\"stateMutability\": \"nonpayable\", \t\t\"type\": \"function\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"string\", \t\t\t\t\"name\": \"document\", \t\t\t\t\"type\": \"string\" \t\t\t} \t\t], \t\t\"name\": \"certifyDocumentOnly\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"hash\", \t\t\t\t\"type\": \"bytes32\" \t\t\t}, \t\t\t{ \t\t\t\t\"components\": [ \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"string\", \t\t\t\t\t\t\"name\": \"description\", \t\t\t\t\t\t\"type\": \"string\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"address\", \t\t\t\t\t\t\"name\": \"provider\", \t\t\t\t\t\t\"type\": \"address\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"timestamp\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"blockNumber\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"bool\", \t\t\t\t\t\t\"name\": \"isNotarized\", \t\t\t\t\t\t\"type\": \"bool\" \t\t\t\t\t} \t\t\t\t], \t\t\t\t\"internalType\": \"struct ProofOfExistence.Proof\", \t\t\t\t\"name\": \"proof\", \t\t\t\t\"type\": \"tuple\" \t\t\t} \t\t], \t\t\"stateMutability\": \"nonpayable\", \t\t\"type\": \"function\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"string\", \t\t\t\t\"name\": \"document\", \t\t\t\t\"type\": \"string\" \t\t\t} \t\t], \t\t\"name\": \"check\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bool\", \t\t\t\t\"name\": \"state\", \t\t\t\t\"type\": \"bool\" \t\t\t} \t\t], \t\t\"stateMutability\": \"view\", \t\t\"type\": \"function\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"string\", \t\t\t\t\"name\": \"document\", \t\t\t\t\"type\": \"string\" \t\t\t} \t\t], \t\t\"name\": \"createProofHash\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"hash\", \t\t\t\t\"type\": \"bytes32\" \t\t\t} \t\t], \t\t\"stateMutability\": \"pure\", \t\t\"type\": \"function\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"hash\", \t\t\t\t\"type\": \"bytes32\" \t\t\t} \t\t], \t\t\"name\": \"getHistory\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"components\": [ \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"string\", \t\t\t\t\t\t\"name\": \"description\", \t\t\t\t\t\t\"type\": \"string\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"address\", \t\t\t\t\t\t\"name\": \"provider\", \t\t\t\t\t\t\"type\": \"address\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"timestamp\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"blockNumber\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"bool\", \t\t\t\t\t\t\"name\": \"isNotarized\", \t\t\t\t\t\t\"type\": \"bool\" \t\t\t\t\t} \t\t\t\t], \t\t\t\t\"internalType\": \"struct ProofOfExistence.Proof[]\", \t\t\t\t\"name\": \"history\", \t\t\t\t\"type\": \"tuple[]\" \t\t\t} \t\t], \t\t\"stateMutability\": \"view\", \t\t\"type\": \"function\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"hash\", \t\t\t\t\"type\": \"bytes32\" \t\t\t} \t\t], \t\t\"name\": \"getProof\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"components\": [ \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"string\", \t\t\t\t\t\t\"name\": \"description\", \t\t\t\t\t\t\"type\": \"string\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"address\", \t\t\t\t\t\t\"name\": \"provider\", \t\t\t\t\t\t\"type\": \"address\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"timestamp\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"blockNumber\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"bool\", \t\t\t\t\t\t\"name\": \"isNotarized\", \t\t\t\t\t\t\"type\": \"bool\" \t\t\t\t\t} \t\t\t\t], \t\t\t\t\"internalType\": \"struct ProofOfExistence.Proof\", \t\t\t\t\"name\": \"proof\", \t\t\t\t\"type\": \"tuple\" \t\t\t} \t\t], \t\t\"stateMutability\": \"view\", \t\t\"type\": \"function\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"hash\", \t\t\t\t\"type\": \"bytes32\" \t\t\t}, \t\t\t{ \t\t\t\t\"internalType\": \"string\", \t\t\t\t\"name\": \"metadata\", \t\t\t\t\"type\": \"string\" \t\t\t} \t\t], \t\t\"name\": \"notarize\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"components\": [ \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"string\", \t\t\t\t\t\t\"name\": \"description\", \t\t\t\t\t\t\"type\": \"string\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"address\", \t\t\t\t\t\t\"name\": \"provider\", \t\t\t\t\t\t\"type\": \"address\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"timestamp\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"blockNumber\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"bool\", \t\t\t\t\t\t\"name\": \"isNotarized\", \t\t\t\t\t\t\"type\": \"bool\" \t\t\t\t\t} \t\t\t\t], \t\t\t\t\"internalType\": \"struct ProofOfExistence.Proof\", \t\t\t\t\"name\": \"proof\", \t\t\t\t\"type\": \"tuple\" \t\t\t} \t\t], \t\t\"stateMutability\": \"nonpayable\", \t\t\"type\": \"function\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"hash\", \t\t\t\t\"type\": \"bytes32\" \t\t\t} \t\t], \t\t\"name\": \"notarizeHashOnly\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"components\": [ \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"string\", \t\t\t\t\t\t\"name\": \"description\", \t\t\t\t\t\t\"type\": \"string\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"address\", \t\t\t\t\t\t\"name\": \"provider\", \t\t\t\t\t\t\"type\": \"address\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"timestamp\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"blockNumber\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"bool\", \t\t\t\t\t\t\"name\": \"isNotarized\", \t\t\t\t\t\t\"type\": \"bool\" \t\t\t\t\t} \t\t\t\t], \t\t\t\t\"internalType\": \"struct ProofOfExistence.Proof\", \t\t\t\t\"name\": \"proof\", \t\t\t\t\"type\": \"tuple\" \t\t\t} \t\t], \t\t\"stateMutability\": \"nonpayable\", \t\t\"type\": \"function\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"hash\", \t\t\t\t\"type\": \"bytes32\" \t\t\t}, \t\t\t{ \t\t\t\t\"internalType\": \"string\", \t\t\t\t\"name\": \"metadata\", \t\t\t\t\"type\": \"string\" \t\t\t} \t\t], \t\t\"name\": \"nullify\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"components\": [ \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"string\", \t\t\t\t\t\t\"name\": \"description\", \t\t\t\t\t\t\"type\": \"string\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"address\", \t\t\t\t\t\t\"name\": \"provider\", \t\t\t\t\t\t\"type\": \"address\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"timestamp\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"blockNumber\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"bool\", \t\t\t\t\t\t\"name\": \"isNotarized\", \t\t\t\t\t\t\"type\": \"bool\" \t\t\t\t\t} \t\t\t\t], \t\t\t\t\"internalType\": \"struct ProofOfExistence.Proof\", \t\t\t\t\"name\": \"proof\", \t\t\t\t\"type\": \"tuple\" \t\t\t} \t\t], \t\t\"stateMutability\": \"nonpayable\", \t\t\"type\": \"function\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"hash\", \t\t\t\t\"type\": \"bytes32\" \t\t\t} \t\t], \t\t\"name\": \"nullifyHashOnly\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"components\": [ \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"string\", \t\t\t\t\t\t\"name\": \"description\", \t\t\t\t\t\t\"type\": \"string\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"address\", \t\t\t\t\t\t\"name\": \"provider\", \t\t\t\t\t\t\"type\": \"address\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"timestamp\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"blockNumber\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"bool\", \t\t\t\t\t\t\"name\": \"isNotarized\", \t\t\t\t\t\t\"type\": \"bool\" \t\t\t\t\t} \t\t\t\t], \t\t\t\t\"internalType\": \"struct ProofOfExistence.Proof\", \t\t\t\t\"name\": \"proof\", \t\t\t\t\"type\": \"tuple\" \t\t\t} \t\t], \t\t\"stateMutability\": \"nonpayable\", \t\t\"type\": \"function\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"hash\", \t\t\t\t\"type\": \"bytes32\" \t\t\t} \t\t], \t\t\"name\": \"verify\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bool\", \t\t\t\t\"name\": \"state\", \t\t\t\t\"type\": \"bool\" \t\t\t} \t\t], \t\t\"stateMutability\": \"view\", \t\t\"type\": \"function\" \t} ]"
    },
    {
        "id": "4309ab3d92258a66",
        "type": "sender-account",
        "name": "Account 0 (Ganache)",
        "ethereumClient": "151efd3e17f2a2d1",
        "address": "0x89a47029b7168a240BD49bd446F79cee6cad11D4",
        "managedByEthereumClient": true,
        "transactionQueueSize": "100"
    },
    {
        "id": "151efd3e17f2a2d1",
        "type": "ethereum-client",
        "name": "Ganache (docker)",
        "url": "http://ganache:7545"
    },
    {
        "id": "e57d43c9f8204433",
        "type": "ethers-contract",
        "name": "PoE v9",
        "bytecode": "608060405234801561000f575f80fd5b50611c538061001d5f395ff3fe608060405234801561000f575f80fd5b50600436106100cd575f3560e01c806375e366161161008a578063b6f921ad11610064578063b6f921ad14610285578063d0077945146102b5578063eb9316c0146102e5578063fbcd927214610315576100cd565b806375e36616146101f55780638445819714610225578063a87107ca14610255576100cd565b8063115d620d146100d15780631b80bb3a146101015780634077faa614610131578063464785ca14610162578063660d72c1146101935780637044c63c146101c4575b5f80fd5b6100eb60048036038101906100e69190610fee565b610345565b6040516100f89190611242565b60405180910390f35b61011b60048036038101906101169190610fee565b6104c3565b60405161012891906112d5565b60405180910390f35b61014b60048036038101906101469190611356565b610658565b6040516101599291906113b0565b60405180910390f35b61017c60048036038101906101779190611356565b6106c8565b60405161018a9291906113b0565b60405180910390f35b6101ad60048036038101906101a891906113de565b610738565b6040516101bb9291906113b0565b60405180910390f35b6101de60048036038101906101d991906113de565b6107ac565b6040516101ec9291906113b0565b60405180910390f35b61020f600480360381019061020a9190610fee565b6107d7565b60405161021c919061146b565b60405180910390f35b61023f600480360381019061023a9190611484565b6107ec565b60405161024c91906112d5565b60405180910390f35b61026f600480360381019061026a9190610fee565b61090d565b60405161027c91906112d5565b60405180910390f35b61029f600480360381019061029a9190611356565b6109b0565b6040516102ac919061146b565b60405180910390f35b6102cf60048036038101906102ca9190611484565b610a14565b6040516102dc91906112d5565b60405180910390f35b6102ff60048036038101906102fa9190611609565b610abb565b60405161030c9190611650565b60405180910390f35b61032f600480360381019061032a9190610fee565b610acb565b60405161033c91906112d5565b60405180910390f35b60605f808381526020019081526020015f20805480602002602001604051908101604052809291908181526020015f905b828210156104b8578382905f5260205f2090600502016040518060a00160405290815f820180546103a690611696565b80601f01602080910402602001604051908101604052809291908181526020018280546103d290611696565b801561041d5780601f106103f45761010080835404028352916020019161041d565b820191905f5260205f20905b81548152906001019060200180831161040057829003601f168201915b50505050508152602001600182015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020016002820154815260200160038201548152602001600482015f9054906101000a900460ff16151515158152505081526020019060010190610376565b505050509050919050565b6104cb610f67565b5f805f8481526020019081526020015f20805490501115610653575f808381526020019081526020015f2060015f808581526020019081526020015f208054905061051691906116f3565b8154811061052757610526611726565b5b905f5260205f2090600502016040518060a00160405290815f8201805461054d90611696565b80601f016020809104026020016040519081016040528092919081815260200182805461057990611696565b80156105c45780601f1061059b576101008083540402835291602001916105c4565b820191905f5260205f20905b8154815290600101906020018083116105a757829003601f168201915b50505050508152602001600182015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020016002820154815260200160038201548152602001600482015f9054906101000a900460ff16151515158152505090505b919050565b5f610661610f67565b83835f82829050036106a8576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161069f906117ad565b60405180910390fd5b6106b28686610be8565b93506106bd8461090d565b925050509250929050565b5f6106d1610f67565b83835f8282905003610718576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161070f906117ad565b60405180910390fd5b6107228686610be8565b935061072d84610acb565b925050509250929050565b5f610741610f67565b85855f8282905003610788576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161077f906117ad565b60405180910390fd5b6107928888610be8565b935061079f8487876107ec565b9250505094509492505050565b5f6107b5610f67565b6107bf8686610be8565b91506107cc828585610a14565b905094509492505050565b5f6107e1826104c3565b608001519050919050565b6107f4610f67565b836107fe816104c3565b60800151610841576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161083890611815565b60405180910390fd5b843273ffffffffffffffffffffffffffffffffffffffff16610862826104c3565b6020015173ffffffffffffffffffffffffffffffffffffffff16146108bc576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016108b39061187d565b60405180910390fd5b6108c9868686325f610c09565b92507fb911453666f366417698a4814f7be9cb64d9bbcc71450ce377c41a145beb1bbe86846040516108fc9291906113b0565b60405180910390a150509392505050565b610915610f67565b8161091f816104c3565b6080015115610963576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161095a906118e5565b60405180910390fd5b61096f83326001610dd5565b91507fec123f39f743f3b6777e2917ce4a6bb3c4f0b4ecd17f545581d938ab3c2756c583836040516109a29291906113b0565b60405180910390a150919050565b5f82825f82829050036109f8576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016109ef906117ad565b60405180910390fd5b610a0a610a058686610be8565b6107d7565b9250505092915050565b610a1c610f67565b83610a26816104c3565b6080015115610a6a576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610a61906118e5565b60405180910390fd5b610a78858585326001610c09565b91507fec123f39f743f3b6777e2917ce4a6bb3c4f0b4ecd17f545581d938ab3c2756c58583604051610aab9291906113b0565b60405180910390a1509392505050565b5f81805190602001209050919050565b610ad3610f67565b81610add816104c3565b60800151610b20576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b1790611815565b60405180910390fd5b823273ffffffffffffffffffffffffffffffffffffffff16610b41826104c3565b6020015173ffffffffffffffffffffffffffffffffffffffff1614610b9b576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b929061187d565b60405180910390fd5b610ba684325f610dd5565b92507fb911453666f366417698a4814f7be9cb64d9bbcc71450ce377c41a145beb1bbe8484604051610bd99291906113b0565b60405180910390a15050919050565b5f8282604051610bf9929190611931565b6040518091039020905092915050565b610c11610f67565b855f602060ff1603610c58576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610c4f90611993565b60405180910390fd5b85858080601f0160208091040260200160405190810160405280939291908181526020018383808284375f81840152601f19601f82011690508083019250505050505050825f018190525083826020019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff16815250504263ffffffff1682604001818152505043826060018181525050828260800190151590811515815250505f808881526020019081526020015f2082908060018154018082558091505060019003905f5260205f2090600502015f909190919091505f820151815f019081610d4f9190611b4e565b506020820151816001015f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060408201518160020155606082015181600301556080820151816004015f6101000a81548160ff02191690831515021790555050505095945050505050565b610ddd610f67565b835f602060ff1603610e24576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610e1b90611993565b60405180910390fd5b610e2d856104c3565b5f0151825f018190525083826020019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff16815250504263ffffffff1682604001818152505043826060018181525050828260800190151590811515815250505f808681526020019081526020015f2082908060018154018082558091505060019003905f5260205f2090600502015f909190919091505f820151815f019081610ee39190611b4e565b506020820151816001015f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060408201518160020155606082015181600301556080820151816004015f6101000a81548160ff0219169083151502179055505050509392505050565b6040518060a00160405280606081526020015f73ffffffffffffffffffffffffffffffffffffffff1681526020015f81526020015f81526020015f151581525090565b5f604051905090565b5f80fd5b5f80fd5b5f819050919050565b610fcd81610fbb565b8114610fd7575f80fd5b50565b5f81359050610fe881610fc4565b92915050565b5f6020828403121561100357611002610fb3565b5b5f61101084828501610fda565b91505092915050565b5f81519050919050565b5f82825260208201905092915050565b5f819050602082019050919050565b5f81519050919050565b5f82825260208201905092915050565b5f5b8381101561107957808201518184015260208101905061105e565b5f8484015250505050565b5f601f19601f8301169050919050565b5f61109e82611042565b6110a8818561104c565b93506110b881856020860161105c565b6110c181611084565b840191505092915050565b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6110f5826110cc565b9050919050565b611105816110eb565b82525050565b5f819050919050565b61111d8161110b565b82525050565b5f8115159050919050565b61113781611123565b82525050565b5f60a083015f8301518482035f8601526111578282611094565b915050602083015161116c60208601826110fc565b50604083015161117f6040860182611114565b5060608301516111926060860182611114565b5060808301516111a5608086018261112e565b508091505092915050565b5f6111bb838361113d565b905092915050565b5f602082019050919050565b5f6111d982611019565b6111e38185611023565b9350836020820285016111f585611033565b805f5b85811015611230578484038952815161121185826111b0565b945061121c836111c3565b925060208a019950506001810190506111f8565b50829750879550505050505092915050565b5f6020820190508181035f83015261125a81846111cf565b905092915050565b5f60a083015f8301518482035f86015261127c8282611094565b915050602083015161129160208601826110fc565b5060408301516112a46040860182611114565b5060608301516112b76060860182611114565b5060808301516112ca608086018261112e565b508091505092915050565b5f6020820190508181035f8301526112ed8184611262565b905092915050565b5f80fd5b5f80fd5b5f80fd5b5f8083601f840112611316576113156112f5565b5b8235905067ffffffffffffffff811115611333576113326112f9565b5b60208301915083600182028301111561134f5761134e6112fd565b5b9250929050565b5f806020838503121561136c5761136b610fb3565b5b5f83013567ffffffffffffffff81111561138957611388610fb7565b5b61139585828601611301565b92509250509250929050565b6113aa81610fbb565b82525050565b5f6040820190506113c35f8301856113a1565b81810360208301526113d58184611262565b90509392505050565b5f805f80604085870312156113f6576113f5610fb3565b5b5f85013567ffffffffffffffff81111561141357611412610fb7565b5b61141f87828801611301565b9450945050602085013567ffffffffffffffff81111561144257611441610fb7565b5b61144e87828801611301565b925092505092959194509250565b61146581611123565b82525050565b5f60208201905061147e5f83018461145c565b92915050565b5f805f6040848603121561149b5761149a610fb3565b5b5f6114a886828701610fda565b935050602084013567ffffffffffffffff8111156114c9576114c8610fb7565b5b6114d586828701611301565b92509250509250925092565b5f80fd5b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b61151b82611084565b810181811067ffffffffffffffff8211171561153a576115396114e5565b5b80604052505050565b5f61154c610faa565b90506115588282611512565b919050565b5f67ffffffffffffffff821115611577576115766114e5565b5b61158082611084565b9050602081019050919050565b828183375f83830152505050565b5f6115ad6115a88461155d565b611543565b9050828152602081018484840111156115c9576115c86114e1565b5b6115d484828561158d565b509392505050565b5f82601f8301126115f0576115ef6112f5565b5b813561160084826020860161159b565b91505092915050565b5f6020828403121561161e5761161d610fb3565b5b5f82013567ffffffffffffffff81111561163b5761163a610fb7565b5b611647848285016115dc565b91505092915050565b5f6020820190506116635f8301846113a1565b92915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f60028204905060018216806116ad57607f821691505b6020821081036116c0576116bf611669565b5b50919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b5f6116fd8261110b565b91506117088361110b565b92508282039050818111156117205761171f6116c6565b5b92915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52603260045260245ffd5b5f82825260208201905092915050565b7f456d70747920737472696e67206e6f7420616c6c6f7765642e000000000000005f82015250565b5f611797601983611753565b91506117a282611763565b602082019050919050565b5f6020820190508181035f8301526117c48161178b565b9050919050565b7f4e6f74206e6f746172697a65642e0000000000000000000000000000000000005f82015250565b5f6117ff600e83611753565b915061180a826117cb565b602082019050919050565b5f6020820190508181035f83015261182c816117f3565b9050919050565b7f4f6e6c79206f726967696e616c2073656e64657220616c6c6f7765642e0000005f82015250565b5f611867601d83611753565b915061187282611833565b602082019050919050565b5f6020820190508181035f8301526118948161185b565b9050919050565b7f416c7265616479206e6f746172697a65642e00000000000000000000000000005f82015250565b5f6118cf601283611753565b91506118da8261189b565b602082019050919050565b5f6020820190508181035f8301526118fc816118c3565b9050919050565b5f81905092915050565b5f6119188385611903565b935061192583858461158d565b82840190509392505050565b5f61193d82848661190d565b91508190509392505050565b7f4e756c6c2068617368206e6f7420616c6c6f7765642e000000000000000000005f82015250565b5f61197d601683611753565b915061198882611949565b602082019050919050565b5f6020820190508181035f8301526119aa81611971565b9050919050565b5f819050815f5260205f209050919050565b5f6020601f8301049050919050565b5f82821b905092915050565b5f60088302611a0d7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff826119d2565b611a1786836119d2565b95508019841693508086168417925050509392505050565b5f819050919050565b5f611a52611a4d611a488461110b565b611a2f565b61110b565b9050919050565b5f819050919050565b611a6b83611a38565b611a7f611a7782611a59565b8484546119de565b825550505050565b5f90565b611a93611a87565b611a9e818484611a62565b505050565b5b81811015611ac157611ab65f82611a8b565b600181019050611aa4565b5050565b601f821115611b0657611ad7816119b1565b611ae0846119c3565b81016020851015611aef578190505b611b03611afb856119c3565b830182611aa3565b50505b505050565b5f82821c905092915050565b5f611b265f1984600802611b0b565b1980831691505092915050565b5f611b3e8383611b17565b9150826002028217905092915050565b611b5782611042565b67ffffffffffffffff811115611b7057611b6f6114e5565b5b611b7a8254611696565b611b85828285611ac5565b5f60209050601f831160018114611bb6575f8415611ba4578287015190505b611bae8582611b33565b865550611c15565b601f198416611bc4866119b1565b5f5b82811015611beb57848901518255600182019150602085019450602081019050611bc6565b86831015611c085784890151611c04601f891682611b17565b8355505b6001600288020188555050505b50505050505056fea26469706673582212209c1c916e670759bf82e13284c3c1ee2ba8f9e580f3fcb0f13901f5313bdef71164736f6c63430008180033",
        "bytecodeType": "str",
        "abi": "[ \t{ \t\t\"anonymous\": false, \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"indexed\": false, \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"\", \t\t\t\t\"type\": \"bytes32\" \t\t\t}, \t\t\t{ \t\t\t\t\"components\": [ \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"string\", \t\t\t\t\t\t\"name\": \"description\", \t\t\t\t\t\t\"type\": \"string\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"address\", \t\t\t\t\t\t\"name\": \"provider\", \t\t\t\t\t\t\"type\": \"address\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"timestamp\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"blockNumber\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"bool\", \t\t\t\t\t\t\"name\": \"isNotarized\", \t\t\t\t\t\t\"type\": \"bool\" \t\t\t\t\t} \t\t\t\t], \t\t\t\t\"indexed\": false, \t\t\t\t\"internalType\": \"struct ProofOfExistence.Proof\", \t\t\t\t\"name\": \"\", \t\t\t\t\"type\": \"tuple\" \t\t\t} \t\t], \t\t\"name\": \"Notarized\", \t\t\"type\": \"event\" \t}, \t{ \t\t\"anonymous\": false, \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"indexed\": false, \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"\", \t\t\t\t\"type\": \"bytes32\" \t\t\t}, \t\t\t{ \t\t\t\t\"components\": [ \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"string\", \t\t\t\t\t\t\"name\": \"description\", \t\t\t\t\t\t\"type\": \"string\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"address\", \t\t\t\t\t\t\"name\": \"provider\", \t\t\t\t\t\t\"type\": \"address\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"timestamp\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"blockNumber\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"bool\", \t\t\t\t\t\t\"name\": \"isNotarized\", \t\t\t\t\t\t\"type\": \"bool\" \t\t\t\t\t} \t\t\t\t], \t\t\t\t\"indexed\": false, \t\t\t\t\"internalType\": \"struct ProofOfExistence.Proof\", \t\t\t\t\"name\": \"\", \t\t\t\t\"type\": \"tuple\" \t\t\t} \t\t], \t\t\"name\": \"Nullified\", \t\t\"type\": \"event\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"string\", \t\t\t\t\"name\": \"document\", \t\t\t\t\"type\": \"string\" \t\t\t}, \t\t\t{ \t\t\t\t\"internalType\": \"string\", \t\t\t\t\"name\": \"metadata\", \t\t\t\t\"type\": \"string\" \t\t\t} \t\t], \t\t\"name\": \"cancel\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"hash\", \t\t\t\t\"type\": \"bytes32\" \t\t\t}, \t\t\t{ \t\t\t\t\"components\": [ \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"string\", \t\t\t\t\t\t\"name\": \"description\", \t\t\t\t\t\t\"type\": \"string\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"address\", \t\t\t\t\t\t\"name\": \"provider\", \t\t\t\t\t\t\"type\": \"address\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"timestamp\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"blockNumber\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"bool\", \t\t\t\t\t\t\"name\": \"isNotarized\", \t\t\t\t\t\t\"type\": \"bool\" \t\t\t\t\t} \t\t\t\t], \t\t\t\t\"internalType\": \"struct ProofOfExistence.Proof\", \t\t\t\t\"name\": \"proof\", \t\t\t\t\"type\": \"tuple\" \t\t\t} \t\t], \t\t\"stateMutability\": \"nonpayable\", \t\t\"type\": \"function\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"string\", \t\t\t\t\"name\": \"document\", \t\t\t\t\"type\": \"string\" \t\t\t} \t\t], \t\t\"name\": \"cancelDocumentOnly\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"hash\", \t\t\t\t\"type\": \"bytes32\" \t\t\t}, \t\t\t{ \t\t\t\t\"components\": [ \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"string\", \t\t\t\t\t\t\"name\": \"description\", \t\t\t\t\t\t\"type\": \"string\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"address\", \t\t\t\t\t\t\"name\": \"provider\", \t\t\t\t\t\t\"type\": \"address\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"timestamp\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"blockNumber\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"bool\", \t\t\t\t\t\t\"name\": \"isNotarized\", \t\t\t\t\t\t\"type\": \"bool\" \t\t\t\t\t} \t\t\t\t], \t\t\t\t\"internalType\": \"struct ProofOfExistence.Proof\", \t\t\t\t\"name\": \"proof\", \t\t\t\t\"type\": \"tuple\" \t\t\t} \t\t], \t\t\"stateMutability\": \"nonpayable\", \t\t\"type\": \"function\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"string\", \t\t\t\t\"name\": \"document\", \t\t\t\t\"type\": \"string\" \t\t\t}, \t\t\t{ \t\t\t\t\"internalType\": \"string\", \t\t\t\t\"name\": \"metadata\", \t\t\t\t\"type\": \"string\" \t\t\t} \t\t], \t\t\"name\": \"certify\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"hash\", \t\t\t\t\"type\": \"bytes32\" \t\t\t}, \t\t\t{ \t\t\t\t\"components\": [ \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"string\", \t\t\t\t\t\t\"name\": \"description\", \t\t\t\t\t\t\"type\": \"string\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"address\", \t\t\t\t\t\t\"name\": \"provider\", \t\t\t\t\t\t\"type\": \"address\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"timestamp\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"blockNumber\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"bool\", \t\t\t\t\t\t\"name\": \"isNotarized\", \t\t\t\t\t\t\"type\": \"bool\" \t\t\t\t\t} \t\t\t\t], \t\t\t\t\"internalType\": \"struct ProofOfExistence.Proof\", \t\t\t\t\"name\": \"proof\", \t\t\t\t\"type\": \"tuple\" \t\t\t} \t\t], \t\t\"stateMutability\": \"nonpayable\", \t\t\"type\": \"function\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"string\", \t\t\t\t\"name\": \"document\", \t\t\t\t\"type\": \"string\" \t\t\t} \t\t], \t\t\"name\": \"certifyDocumentOnly\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"hash\", \t\t\t\t\"type\": \"bytes32\" \t\t\t}, \t\t\t{ \t\t\t\t\"components\": [ \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"string\", \t\t\t\t\t\t\"name\": \"description\", \t\t\t\t\t\t\"type\": \"string\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"address\", \t\t\t\t\t\t\"name\": \"provider\", \t\t\t\t\t\t\"type\": \"address\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"timestamp\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"blockNumber\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"bool\", \t\t\t\t\t\t\"name\": \"isNotarized\", \t\t\t\t\t\t\"type\": \"bool\" \t\t\t\t\t} \t\t\t\t], \t\t\t\t\"internalType\": \"struct ProofOfExistence.Proof\", \t\t\t\t\"name\": \"proof\", \t\t\t\t\"type\": \"tuple\" \t\t\t} \t\t], \t\t\"stateMutability\": \"nonpayable\", \t\t\"type\": \"function\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"string\", \t\t\t\t\"name\": \"document\", \t\t\t\t\"type\": \"string\" \t\t\t} \t\t], \t\t\"name\": \"check\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bool\", \t\t\t\t\"name\": \"state\", \t\t\t\t\"type\": \"bool\" \t\t\t} \t\t], \t\t\"stateMutability\": \"view\", \t\t\"type\": \"function\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"string\", \t\t\t\t\"name\": \"document\", \t\t\t\t\"type\": \"string\" \t\t\t} \t\t], \t\t\"name\": \"createProofHash\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"hash\", \t\t\t\t\"type\": \"bytes32\" \t\t\t} \t\t], \t\t\"stateMutability\": \"pure\", \t\t\"type\": \"function\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"hash\", \t\t\t\t\"type\": \"bytes32\" \t\t\t} \t\t], \t\t\"name\": \"getHistory\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"components\": [ \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"string\", \t\t\t\t\t\t\"name\": \"description\", \t\t\t\t\t\t\"type\": \"string\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"address\", \t\t\t\t\t\t\"name\": \"provider\", \t\t\t\t\t\t\"type\": \"address\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"timestamp\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"blockNumber\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"bool\", \t\t\t\t\t\t\"name\": \"isNotarized\", \t\t\t\t\t\t\"type\": \"bool\" \t\t\t\t\t} \t\t\t\t], \t\t\t\t\"internalType\": \"struct ProofOfExistence.Proof[]\", \t\t\t\t\"name\": \"history\", \t\t\t\t\"type\": \"tuple[]\" \t\t\t} \t\t], \t\t\"stateMutability\": \"view\", \t\t\"type\": \"function\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"hash\", \t\t\t\t\"type\": \"bytes32\" \t\t\t} \t\t], \t\t\"name\": \"getProof\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"components\": [ \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"string\", \t\t\t\t\t\t\"name\": \"description\", \t\t\t\t\t\t\"type\": \"string\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"address\", \t\t\t\t\t\t\"name\": \"provider\", \t\t\t\t\t\t\"type\": \"address\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"timestamp\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"blockNumber\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"bool\", \t\t\t\t\t\t\"name\": \"isNotarized\", \t\t\t\t\t\t\"type\": \"bool\" \t\t\t\t\t} \t\t\t\t], \t\t\t\t\"internalType\": \"struct ProofOfExistence.Proof\", \t\t\t\t\"name\": \"proof\", \t\t\t\t\"type\": \"tuple\" \t\t\t} \t\t], \t\t\"stateMutability\": \"view\", \t\t\"type\": \"function\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"hash\", \t\t\t\t\"type\": \"bytes32\" \t\t\t}, \t\t\t{ \t\t\t\t\"internalType\": \"string\", \t\t\t\t\"name\": \"metadata\", \t\t\t\t\"type\": \"string\" \t\t\t} \t\t], \t\t\"name\": \"notarize\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"components\": [ \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"string\", \t\t\t\t\t\t\"name\": \"description\", \t\t\t\t\t\t\"type\": \"string\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"address\", \t\t\t\t\t\t\"name\": \"provider\", \t\t\t\t\t\t\"type\": \"address\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"timestamp\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"blockNumber\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"bool\", \t\t\t\t\t\t\"name\": \"isNotarized\", \t\t\t\t\t\t\"type\": \"bool\" \t\t\t\t\t} \t\t\t\t], \t\t\t\t\"internalType\": \"struct ProofOfExistence.Proof\", \t\t\t\t\"name\": \"proof\", \t\t\t\t\"type\": \"tuple\" \t\t\t} \t\t], \t\t\"stateMutability\": \"nonpayable\", \t\t\"type\": \"function\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"hash\", \t\t\t\t\"type\": \"bytes32\" \t\t\t} \t\t], \t\t\"name\": \"notarizeHashOnly\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"components\": [ \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"string\", \t\t\t\t\t\t\"name\": \"description\", \t\t\t\t\t\t\"type\": \"string\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"address\", \t\t\t\t\t\t\"name\": \"provider\", \t\t\t\t\t\t\"type\": \"address\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"timestamp\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"blockNumber\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"bool\", \t\t\t\t\t\t\"name\": \"isNotarized\", \t\t\t\t\t\t\"type\": \"bool\" \t\t\t\t\t} \t\t\t\t], \t\t\t\t\"internalType\": \"struct ProofOfExistence.Proof\", \t\t\t\t\"name\": \"proof\", \t\t\t\t\"type\": \"tuple\" \t\t\t} \t\t], \t\t\"stateMutability\": \"nonpayable\", \t\t\"type\": \"function\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"hash\", \t\t\t\t\"type\": \"bytes32\" \t\t\t}, \t\t\t{ \t\t\t\t\"internalType\": \"string\", \t\t\t\t\"name\": \"metadata\", \t\t\t\t\"type\": \"string\" \t\t\t} \t\t], \t\t\"name\": \"nullify\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"components\": [ \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"string\", \t\t\t\t\t\t\"name\": \"description\", \t\t\t\t\t\t\"type\": \"string\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"address\", \t\t\t\t\t\t\"name\": \"provider\", \t\t\t\t\t\t\"type\": \"address\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"timestamp\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"blockNumber\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"bool\", \t\t\t\t\t\t\"name\": \"isNotarized\", \t\t\t\t\t\t\"type\": \"bool\" \t\t\t\t\t} \t\t\t\t], \t\t\t\t\"internalType\": \"struct ProofOfExistence.Proof\", \t\t\t\t\"name\": \"proof\", \t\t\t\t\"type\": \"tuple\" \t\t\t} \t\t], \t\t\"stateMutability\": \"nonpayable\", \t\t\"type\": \"function\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"hash\", \t\t\t\t\"type\": \"bytes32\" \t\t\t} \t\t], \t\t\"name\": \"nullifyHashOnly\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"components\": [ \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"string\", \t\t\t\t\t\t\"name\": \"description\", \t\t\t\t\t\t\"type\": \"string\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"address\", \t\t\t\t\t\t\"name\": \"provider\", \t\t\t\t\t\t\"type\": \"address\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"timestamp\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"blockNumber\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"bool\", \t\t\t\t\t\t\"name\": \"isNotarized\", \t\t\t\t\t\t\"type\": \"bool\" \t\t\t\t\t} \t\t\t\t], \t\t\t\t\"internalType\": \"struct ProofOfExistence.Proof\", \t\t\t\t\"name\": \"proof\", \t\t\t\t\"type\": \"tuple\" \t\t\t} \t\t], \t\t\"stateMutability\": \"nonpayable\", \t\t\"type\": \"function\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"hash\", \t\t\t\t\"type\": \"bytes32\" \t\t\t} \t\t], \t\t\"name\": \"verify\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bool\", \t\t\t\t\"name\": \"state\", \t\t\t\t\"type\": \"bool\" \t\t\t} \t\t], \t\t\"stateMutability\": \"view\", \t\t\"type\": \"function\" \t} ]",
        "abiType": "json"
    },
    {
        "id": "f48988c5bc162b95",
        "type": "ethers-rpc",
        "name": "Ganache (docker)",
        "rpc": "http://ganache:7545"
    },
    {
        "id": "5a57ea1de491190d",
        "type": "ethers-contract",
        "name": "PoE v7",
        "bytecode": "608060405234801561001057600080fd5b506113ca806100206000396000f3fe608060405234801561001057600080fd5b50600436106100885760003560e01c8063b6f921ad1161005b578063b6f921ad1461014f578063d00779451461017f578063e8f9d7ff146101af578063f39ec1f7146101df57610088565b80630b4f3f3d1461008d5780637044c63c146100be57806375e36616146100ef578063a6906e471461011f575b600080fd5b6100a760048036038101906100a29190610a45565b61020f565b6040516100b5929190610be5565b60405180910390f35b6100d860048036038101906100d39190610c15565b61027a565b6040516100e6929190610be5565b60405180910390f35b61010960048036038101906101049190610cc2565b6102e9565b6040516101169190610d0a565b60405180910390f35b61013960048036038101906101349190610cc2565b61030b565b6040516101469190610d25565b60405180910390f35b61016960048036038101906101649190610a45565b61061b565b6040516101769190610d0a565b60405180910390f35b61019960048036038101906101949190610d47565b61067a565b6040516101a69190610d25565b60405180910390f35b6101c960048036038101906101c49190610ed7565b61080e565b6040516101d69190610f20565b60405180910390f35b6101f960048036038101906101f49190610cc2565b61081f565b6040516102069190610d25565b60405180910390f35b6000610219610995565b61026684848080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f8201169050808301925050505050505061080e565b91506102718261030b565b90509250929050565b6000610284610995565b6102d186868080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f8201169050808301925050505050505061080e565b91506102de82858561067a565b905094509492505050565b6000806000808481526020019081526020016000206002015414159050919050565b610313610995565b6000806000848152602001908152602001600020600201540361036b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161036290610f98565b60405180910390fd5b60008083815260200190815260200160002060010160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161461040e576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016104059061102a565b60405180910390fd5b60008083815260200190815260200160002060405180606001604052908160008201805461043b90611079565b80601f016020809104026020016040519081016040528092919081815260200182805461046790611079565b80156104b45780601f10610489576101008083540402835291602001916104b4565b820191906000526020600020905b81548152906001019060200180831161049757829003601f168201915b505050505081526020016001820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200160028201548152505090506040518060600160405280604051806020016040528060008152508152602001600073ffffffffffffffffffffffffffffffffffffffff168152602001600081525060008084815260200190815260200160002060008201518160000190816105889190611256565b5060208201518160010160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550604082015181600201559050507f3894d0d671a0ba5cb9becc9df18a059bc30cf54044f7549f2c7036e71c092d3b828260405161060e929190610be5565b60405180910390a1919050565b600061067261066d84848080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f8201169050808301925050505050505061080e565b6102e9565b905092915050565b610682610995565b600080600086815260200190815260200160002060020154146106da576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016106d190611374565b60405180910390fd5b604051806060016040528084848080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f8201169050808301925050505050505081526020013373ffffffffffffffffffffffffffffffffffffffff1681526020014281525090508060008086815260200190815260200160002060008201518160000190816107799190611256565b5060208201518160010160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550604082015181600201559050507f5df4bad8ec62fa4b9e061732961c58a3682eabbadab59dc67a89c0a3d721998c84826040516107ff929190610be5565b60405180910390a19392505050565b600081805190602001209050919050565b610827610995565b6000806000848152602001908152602001600020600201540361087f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161087690610f98565b60405180910390fd5b6000808381526020019081526020016000206040518060600160405290816000820180546108ac90611079565b80601f01602080910402602001604051908101604052809291908181526020018280546108d890611079565b80156109255780601f106108fa57610100808354040283529160200191610925565b820191906000526020600020905b81548152906001019060200180831161090857829003601f168201915b505050505081526020016001820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020016002820154815250509050919050565b604051806060016040528060608152602001600073ffffffffffffffffffffffffffffffffffffffff168152602001600081525090565b6000604051905090565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610a0557610a046109e0565b5b8235905067ffffffffffffffff811115610a2257610a216109e5565b5b602083019150836001820283011115610a3e57610a3d6109ea565b5b9250929050565b60008060208385031215610a5c57610a5b6109d6565b5b600083013567ffffffffffffffff811115610a7a57610a796109db565b5b610a86858286016109ef565b92509250509250929050565b6000819050919050565b610aa581610a92565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610ae5578082015181840152602081019050610aca565b60008484015250505050565b6000601f19601f8301169050919050565b6000610b0d82610aab565b610b178185610ab6565b9350610b27818560208601610ac7565b610b3081610af1565b840191505092915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000610b6682610b3b565b9050919050565b610b7681610b5b565b82525050565b6000819050919050565b610b8f81610b7c565b82525050565b60006060830160008301518482036000860152610bb28282610b02565b9150506020830151610bc76020860182610b6d565b506040830151610bda6040860182610b86565b508091505092915050565b6000604082019050610bfa6000830185610a9c565b8181036020830152610c0c8184610b95565b90509392505050565b60008060008060408587031215610c2f57610c2e6109d6565b5b600085013567ffffffffffffffff811115610c4d57610c4c6109db565b5b610c59878288016109ef565b9450945050602085013567ffffffffffffffff811115610c7c57610c7b6109db565b5b610c88878288016109ef565b925092505092959194509250565b610c9f81610a92565b8114610caa57600080fd5b50565b600081359050610cbc81610c96565b92915050565b600060208284031215610cd857610cd76109d6565b5b6000610ce684828501610cad565b91505092915050565b60008115159050919050565b610d0481610cef565b82525050565b6000602082019050610d1f6000830184610cfb565b92915050565b60006020820190508181036000830152610d3f8184610b95565b905092915050565b600080600060408486031215610d6057610d5f6109d6565b5b6000610d6e86828701610cad565b935050602084013567ffffffffffffffff811115610d8f57610d8e6109db565b5b610d9b868287016109ef565b92509250509250925092565b600080fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b610de482610af1565b810181811067ffffffffffffffff82111715610e0357610e02610dac565b5b80604052505050565b6000610e166109cc565b9050610e228282610ddb565b919050565b600067ffffffffffffffff821115610e4257610e41610dac565b5b610e4b82610af1565b9050602081019050919050565b82818337600083830152505050565b6000610e7a610e7584610e27565b610e0c565b905082815260208101848484011115610e9657610e95610da7565b5b610ea1848285610e58565b509392505050565b600082601f830112610ebe57610ebd6109e0565b5b8135610ece848260208601610e67565b91505092915050565b600060208284031215610eed57610eec6109d6565b5b600082013567ffffffffffffffff811115610f0b57610f0a6109db565b5b610f1784828501610ea9565b91505092915050565b6000602082019050610f356000830184610a9c565b92915050565b600082825260208201905092915050565b7f50726f6f66206e6f74206e6f746172697a65642e000000000000000000000000600082015250565b6000610f82601483610f3b565b9150610f8d82610f4c565b602082019050919050565b60006020820190508181036000830152610fb181610f75565b9050919050565b7f4f6e6c79207468652070726f76696465722063616e206e756c6c69667920746860008201527f652070726f6f662e000000000000000000000000000000000000000000000000602082015250565b6000611014602883610f3b565b915061101f82610fb8565b604082019050919050565b6000602082019050818103600083015261104381611007565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b6000600282049050600182168061109157607f821691505b6020821081036110a4576110a361104a565b5b50919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b60006008830261110c7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff826110cf565b61111686836110cf565b95508019841693508086168417925050509392505050565b6000819050919050565b600061115361114e61114984610b7c565b61112e565b610b7c565b9050919050565b6000819050919050565b61116d83611138565b6111816111798261115a565b8484546110dc565b825550505050565b600090565b611196611189565b6111a1818484611164565b505050565b5b818110156111c5576111ba60008261118e565b6001810190506111a7565b5050565b601f82111561120a576111db816110aa565b6111e4846110bf565b810160208510156111f3578190505b6112076111ff856110bf565b8301826111a6565b50505b505050565b600082821c905092915050565b600061122d6000198460080261120f565b1980831691505092915050565b6000611246838361121c565b9150826002028217905092915050565b61125f82610aab565b67ffffffffffffffff81111561127857611277610dac565b5b6112828254611079565b61128d8282856111c9565b600060209050601f8311600181146112c057600084156112ae578287015190505b6112b8858261123a565b865550611320565b601f1984166112ce866110aa565b60005b828110156112f6578489015182556001820191506020850194506020810190506112d1565b86831015611313578489015161130f601f89168261121c565b8355505b6001600288020188555050505b505050505050565b7f50726f6f6620616c7265616479206e6f746172697a65642e0000000000000000600082015250565b600061135e601883610f3b565b915061136982611328565b602082019050919050565b6000602082019050818103600083015261138d81611351565b905091905056fea2646970667358221220908fb70d65992f030dd92c42e1944ccf0428c6037775b16dd7c417b3c0cd31a564736f6c63430008120033",
        "bytecodeType": "str",
        "abi": "[ \t{ \t\t\"anonymous\": false, \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"indexed\": false, \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"\", \t\t\t\t\"type\": \"bytes32\" \t\t\t}, \t\t\t{ \t\t\t\t\"components\": [ \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"string\", \t\t\t\t\t\t\"name\": \"information\", \t\t\t\t\t\t\"type\": \"string\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"address\", \t\t\t\t\t\t\"name\": \"provider\", \t\t\t\t\t\t\"type\": \"address\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"timestamp\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t} \t\t\t\t], \t\t\t\t\"indexed\": false, \t\t\t\t\"internalType\": \"struct ProofOfExistence.Proof\", \t\t\t\t\"name\": \"\", \t\t\t\t\"type\": \"tuple\" \t\t\t} \t\t], \t\t\"name\": \"Notarized\", \t\t\"type\": \"event\" \t}, \t{ \t\t\"anonymous\": false, \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"indexed\": false, \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"\", \t\t\t\t\"type\": \"bytes32\" \t\t\t}, \t\t\t{ \t\t\t\t\"components\": [ \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"string\", \t\t\t\t\t\t\"name\": \"information\", \t\t\t\t\t\t\"type\": \"string\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"address\", \t\t\t\t\t\t\"name\": \"provider\", \t\t\t\t\t\t\"type\": \"address\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"timestamp\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t} \t\t\t\t], \t\t\t\t\"indexed\": false, \t\t\t\t\"internalType\": \"struct ProofOfExistence.Proof\", \t\t\t\t\"name\": \"\", \t\t\t\t\"type\": \"tuple\" \t\t\t} \t\t], \t\t\"name\": \"Nullified\", \t\t\"type\": \"event\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"string\", \t\t\t\t\"name\": \"document\", \t\t\t\t\"type\": \"string\" \t\t\t} \t\t], \t\t\"name\": \"cancel\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"hash\", \t\t\t\t\"type\": \"bytes32\" \t\t\t}, \t\t\t{ \t\t\t\t\"components\": [ \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"string\", \t\t\t\t\t\t\"name\": \"information\", \t\t\t\t\t\t\"type\": \"string\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"address\", \t\t\t\t\t\t\"name\": \"provider\", \t\t\t\t\t\t\"type\": \"address\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"timestamp\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t} \t\t\t\t], \t\t\t\t\"internalType\": \"struct ProofOfExistence.Proof\", \t\t\t\t\"name\": \"proof\", \t\t\t\t\"type\": \"tuple\" \t\t\t} \t\t], \t\t\"stateMutability\": \"nonpayable\", \t\t\"type\": \"function\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"string\", \t\t\t\t\"name\": \"document\", \t\t\t\t\"type\": \"string\" \t\t\t}, \t\t\t{ \t\t\t\t\"internalType\": \"string\", \t\t\t\t\"name\": \"info\", \t\t\t\t\"type\": \"string\" \t\t\t} \t\t], \t\t\"name\": \"certify\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"hash\", \t\t\t\t\"type\": \"bytes32\" \t\t\t}, \t\t\t{ \t\t\t\t\"components\": [ \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"string\", \t\t\t\t\t\t\"name\": \"information\", \t\t\t\t\t\t\"type\": \"string\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"address\", \t\t\t\t\t\t\"name\": \"provider\", \t\t\t\t\t\t\"type\": \"address\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"timestamp\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t} \t\t\t\t], \t\t\t\t\"internalType\": \"struct ProofOfExistence.Proof\", \t\t\t\t\"name\": \"proof\", \t\t\t\t\"type\": \"tuple\" \t\t\t} \t\t], \t\t\"stateMutability\": \"nonpayable\", \t\t\"type\": \"function\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"string\", \t\t\t\t\"name\": \"document\", \t\t\t\t\"type\": \"string\" \t\t\t} \t\t], \t\t\"name\": \"check\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bool\", \t\t\t\t\"name\": \"result\", \t\t\t\t\"type\": \"bool\" \t\t\t} \t\t], \t\t\"stateMutability\": \"view\", \t\t\"type\": \"function\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"string\", \t\t\t\t\"name\": \"document\", \t\t\t\t\"type\": \"string\" \t\t\t} \t\t], \t\t\"name\": \"digest\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"hash\", \t\t\t\t\"type\": \"bytes32\" \t\t\t} \t\t], \t\t\"stateMutability\": \"pure\", \t\t\"type\": \"function\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"hash\", \t\t\t\t\"type\": \"bytes32\" \t\t\t} \t\t], \t\t\"name\": \"lookup\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"components\": [ \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"string\", \t\t\t\t\t\t\"name\": \"information\", \t\t\t\t\t\t\"type\": \"string\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"address\", \t\t\t\t\t\t\"name\": \"provider\", \t\t\t\t\t\t\"type\": \"address\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"timestamp\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t} \t\t\t\t], \t\t\t\t\"internalType\": \"struct ProofOfExistence.Proof\", \t\t\t\t\"name\": \"proof\", \t\t\t\t\"type\": \"tuple\" \t\t\t} \t\t], \t\t\"stateMutability\": \"view\", \t\t\"type\": \"function\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"hash\", \t\t\t\t\"type\": \"bytes32\" \t\t\t}, \t\t\t{ \t\t\t\t\"internalType\": \"string\", \t\t\t\t\"name\": \"info\", \t\t\t\t\"type\": \"string\" \t\t\t} \t\t], \t\t\"name\": \"notarize\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"components\": [ \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"string\", \t\t\t\t\t\t\"name\": \"information\", \t\t\t\t\t\t\"type\": \"string\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"address\", \t\t\t\t\t\t\"name\": \"provider\", \t\t\t\t\t\t\"type\": \"address\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"timestamp\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t} \t\t\t\t], \t\t\t\t\"internalType\": \"struct ProofOfExistence.Proof\", \t\t\t\t\"name\": \"proof\", \t\t\t\t\"type\": \"tuple\" \t\t\t} \t\t], \t\t\"stateMutability\": \"nonpayable\", \t\t\"type\": \"function\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"hash\", \t\t\t\t\"type\": \"bytes32\" \t\t\t} \t\t], \t\t\"name\": \"nullify\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"components\": [ \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"string\", \t\t\t\t\t\t\"name\": \"information\", \t\t\t\t\t\t\"type\": \"string\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"address\", \t\t\t\t\t\t\"name\": \"provider\", \t\t\t\t\t\t\"type\": \"address\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"timestamp\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t} \t\t\t\t], \t\t\t\t\"internalType\": \"struct ProofOfExistence.Proof\", \t\t\t\t\"name\": \"proof\", \t\t\t\t\"type\": \"tuple\" \t\t\t} \t\t], \t\t\"stateMutability\": \"nonpayable\", \t\t\"type\": \"function\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"hash\", \t\t\t\t\"type\": \"bytes32\" \t\t\t} \t\t], \t\t\"name\": \"verify\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bool\", \t\t\t\t\"name\": \"result\", \t\t\t\t\"type\": \"bool\" \t\t\t} \t\t], \t\t\"stateMutability\": \"view\", \t\t\"type\": \"function\" \t} ]",
        "abiType": "json"
    },
    {
        "id": "63ac671491a13a4b",
        "type": "ethers-credentials",
        "name": "Ganache (1) 0x037bB274D93f4Db069AC961d653a807E4E7c5A48",
        "chainId": "1337",
        "rpc": "f48988c5bc162b95",
        "credentialType": "privatekey"
    },
    {
        "id": "f75517d86e7efbf3",
        "type": "ethers-contract",
        "name": "PoE v5",
        "bytecode": "608060405234801561000f575f80fd5b50610e098061001d5f395ff3fe608060405234801561000f575f80fd5b5060043610610060575f3560e01c80631b80bb3a146100645780637044c63c1461009457806375e36616146100c5578063b6f921ad146100f5578063d007794514610125578063eb9316c014610155575b5f80fd5b61007e6004803603810190610079919061059a565b610185565b60405161008b91906106f3565b60405180910390f35b6100ae60048036038101906100a99190610774565b61029d565b6040516100bc929190610801565b60405180910390f35b6100df60048036038101906100da919061059a565b61030a565b6040516100ec9190610849565b60405180910390f35b61010f600480360381019061010a9190610862565b610329565b60405161011c9190610849565b60405180910390f35b61013f600480360381019061013a91906108ad565b610386565b60405161014c91906106f3565b60405180910390f35b61016f600480360381019061016a9190610a32565b610511565b60405161017c9190610a79565b60405180910390f35b61018d610521565b5f808381526020019081526020015f206040518060600160405290815f820180546101b790610abf565b80601f01602080910402602001604051908101604052809291908181526020018280546101e390610abf565b801561022e5780601f106102055761010080835404028352916020019161022e565b820191905f5260205f20905b81548152906001019060200180831161021157829003601f168201915b50505050508152602001600182015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020016002820154815250509050919050565b5f6102a6610521565b6102f286868080601f0160208091040260200160405190810160405280939291908181526020018383808284375f81840152601f19601f82011690508083019250505050505050610511565b91506102ff828585610386565b905094509492505050565b5f805f808481526020019081526020015f206002015414159050919050565b5f61037e61037984848080601f0160208091040260200160405190810160405280939291908181526020018383808284375f81840152601f19601f82011690508083019250505050505050610511565b61030a565b905092915050565b61038e610521565b5f805f8681526020019081526020015f2060020154146103e3576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016103da90610b49565b60405180910390fd5b604051806060016040528084848080601f0160208091040260200160405190810160405280939291908181526020018383808284375f81840152601f19601f8201169050808301925050505050505081526020013373ffffffffffffffffffffffffffffffffffffffff168152602001428152509050805f808681526020019081526020015f205f820151815f01908161047d9190610d04565b506020820151816001015f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550604082015181600201559050507f5df4bad8ec62fa4b9e061732961c58a3682eabbadab59dc67a89c0a3d721998c8482604051610502929190610801565b60405180910390a19392505050565b5f81805190602001209050919050565b6040518060600160405280606081526020015f73ffffffffffffffffffffffffffffffffffffffff1681526020015f81525090565b5f604051905090565b5f80fd5b5f80fd5b5f819050919050565b61057981610567565b8114610583575f80fd5b50565b5f8135905061059481610570565b92915050565b5f602082840312156105af576105ae61055f565b5b5f6105bc84828501610586565b91505092915050565b5f81519050919050565b5f82825260208201905092915050565b5f5b838110156105fc5780820151818401526020810190506105e1565b5f8484015250505050565b5f601f19601f8301169050919050565b5f610621826105c5565b61062b81856105cf565b935061063b8185602086016105df565b61064481610607565b840191505092915050565b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6106788261064f565b9050919050565b6106888161066e565b82525050565b5f819050919050565b6106a08161068e565b82525050565b5f606083015f8301518482035f8601526106c08282610617565b91505060208301516106d5602086018261067f565b5060408301516106e86040860182610697565b508091505092915050565b5f6020820190508181035f83015261070b81846106a6565b905092915050565b5f80fd5b5f80fd5b5f80fd5b5f8083601f84011261073457610733610713565b5b8235905067ffffffffffffffff81111561075157610750610717565b5b60208301915083600182028301111561076d5761076c61071b565b5b9250929050565b5f805f806040858703121561078c5761078b61055f565b5b5f85013567ffffffffffffffff8111156107a9576107a8610563565b5b6107b58782880161071f565b9450945050602085013567ffffffffffffffff8111156107d8576107d7610563565b5b6107e48782880161071f565b925092505092959194509250565b6107fb81610567565b82525050565b5f6040820190506108145f8301856107f2565b818103602083015261082681846106a6565b90509392505050565b5f8115159050919050565b6108438161082f565b82525050565b5f60208201905061085c5f83018461083a565b92915050565b5f80602083850312156108785761087761055f565b5b5f83013567ffffffffffffffff81111561089557610894610563565b5b6108a18582860161071f565b92509250509250929050565b5f805f604084860312156108c4576108c361055f565b5b5f6108d186828701610586565b935050602084013567ffffffffffffffff8111156108f2576108f1610563565b5b6108fe8682870161071f565b92509250509250925092565b5f80fd5b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b61094482610607565b810181811067ffffffffffffffff821117156109635761096261090e565b5b80604052505050565b5f610975610556565b9050610981828261093b565b919050565b5f67ffffffffffffffff8211156109a05761099f61090e565b5b6109a982610607565b9050602081019050919050565b828183375f83830152505050565b5f6109d66109d184610986565b61096c565b9050828152602081018484840111156109f2576109f161090a565b5b6109fd8482856109b6565b509392505050565b5f82601f830112610a1957610a18610713565b5b8135610a298482602086016109c4565b91505092915050565b5f60208284031215610a4757610a4661055f565b5b5f82013567ffffffffffffffff811115610a6457610a63610563565b5b610a7084828501610a05565b91505092915050565b5f602082019050610a8c5f8301846107f2565b92915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f6002820490506001821680610ad657607f821691505b602082108103610ae957610ae8610a92565b5b50919050565b5f82825260208201905092915050565b7f50726f6f6620616c7265616479206e6f746172697a65642e00000000000000005f82015250565b5f610b33601883610aef565b9150610b3e82610aff565b602082019050919050565b5f6020820190508181035f830152610b6081610b27565b9050919050565b5f819050815f5260205f209050919050565b5f6020601f8301049050919050565b5f82821b905092915050565b5f60088302610bc37fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82610b88565b610bcd8683610b88565b95508019841693508086168417925050509392505050565b5f819050919050565b5f610c08610c03610bfe8461068e565b610be5565b61068e565b9050919050565b5f819050919050565b610c2183610bee565b610c35610c2d82610c0f565b848454610b94565b825550505050565b5f90565b610c49610c3d565b610c54818484610c18565b505050565b5b81811015610c7757610c6c5f82610c41565b600181019050610c5a565b5050565b601f821115610cbc57610c8d81610b67565b610c9684610b79565b81016020851015610ca5578190505b610cb9610cb185610b79565b830182610c59565b50505b505050565b5f82821c905092915050565b5f610cdc5f1984600802610cc1565b1980831691505092915050565b5f610cf48383610ccd565b9150826002028217905092915050565b610d0d826105c5565b67ffffffffffffffff811115610d2657610d2561090e565b5b610d308254610abf565b610d3b828285610c7b565b5f60209050601f831160018114610d6c575f8415610d5a578287015190505b610d648582610ce9565b865550610dcb565b601f198416610d7a86610b67565b5f5b82811015610da157848901518255600182019150602085019450602081019050610d7c565b86831015610dbe5784890151610dba601f891682610ccd565b8355505b6001600288020188555050505b50505050505056fea2646970667358221220952e2e117111b79c791f57db1f078fb7daf7db2c0c41cfff0cc4358fe354db1264736f6c63430008180033",
        "bytecodeType": "str",
        "abi": "[{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"},{\"components\":[{\"internalType\":\"string\",\"name\":\"description\",\"type\":\"string\"},{\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"indexed\":false,\"internalType\":\"struct ProofOfExistence.Proof\",\"name\":\"\",\"type\":\"tuple\"}],\"name\":\"Notarized\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"document\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"desc\",\"type\":\"string\"}],\"name\":\"certify\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"hash\",\"type\":\"bytes32\"},{\"components\":[{\"internalType\":\"string\",\"name\":\"description\",\"type\":\"string\"},{\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"internalType\":\"struct ProofOfExistence.Proof\",\"name\":\"proof\",\"type\":\"tuple\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"document\",\"type\":\"string\"}],\"name\":\"check\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"result\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"document\",\"type\":\"string\"}],\"name\":\"createProofHash\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"hash\",\"type\":\"bytes32\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"hash\",\"type\":\"bytes32\"}],\"name\":\"getProof\",\"outputs\":[{\"components\":[{\"internalType\":\"string\",\"name\":\"description\",\"type\":\"string\"},{\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"internalType\":\"struct ProofOfExistence.Proof\",\"name\":\"proof\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"hash\",\"type\":\"bytes32\"},{\"internalType\":\"string\",\"name\":\"description\",\"type\":\"string\"}],\"name\":\"notarize\",\"outputs\":[{\"components\":[{\"internalType\":\"string\",\"name\":\"description\",\"type\":\"string\"},{\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"internalType\":\"struct ProofOfExistence.Proof\",\"name\":\"proof\",\"type\":\"tuple\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"hash\",\"type\":\"bytes32\"}],\"name\":\"verify\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"result\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"}]",
        "abiType": "json"
    },
    {
        "id": "0604ca7353fa5a18",
        "type": "ethereum-client",
        "name": "Sepolia (chain id: 11155111)",
        "url": "wss://ethereum-sepolia.publicnode.com"
    },
    {
        "id": "013355f336f7c383",
        "type": "ethereum-client",
        "name": "Replit testnet (chain id:1919250540)",
        "url": "https://eth.replit.com"
    },
    {
        "id": "b250872af2defa8d",
        "type": "smart-contract",
        "name": "PoE v5 (Ganache)",
        "ethereumClient": "151efd3e17f2a2d1",
        "address": "0x37F61FAE3Dc0Ca2F6a518bB92b49D74734add547",
        "abi": "[ \t{ \t\t\"anonymous\": false, \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"indexed\": false, \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"\", \t\t\t\t\"type\": \"bytes32\" \t\t\t}, \t\t\t{ \t\t\t\t\"components\": [ \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"string\", \t\t\t\t\t\t\"name\": \"description\", \t\t\t\t\t\t\"type\": \"string\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"address\", \t\t\t\t\t\t\"name\": \"provider\", \t\t\t\t\t\t\"type\": \"address\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"timestamp\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t} \t\t\t\t], \t\t\t\t\"indexed\": false, \t\t\t\t\"internalType\": \"struct ProofOfExistence.Proof\", \t\t\t\t\"name\": \"\", \t\t\t\t\"type\": \"tuple\" \t\t\t} \t\t], \t\t\"name\": \"Notarized\", \t\t\"type\": \"event\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"string\", \t\t\t\t\"name\": \"document\", \t\t\t\t\"type\": \"string\" \t\t\t}, \t\t\t{ \t\t\t\t\"internalType\": \"string\", \t\t\t\t\"name\": \"desc\", \t\t\t\t\"type\": \"string\" \t\t\t} \t\t], \t\t\"name\": \"certify\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"hash\", \t\t\t\t\"type\": \"bytes32\" \t\t\t}, \t\t\t{ \t\t\t\t\"components\": [ \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"string\", \t\t\t\t\t\t\"name\": \"description\", \t\t\t\t\t\t\"type\": \"string\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"address\", \t\t\t\t\t\t\"name\": \"provider\", \t\t\t\t\t\t\"type\": \"address\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"timestamp\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t} \t\t\t\t], \t\t\t\t\"internalType\": \"struct ProofOfExistence.Proof\", \t\t\t\t\"name\": \"proof\", \t\t\t\t\"type\": \"tuple\" \t\t\t} \t\t], \t\t\"stateMutability\": \"nonpayable\", \t\t\"type\": \"function\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"string\", \t\t\t\t\"name\": \"document\", \t\t\t\t\"type\": \"string\" \t\t\t} \t\t], \t\t\"name\": \"check\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bool\", \t\t\t\t\"name\": \"result\", \t\t\t\t\"type\": \"bool\" \t\t\t} \t\t], \t\t\"stateMutability\": \"view\", \t\t\"type\": \"function\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"string\", \t\t\t\t\"name\": \"document\", \t\t\t\t\"type\": \"string\" \t\t\t} \t\t], \t\t\"name\": \"createProofHash\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"hash\", \t\t\t\t\"type\": \"bytes32\" \t\t\t} \t\t], \t\t\"stateMutability\": \"pure\", \t\t\"type\": \"function\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"hash\", \t\t\t\t\"type\": \"bytes32\" \t\t\t} \t\t], \t\t\"name\": \"getProof\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"components\": [ \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"string\", \t\t\t\t\t\t\"name\": \"description\", \t\t\t\t\t\t\"type\": \"string\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"address\", \t\t\t\t\t\t\"name\": \"provider\", \t\t\t\t\t\t\"type\": \"address\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"timestamp\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t} \t\t\t\t], \t\t\t\t\"internalType\": \"struct ProofOfExistence.Proof\", \t\t\t\t\"name\": \"proof\", \t\t\t\t\"type\": \"tuple\" \t\t\t} \t\t], \t\t\"stateMutability\": \"view\", \t\t\"type\": \"function\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"hash\", \t\t\t\t\"type\": \"bytes32\" \t\t\t}, \t\t\t{ \t\t\t\t\"internalType\": \"string\", \t\t\t\t\"name\": \"description\", \t\t\t\t\"type\": \"string\" \t\t\t} \t\t], \t\t\"name\": \"notarize\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"components\": [ \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"string\", \t\t\t\t\t\t\"name\": \"description\", \t\t\t\t\t\t\"type\": \"string\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"address\", \t\t\t\t\t\t\"name\": \"provider\", \t\t\t\t\t\t\"type\": \"address\" \t\t\t\t\t}, \t\t\t\t\t{ \t\t\t\t\t\t\"internalType\": \"uint256\", \t\t\t\t\t\t\"name\": \"timestamp\", \t\t\t\t\t\t\"type\": \"uint256\" \t\t\t\t\t} \t\t\t\t], \t\t\t\t\"internalType\": \"struct ProofOfExistence.Proof\", \t\t\t\t\"name\": \"proof\", \t\t\t\t\"type\": \"tuple\" \t\t\t} \t\t], \t\t\"stateMutability\": \"nonpayable\", \t\t\"type\": \"function\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"hash\", \t\t\t\t\"type\": \"bytes32\" \t\t\t} \t\t], \t\t\"name\": \"verify\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bool\", \t\t\t\t\"name\": \"result\", \t\t\t\t\"type\": \"bool\" \t\t\t} \t\t], \t\t\"stateMutability\": \"view\", \t\t\"type\": \"function\" \t} ]"
    },
    {
        "id": "160ddf0a.756f41",
        "type": "ui_group",
        "name": "Smart contract",
        "tab": "f83ce942.20d488",
        "order": 1,
        "disp": true,
        "width": "17",
        "collapse": false,
        "className": ""
    },
    {
        "id": "4f3d9279.22b82c",
        "type": "ui_group",
        "name": "PIN",
        "tab": "f83ce942.20d488",
        "order": 2,
        "disp": false,
        "width": "1",
        "collapse": false,
        "className": ""
    },
    {
        "id": "6650cd78f119544b",
        "type": "ui_group",
        "name": "Blockchain",
        "tab": "f83ce942.20d488",
        "order": 3,
        "disp": true,
        "width": "13",
        "collapse": false,
        "className": ""
    },
    {
        "id": "f83ce942.20d488",
        "type": "ui_tab",
        "name": "Docs",
        "icon": "fa-book",
        "order": 3,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "d06648c9d2b661da",
        "type": "ethereum-client",
        "name": "Replit testnet (chain id:1919250540)",
        "url": "https://eth.replit.com"
    },
    {
        "id": "088643f4ab11c4cf",
        "type": "ethereum-client",
        "name": "Goerli (Infura RPC)",
        "url": "https://goerli.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"
    },
    {
        "id": "f701a43274ccd342",
        "type": "ui_spacer",
        "z": "2835520133019989",
        "name": "spacer",
        "group": "8bf6217eeefd1458",
        "order": 3,
        "width": 1,
        "height": 1
    },
    {
        "id": "034f76c56f2d3e30",
        "type": "ui_group",
        "name": "Monitoring Layer",
        "tab": "79064d60a1b37fc4",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "776e063e75a19d4d",
        "type": "ui_group",
        "name": "Security Layer",
        "tab": "79064d60a1b37fc4",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "efac37e36504e95b",
        "type": "ui_group",
        "name": "Intrusion Detection",
        "tab": "79064d60a1b37fc4",
        "order": 4,
        "disp": true,
        "width": 6,
        "collapse": false,
        "className": ""
    },
    {
        "id": "abf93112e16b2254",
        "type": "ui_group",
        "name": "Context Broker",
        "tab": "79064d60a1b37fc4",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "8bf6217eeefd1458",
        "type": "ui_group",
        "name": "Anomaly Detection",
        "tab": "79064d60a1b37fc4",
        "order": 5,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "79064d60a1b37fc4",
        "type": "ui_tab",
        "name": "HYPERRIDE",
        "icon": "fa-header",
        "order": 4,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "9c04efd1221c5228",
        "type": "Open APIs",
        "name": "Smart Data Models",
        "geType": "orion",
        "apiEndpoint": "https://smartdatamodels.org:1026",
        "service": "",
        "idmEndpoint": "https://account.lab.fiware.org",
        "idmType": "none"
    },
    {
        "id": "907c553d7533ec10",
        "type": "NGSI-LD broker",
        "name": "Orion-LD (Docker)",
        "brokerType": "orion-ld",
        "apiEndpoint": "http://host.docker.internal:1026",
        "mintaka": "",
        "atContext": "http://node-red:1880/data-models/ngsi-context.jsonld",
        "tenant": "",
        "idmEndpoint": "http://host.docker.internal:3005",
        "idmType": "keyrock"
    },
    {
        "id": "608eef2b7fe25a9c",
        "type": "NGSI-LD broker",
        "name": "test Orion-LD broker",
        "brokerType": "orion-ld",
        "apiEndpoint": "https://smartdatamodels.org:1026/",
        "mintaka": "",
        "atContext": "https://raw.githubusercontent.com/FIWARE/tutorials.CRUD-Operations/NGSI-LD/data-models/ngsi-context.jsonld",
        "tenant": "",
        "idmEndpoint": "",
        "idmType": "none"
    },
    {
        "id": "a085b73ca27873cb",
        "type": "Context-Broker",
        "name": "test Orion-LD brocker",
        "endpoint": "https://smartdatamodels.org:1026",
        "service": "",
        "servicepath": "",
        "idmEndpoint": ""
    },
    {
        "id": "6cf4ec1defe5e72f",
        "type": "ngrokauth",
        "name": "asmterniproton.me"
    },
    {
        "id": "066ecaa01951305b",
        "type": "NGSI-LD broker",
        "name": "",
        "brokerType": "orion-ld",
        "apiEndpoint": "https://smartdatamodels.org:1026",
        "mintaka": "",
        "atContext": "https://uri.etsi.org/ngsi-ld/v1/ngsi-ld-core-context-v1.6.jsonld",
        "tenant": "",
        "idmEndpoint": "",
        "idmType": "none"
    },
    {
        "id": "511b16494c95c3e9",
        "type": "smart-contract",
        "name": "My_PoE.sol (Remix)",
        "ethereumClient": "a4d6d03469e02326",
        "address": "0xE1989a90127A449Bd22176299104cf6d2cb5Ba86",
        "abi": "[ \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"string\", \t\t\t\t\"name\": \"document\", \t\t\t\t\"type\": \"string\" \t\t\t} \t\t], \t\t\"name\": \"notarize\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bytes32\", \t\t\t\t\"name\": \"\", \t\t\t\t\"type\": \"bytes32\" \t\t\t} \t\t], \t\t\"stateMutability\": \"nonpayable\", \t\t\"type\": \"function\" \t}, \t{ \t\t\"inputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"string\", \t\t\t\t\"name\": \"document\", \t\t\t\t\"type\": \"string\" \t\t\t} \t\t], \t\t\"name\": \"checkDocument\", \t\t\"outputs\": [ \t\t\t{ \t\t\t\t\"internalType\": \"bool\", \t\t\t\t\"name\": \"\", \t\t\t\t\"type\": \"bool\" \t\t\t} \t\t], \t\t\"stateMutability\": \"view\", \t\t\"type\": \"function\" \t} ]"
    },
    {
        "id": "80433672957732d2",
        "type": "Context-Broker",
        "name": "http://orion:1026",
        "endpoint": "http://orion:1026",
        "service": "",
        "servicepath": "",
        "idmEndpoint": ""
    },
    {
        "id": "712bbc74186cf31b",
        "type": "ngrok",
        "z": "8769aeb719e4f5f1",
        "buttonState": true,
        "port": "port",
        "portType": "flow",
        "host": "host",
        "hostType": "flow",
        "creds": "b4799249b6347148",
        "proto": "http",
        "bind_tls": "",
        "bind_tlsType": "https",
        "subdomain": "",
        "subdomainType": "none",
        "auth": "",
        "authType": "none",
        "hostHeader": "",
        "hostHeaderType": "none",
        "name": "host:port",
        "inputtype": "port",
        "inputs": 1,
        "x": 420,
        "y": 120,
        "wires": [
            [
                "a14e04fa6af91931",
                "ead7ea819e5b9d32"
            ]
        ]
    },
    {
        "id": "c5a932010cadf9b3",
        "type": "ui_text",
        "z": "8769aeb719e4f5f1",
        "group": "51def6da5af481ac",
        "order": 6,
        "width": "5",
        "height": 1,
        "name": "Link",
        "label": "",
        "format": "{{msg.link}}",
        "layout": "row-left",
        "className": "link",
        "x": 910,
        "y": 180,
        "wires": []
    },
    {
        "id": "5ffcd71df1a98442",
        "type": "template",
        "z": "8769aeb719e4f5f1",
        "name": "link",
        "field": "link",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "<a href=\"{{payload}}\">{{payload}}</a>",
        "output": "str",
        "x": 750,
        "y": 120,
        "wires": [
            [
                "c5a932010cadf9b3"
            ]
        ]
    },
    {
        "id": "6f150b481c92d302",
        "type": "delay",
        "z": "8769aeb719e4f5f1",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 730,
        "y": 180,
        "wires": [
            [
                "c5a932010cadf9b3"
            ]
        ]
    },
    {
        "id": "2cd43a7aefbcf554",
        "type": "ui_template",
        "z": "8769aeb719e4f5f1",
        "group": "51def6da5af481ac",
        "name": "QR",
        "order": 7,
        "width": 1,
        "height": 1,
        "format": "<body>\n    <img src=\"{{msg.qr}}\">\n</body>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 910,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "d2445aa91d7af175",
        "type": "ui_button",
        "z": "8769aeb719e4f5f1",
        "name": "on",
        "group": "51def6da5af481ac",
        "order": 4,
        "width": 1,
        "height": 1,
        "passthru": true,
        "label": "",
        "tooltip": "",
        "color": "",
        "bgcolor": "green",
        "className": "",
        "icon": "fa-play",
        "payload": "on",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 110,
        "y": 220,
        "wires": [
            [
                "ef0a383712aca286",
                "712bbc74186cf31b",
                "3ed3003da454f6e0",
                "c1620bc8fe30efb4"
            ]
        ]
    },
    {
        "id": "ef0a383712aca286",
        "type": "trigger",
        "z": "8769aeb719e4f5f1",
        "name": "",
        "op1": "",
        "op2": "off",
        "op1type": "nul",
        "op2type": "str",
        "duration": "1",
        "extend": true,
        "overrideDelay": false,
        "units": "hr",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 130,
        "y": 320,
        "wires": [
            [
                "0f67e64ea55bcfad"
            ]
        ]
    },
    {
        "id": "957f548b6f052892",
        "type": "ui_template",
        "z": "8769aeb719e4f5f1",
        "group": "51def6da5af481ac",
        "name": "CSS",
        "order": 1,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .link {\n        font-size:11px;\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 910,
        "y": 40,
        "wires": [
            []
        ]
    },
    {
        "id": "ac61e6a9e522bf5b",
        "type": "jimp-image",
        "z": "8769aeb719e4f5f1",
        "name": "",
        "data": "qr",
        "dataType": "msg",
        "ret": "b64",
        "parameter1": "",
        "parameter1Type": "msg",
        "parameter2": "",
        "parameter2Type": "msg",
        "parameter3": "",
        "parameter3Type": "msg",
        "parameter4": "",
        "parameter4Type": "msg",
        "parameter5": "",
        "parameter5Type": "msg",
        "parameter6": "",
        "parameter6Type": "msg",
        "parameter7": "",
        "parameter7Type": "msg",
        "parameter8": "",
        "parameter8Type": "msg",
        "sendProperty": "qr",
        "sendPropertyType": "msg",
        "parameterCount": 0,
        "jimpFunction": "none",
        "selectedJimpFunction": {
            "name": "none",
            "fn": "none",
            "description": "Just loads the image.",
            "parameters": []
        },
        "x": 750,
        "y": 60,
        "wires": [
            [
                "2cd43a7aefbcf554"
            ]
        ]
    },
    {
        "id": "a14e04fa6af91931",
        "type": "Barcode Generator",
        "z": "8769aeb719e4f5f1",
        "name": "",
        "data": "payload",
        "dataType": "msg",
        "barcode": "qrcode",
        "barcodeType": "barcode",
        "options": "",
        "optionsType": "ui",
        "sendProperty": "qr",
        "props": [
            {
                "p": "rotate",
                "v": "N",
                "vt": "str"
            },
            {
                "p": "includetext",
                "v": "true",
                "vt": "bool"
            },
            {
                "p": "textxalign",
                "v": "center",
                "vt": "str"
            }
        ],
        "x": 630,
        "y": 60,
        "wires": [
            [
                "ac61e6a9e522bf5b"
            ]
        ]
    },
    {
        "id": "f6c16c14ae57c8c3",
        "type": "change",
        "z": "8769aeb719e4f5f1",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "port",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 430,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "e55509c875c2f788",
        "type": "change",
        "z": "8769aeb719e4f5f1",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "host",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 430,
        "y": 40,
        "wires": [
            []
        ]
    },
    {
        "id": "44de59596a5ed04f",
        "type": "ui_text_input",
        "z": "8769aeb719e4f5f1",
        "name": "",
        "label": "Host",
        "tooltip": "custom-iota",
        "group": "51def6da5af481ac",
        "order": 2,
        "width": "2",
        "height": "1",
        "passthru": true,
        "mode": "text",
        "delay": "0",
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 270,
        "y": 40,
        "wires": [
            [
                "e55509c875c2f788"
            ]
        ]
    },
    {
        "id": "d99b1af25923eac3",
        "type": "ui_text_input",
        "z": "8769aeb719e4f5f1",
        "name": "",
        "label": "Port",
        "tooltip": "7396",
        "group": "51def6da5af481ac",
        "order": 3,
        "width": "2",
        "height": "1",
        "passthru": true,
        "mode": "number",
        "delay": "0",
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 270,
        "y": 80,
        "wires": [
            [
                "f6c16c14ae57c8c3"
            ]
        ]
    },
    {
        "id": "2b74c256118846d6",
        "type": "change",
        "z": "8769aeb719e4f5f1",
        "name": "Disconnected",
        "rules": [
            {
                "t": "set",
                "p": "link",
                "pt": "msg",
                "to": "<font color=\"red\">Disconnected</font>",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "qr",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 180,
        "wires": [
            [
                "2cd43a7aefbcf554",
                "6f150b481c92d302",
                "712bbc74186cf31b"
            ]
        ]
    },
    {
        "id": "1fa8c11830d13c6d",
        "type": "inject",
        "z": "8769aeb719e4f5f1",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "orion",
        "payloadType": "str",
        "x": 110,
        "y": 40,
        "wires": [
            [
                "44de59596a5ed04f"
            ]
        ]
    },
    {
        "id": "5f4ee799ab4c6241",
        "type": "inject",
        "z": "8769aeb719e4f5f1",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1026",
        "payloadType": "num",
        "x": 110,
        "y": 80,
        "wires": [
            [
                "d99b1af25923eac3"
            ]
        ]
    },
    {
        "id": "ead7ea819e5b9d32",
        "type": "change",
        "z": "8769aeb719e4f5f1",
        "name": "custom",
        "rules": [
            {
                "t": "set",
                "p": "out.custom",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 620,
        "y": 120,
        "wires": [
            [
                "5ffcd71df1a98442"
            ]
        ]
    },
    {
        "id": "61fa618120eb5d90",
        "type": "inject",
        "z": "8769aeb719e4f5f1",
        "name": "INIT",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "payload": "on",
        "payloadType": "str",
        "x": 110,
        "y": 140,
        "wires": [
            [
                "d2445aa91d7af175"
            ]
        ]
    },
    {
        "id": "0f67e64ea55bcfad",
        "type": "ui_button",
        "z": "8769aeb719e4f5f1",
        "name": "off",
        "group": "51def6da5af481ac",
        "order": 5,
        "width": 1,
        "height": 1,
        "passthru": true,
        "label": "",
        "tooltip": "",
        "color": "",
        "bgcolor": "red",
        "className": "",
        "icon": "fa-stop",
        "payload": "off",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 110,
        "y": 460,
        "wires": [
            [
                "2b74c256118846d6",
                "3957704b27d8a53d",
                "716e120f02072e03"
            ]
        ]
    },
    {
        "id": "3ed3003da454f6e0",
        "type": "ngrok",
        "z": "8769aeb719e4f5f1",
        "buttonState": true,
        "port": "8081",
        "portType": "num",
        "host": "mongo-express",
        "hostType": "str",
        "creds": "b4799249b6347148",
        "proto": "http",
        "bind_tls": "",
        "bind_tlsType": "https",
        "subdomain": "",
        "subdomainType": "none",
        "auth": "",
        "authType": "none",
        "hostHeader": "",
        "hostHeaderType": "none",
        "name": "mongo-express:8081",
        "inputtype": "port",
        "inputs": 1,
        "x": 460,
        "y": 300,
        "wires": [
            [
                "0e7537603b7a008e",
                "b98d38119d65e6c7"
            ]
        ]
    },
    {
        "id": "139d7039051e6bfa",
        "type": "ui_text",
        "z": "8769aeb719e4f5f1",
        "group": "51def6da5af481ac",
        "order": 9,
        "width": 5,
        "height": 1,
        "name": "Link",
        "label": "",
        "format": "{{msg.link}}",
        "layout": "row-left",
        "className": "link",
        "x": 910,
        "y": 360,
        "wires": []
    },
    {
        "id": "9e23df214e9fc86a",
        "type": "template",
        "z": "8769aeb719e4f5f1",
        "name": "link",
        "field": "link",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "<a href=\"{{payload}}\">{{payload}}</a>",
        "output": "str",
        "x": 750,
        "y": 300,
        "wires": [
            [
                "139d7039051e6bfa"
            ]
        ]
    },
    {
        "id": "3957704b27d8a53d",
        "type": "change",
        "z": "8769aeb719e4f5f1",
        "name": "Disconnected",
        "rules": [
            {
                "t": "set",
                "p": "link",
                "pt": "msg",
                "to": "<font color=\"red\">Disconnected</font>",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "qr",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 360,
        "wires": [
            [
                "3ed3003da454f6e0",
                "c31371792690c0c6",
                "a297cce6310b5d7e"
            ]
        ]
    },
    {
        "id": "c31371792690c0c6",
        "type": "delay",
        "z": "8769aeb719e4f5f1",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 730,
        "y": 360,
        "wires": [
            [
                "139d7039051e6bfa"
            ]
        ]
    },
    {
        "id": "a297cce6310b5d7e",
        "type": "ui_template",
        "z": "8769aeb719e4f5f1",
        "group": "51def6da5af481ac",
        "name": "QR",
        "order": 10,
        "width": 1,
        "height": 1,
        "format": "<body>\n    <img src=\"{{msg.qr}}\">\n</body>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 910,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "58d90a1c6b4f0957",
        "type": "ui_template",
        "z": "8769aeb719e4f5f1",
        "group": "51def6da5af481ac",
        "name": "Mongo Express",
        "order": 8,
        "width": "0",
        "height": "0",
        "format": "<div style=\"display: flex; align-items: center;\">\n    &nbsp;&nbsp;&nbsp;<img height=\"42\" src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/9/93/MongoDB_Logo.svg/320px-MongoDB_Logo.svg.png\"/>\n    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(admin/pass)\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 440,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "c1620bc8fe30efb4",
        "type": "ngrok",
        "z": "8769aeb719e4f5f1",
        "buttonState": true,
        "port": "80",
        "portType": "num",
        "host": "phpmyadmin",
        "hostType": "str",
        "creds": "b4799249b6347148",
        "proto": "http",
        "bind_tls": "",
        "bind_tlsType": "https",
        "subdomain": "",
        "subdomainType": "none",
        "auth": "",
        "authType": "none",
        "hostHeader": "",
        "hostHeaderType": "none",
        "name": "phpmyadmin:80",
        "inputtype": "port",
        "inputs": 1,
        "x": 440,
        "y": 480,
        "wires": [
            [
                "30ca056f81b0debf",
                "cbe4d8d4e5222e67"
            ]
        ]
    },
    {
        "id": "3983dab42994df24",
        "type": "ui_text",
        "z": "8769aeb719e4f5f1",
        "group": "51def6da5af481ac",
        "order": 12,
        "width": "5",
        "height": 1,
        "name": "Link",
        "label": "",
        "format": "{{msg.link}}",
        "layout": "row-left",
        "className": "link",
        "x": 910,
        "y": 540,
        "wires": []
    },
    {
        "id": "9044023485915d06",
        "type": "template",
        "z": "8769aeb719e4f5f1",
        "name": "link",
        "field": "link",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "<a href=\"{{payload}}\">{{payload}}</a>",
        "output": "str",
        "x": 750,
        "y": 480,
        "wires": [
            [
                "3983dab42994df24"
            ]
        ]
    },
    {
        "id": "67356fa398337c13",
        "type": "delay",
        "z": "8769aeb719e4f5f1",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 730,
        "y": 540,
        "wires": [
            [
                "3983dab42994df24"
            ]
        ]
    },
    {
        "id": "1db7e5e112bb0069",
        "type": "ui_template",
        "z": "8769aeb719e4f5f1",
        "group": "51def6da5af481ac",
        "name": "QR",
        "order": 13,
        "width": 1,
        "height": 1,
        "format": "<body>\n    <img src=\"{{msg.qr}}\">\n</body>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 910,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "f0356858e5058f40",
        "type": "ui_template",
        "z": "8769aeb719e4f5f1",
        "group": "51def6da5af481ac",
        "name": "phpMyAdmin",
        "order": 11,
        "width": "0",
        "height": "0",
        "format": "<div style=\"display: flex; align-items: center;\">\n    &nbsp;&nbsp;&nbsp;<img height=\"42\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKUAAAAcCAYAAAAA7n9nAAAKYElEQVR4Ae1bZXjjyBLMMUo6vvv2MTMzMzMzY+D4Lus8ZmaOIXkMC7FzzMzMzMx8poDe1Pd5NuVKywrZ34J/9IJGPSPN1FRX98g97+zdu2tdW6usLZ32fm1V1JtZ/XhvT33q9Rt16oUeGA52qo5Ej2er5KLHzcW3nN/hker78MjWu7XzeeORXbZpx3iVke0e4/t84G/Bju2e9/gfOwT8HvHwsq3XKlAOLC8ND2SKccOu7+Quq+bDo5zFavFoz5at/Goj2z7d3TcxyzcX/q6tz5uLxmTMS5YEIPlwkvocaPe8V/Lh95veIxs+Ye0CZaZ4CYHy750CZPydnk3dhDxogbIyvP2jW4KjEB5u+dUK0Yfb9by1fPhRY8zJRbCMf5e3cZ/1QvS8tpNBLjyOxrxtrQrfXx0c39EBcZpA+ZVOgbKeDV/Ei8GGtmR2Dd6V5PdwYetlbZMZhfB2GotB9MJFsVYu+CH1d3+8omeTtpLBv3o2c+OU14xZCFauVaDsz5TeS4B0Nva0joXuQrAPLcYULzSAlzihhfDSBFBe1bZwVwj/7cdRcFYKwRcWKWFOoP4ObXuE+l3PFvVc9AJv5b9t9YilBiXC72t3z5TeaNry0gt6Mwdtn6wni7+cAWSp0j849ibv2z809rK+zPgTkxKf/m+UHps0bn9m7BXO/8niK4sRFWkxzuXd60DwxYSwswf5uNAf3Oj/78LrqAj5N3qL/xRtb+lS317OB6+YIzNXnb3D1rHpDFXLbvvUciF4mR/XadQ3uT4qa94hF32dNu1TcM98rVYIX4zEKfF9RsMn8f0AqW/DPCT1i+glALZBuUdm1W4AVIpNOjucWZAAfXq6f+k2CuvMsv+cw9i3OOAPqG8c92zUzDjBX9zf1+risAFYru1uYqgfc4LAjOX6/riGdUMjnpLGUPHw9lET8AvhtxFe3b9rM77R8a3ACI2IBIk3XZJV8tu+WnXzIuzaWj76gMHMB1tyAZUF9//6HPq9HDo4EZQOaB9KBQaBy7HYo7xv37dK27jrEyl+bK8VQF8/D99vsi8YQ0MgQCLso5P5GwLxjQq8ajZ4Mt37p1Zh3S3EVgCWbgI1lziNUD9X+qqASIh7sckSQnMfVQnSrIrngh+AAsDg+iKtzpk1npM3Nm9GV4p7/Tz6LT+Y23bnBFAWf+8Xvj9TfNABbwXMsdMYWNAA3e857EvbId7fgf149/+HBdQ/8L4At7SdNONbPBIMKX0/vPfeK3YgjfbFpqw5t/2zudxSyYX/4/fExDKIkAkDuNTHHQQMgOEiCetSEolem8RQskjTdN87qP8S+3O4pPLRl3UxG2AGU62ACUBOYnYViXCc94ExewMguIaEpaFPq83vFnx2zSYb3eZZ3MabEVGANwiNtRrPppvLs6WlCc8hUB6g7X1DpWe7thqB40IC5TcZNF/+8vBm7Nu/vPhWAdb3aNxPchv0I/t+5zvHboqNwfegP99ey4V/40ltlIf+xIsgjDNOIDsNAGTgYeIkzE9ZYZ3G/yaNX+OyDoWyaxI3ST76adPi5oN3SxL3FNKKsMsBNCmJbQyWpXf4Cb3vnuQ77VnJ2HSwo5o3U/jJ5igUflqY25YLufBIajshRc/H0MO4PuskBnqRMud9uX2G1YpnWsVxMBpdP8Yoqr+YQQUgcsGdZYGV0LjrH2F//J8m5xrRZLpTL09gtWm381+JRcK/adfupYkJh/WUOudJRtj9IydUKvABdB4DIJfi9H8Y9ACpjlHPb/cctFtMDNaz5gKGEx96d2yY77SqpyLx0efSzag1Y5Sp9HkV0DhRI1DaTIZsOSE7v5ruO98zmYTn7xl+X+T+kYlT24XUtor86PlKveyPzB7XscDNYSD6uRHu7iU2Octfx6RaE4/ShsliEtZJr93HCRO3A/TMtNC6LmFYzuaeNY82qfVRcsQJQ1RM0JsDXBKL8+EO1HYrMVKe/cDKPDZkBrfjfTgKcXYtYf8krRlraGZDMsqa3kx0HAh/yOF3cHB8c+1o768fFLCuRMZssSDKOAYo/85s6K9DG3LBvX+ouJfJ0EOlP/AYqBQwoPQURicbSYVoz5oX7e7fOWYy7HTNqjWsi14zGQoLiKPDBSQUVxJo3isL/HEe32at4Hwu2SRpQhg2MbVPQGoI2E+yZBB0L/mxXNCa8SQ2lj4vzwvqtiYokYxY4VdC9+esEIxQT9cnAN5WDLv7UHGNpnK1z3dxn6iFqi+YGEBWhubQqEkCwgxfb5xv36KMpuEfoViy6iqH9RRtNAUNqgu+AJsCOFSvKotLInQT3ffHJGmADyYkPJ/G+loL46xlccYtWlM2o3mmf651oiVJX98sUIIVUey2wi/fAzDMsGHxTpSBGolKia6fqb4Dg+PLBMwDFJZ/xhk/AJi2GRDKKQycz+HVX8d5tzDM4Xwfdq/ueNVzKExbYpwNoVYZijbFJPkD+GclmpzbY2wBdqKmxZdQaONqAoFulNpuYT9oQEQMlT7ekLjIhxZvoY2cU7kgNePEcpyyP7L4WaDEiYml17hkg2zcAgaSEmYxnOqkJSnI4olBT6G2w5Uhnaz4jOjVS7y0iEe32w4TQsA7kE88ZDey7vxqEpMgEbLZQEKn6jViKIwtGe3dYIeU48EVsgG+3KhtDumJD8sLGDJiTRqo3ytVQ2st0c76dWwKwxR+dTNqzdhp5g8Z7/pLnhtofQElmG4sI5ntQVQjvNpn5Rx+fYaMkx1uw/m3pQcJtPd96EMrNqGCe42Y8nKMC+ZFeQr34jr7MqARMoQhvsXjUt2O7RIsKgHvn1wcBnto5iln6pcTu51rMRTCnBbz5/khBexPDc36QuMd7kaoRdkFxvID//Z94vtM8fMRSmuJSaWiQ2kznN0i/P5Ra8Z6+iX690yDSASUAGHKKQoBp0BJkGbV032DxV0MPXk+F9Xtgnuq3ah6E+JaJv2tdv1N7hEtxpkxt2FCU4/zhKFQuJfC/GnEBImGBERKLyebJ0Ephpqt9wNLcRvKRi2+P72oRVUB9hsJv6ZcwPiasLHJ8SPYeVBA2Qi/zEi2PYzQirJRSlZ9qbRr/ROgHtKCu2XcJzSu9SEIFo53OmpuOulSajm61fEkyj/WaQ2AJfrQsmvAwMwC8FEgiGnpKJYqwMYzdb9gP2JE0/TjEzmlug9AS/7+NPhLq6oCn3tz+FW5wM+IzaTviY8xLO3sjU9pYrKv8M8ZwHyafGgS4+9FmcZKkLg/hGwC5eGcIPF9+GqI70377N86mnsot82uvh2Gr31U6Ce2i6GkxPc2jipvo/D2Z2hJvocXK83UFwZQpv7kQwwVAw7f+iwMSvaDPm/1Uw2uT/K86s9N2AeViNSfTmCjKCiRCVvht90GXYlsmxKnn1H7Wm5ai+Md37VFf0+JpIUTjU4NDn0o9cl3rU2Tg5OWRkYsFhW1II5rSzh2F5RIICi7zXdqcJzcMEPjpxRrFRNSob2VQUNSmFqsdUEJ7cZshSJ1pwbHGbd+bbS2GLROChgrjeRnT2jBpRu7a+vcA3etC8quda0Lyq517f+4E7RgAfDP9wAAAABJRU5ErkJggg==\"/>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 430,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "26a37ecfc4e40c88",
        "type": "jimp-image",
        "z": "8769aeb719e4f5f1",
        "name": "",
        "data": "qr",
        "dataType": "msg",
        "ret": "b64",
        "parameter1": "",
        "parameter1Type": "msg",
        "parameter2": "",
        "parameter2Type": "msg",
        "parameter3": "",
        "parameter3Type": "msg",
        "parameter4": "",
        "parameter4Type": "msg",
        "parameter5": "",
        "parameter5Type": "msg",
        "parameter6": "",
        "parameter6Type": "msg",
        "parameter7": "",
        "parameter7Type": "msg",
        "parameter8": "",
        "parameter8Type": "msg",
        "sendProperty": "qr",
        "sendPropertyType": "msg",
        "parameterCount": 0,
        "jimpFunction": "none",
        "selectedJimpFunction": {
            "name": "none",
            "fn": "none",
            "description": "Just loads the image.",
            "parameters": []
        },
        "x": 750,
        "y": 240,
        "wires": [
            [
                "a297cce6310b5d7e"
            ]
        ]
    },
    {
        "id": "0e7537603b7a008e",
        "type": "Barcode Generator",
        "z": "8769aeb719e4f5f1",
        "name": "",
        "data": "payload",
        "dataType": "msg",
        "barcode": "qrcode",
        "barcodeType": "barcode",
        "options": "",
        "optionsType": "ui",
        "sendProperty": "qr",
        "props": [
            {
                "p": "rotate",
                "v": "N",
                "vt": "str"
            },
            {
                "p": "includetext",
                "v": "true",
                "vt": "bool"
            },
            {
                "p": "textxalign",
                "v": "center",
                "vt": "str"
            }
        ],
        "x": 630,
        "y": 240,
        "wires": [
            [
                "26a37ecfc4e40c88"
            ]
        ]
    },
    {
        "id": "b28b2e4bc9a452fe",
        "type": "jimp-image",
        "z": "8769aeb719e4f5f1",
        "name": "",
        "data": "qr",
        "dataType": "msg",
        "ret": "b64",
        "parameter1": "",
        "parameter1Type": "msg",
        "parameter2": "",
        "parameter2Type": "msg",
        "parameter3": "",
        "parameter3Type": "msg",
        "parameter4": "",
        "parameter4Type": "msg",
        "parameter5": "",
        "parameter5Type": "msg",
        "parameter6": "",
        "parameter6Type": "msg",
        "parameter7": "",
        "parameter7Type": "msg",
        "parameter8": "",
        "parameter8Type": "msg",
        "sendProperty": "qr",
        "sendPropertyType": "msg",
        "parameterCount": 0,
        "jimpFunction": "none",
        "selectedJimpFunction": {
            "name": "none",
            "fn": "none",
            "description": "Just loads the image.",
            "parameters": []
        },
        "x": 750,
        "y": 420,
        "wires": [
            [
                "1db7e5e112bb0069"
            ]
        ]
    },
    {
        "id": "30ca056f81b0debf",
        "type": "Barcode Generator",
        "z": "8769aeb719e4f5f1",
        "name": "",
        "data": "payload",
        "dataType": "msg",
        "barcode": "qrcode",
        "barcodeType": "barcode",
        "options": "",
        "optionsType": "ui",
        "sendProperty": "qr",
        "props": [
            {
                "p": "rotate",
                "v": "N",
                "vt": "str"
            },
            {
                "p": "includetext",
                "v": "true",
                "vt": "bool"
            },
            {
                "p": "textxalign",
                "v": "center",
                "vt": "str"
            }
        ],
        "x": 630,
        "y": 420,
        "wires": [
            [
                "b28b2e4bc9a452fe"
            ]
        ]
    },
    {
        "id": "716e120f02072e03",
        "type": "change",
        "z": "8769aeb719e4f5f1",
        "name": "Disconnected",
        "rules": [
            {
                "t": "set",
                "p": "link",
                "pt": "msg",
                "to": "<font color=\"red\">Disconnected</font>",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "qr",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 540,
        "wires": [
            [
                "c1620bc8fe30efb4",
                "67356fa398337c13",
                "1db7e5e112bb0069"
            ]
        ]
    },
    {
        "id": "b98d38119d65e6c7",
        "type": "change",
        "z": "8769aeb719e4f5f1",
        "name": "mongo",
        "rules": [
            {
                "t": "set",
                "p": "out.mongo",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 300,
        "wires": [
            [
                "9e23df214e9fc86a"
            ]
        ]
    },
    {
        "id": "cbe4d8d4e5222e67",
        "type": "change",
        "z": "8769aeb719e4f5f1",
        "name": "mysql",
        "rules": [
            {
                "t": "set",
                "p": "out.mysql",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 480,
        "wires": [
            [
                "9044023485915d06"
            ]
        ]
    },
    {
        "id": "58f4b326a458f7c7",
        "type": "http in",
        "z": "bfe76d69eb22265e",
        "name": "",
        "url": "/uploads/:file",
        "method": "put",
        "upload": false,
        "swaggerDoc": "",
        "x": 120,
        "y": 100,
        "wires": [
            [
                "0cfb1cff9b4b2d0c"
            ]
        ]
    },
    {
        "id": "067240aab2ab920f",
        "type": "http response",
        "z": "bfe76d69eb22265e",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 910,
        "y": 160,
        "wires": []
    },
    {
        "id": "eb083481d2375b38",
        "type": "comment",
        "z": "bfe76d69eb22265e",
        "name": "curl -T <src-path> http://node-red:1880/uploads/<dest-name>",
        "info": "",
        "x": 240,
        "y": 60,
        "wires": []
    },
    {
        "id": "58c22a523feb9981",
        "type": "http in",
        "z": "bfe76d69eb22265e",
        "name": "",
        "url": "/uploads/:file",
        "method": "delete",
        "upload": false,
        "swaggerDoc": "",
        "x": 130,
        "y": 240,
        "wires": [
            [
                "bf96ddb85c5fb2b4"
            ]
        ]
    },
    {
        "id": "c98826c735c5a51b",
        "type": "comment",
        "z": "bfe76d69eb22265e",
        "name": "curl -X DELETE <node-red-url>/uploads/<dest-name> \\n curl <node-red-url>/delete/<dest-name>",
        "info": "",
        "x": 220,
        "y": 180,
        "wires": []
    },
    {
        "id": "d4a3b1c7d87e5abb",
        "type": "file",
        "z": "bfe76d69eb22265e",
        "name": "",
        "filename": "filename",
        "filenameType": "msg",
        "appendNewline": true,
        "createDir": false,
        "overwriteFile": "delete",
        "encoding": "none",
        "x": 730,
        "y": 300,
        "wires": [
            [
                "91f6e3de9bb0aa62",
                "30dd0f7d5640fabd"
            ]
        ]
    },
    {
        "id": "1115c26390ea5daa",
        "type": "template",
        "z": "bfe76d69eb22265e",
        "name": "msg.filename",
        "field": "filename",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "/public/uploads/{{file}}",
        "output": "str",
        "x": 510,
        "y": 100,
        "wires": [
            [
                "df14b114c5762c35"
            ]
        ]
    },
    {
        "id": "0cfb1cff9b4b2d0c",
        "type": "change",
        "z": "bfe76d69eb22265e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "file",
                "pt": "msg",
                "to": "req.params.file",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 350,
        "y": 100,
        "wires": [
            [
                "1115c26390ea5daa"
            ]
        ]
    },
    {
        "id": "e6f37dda54e9a7f3",
        "type": "template",
        "z": "bfe76d69eb22265e",
        "name": "msg.filename",
        "field": "filename",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "/public/uploads/{{file}}",
        "output": "str",
        "x": 510,
        "y": 240,
        "wires": [
            [
                "d4a3b1c7d87e5abb",
                "7a203f1b1ad17f4b"
            ]
        ]
    },
    {
        "id": "bf96ddb85c5fb2b4",
        "type": "change",
        "z": "bfe76d69eb22265e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "file",
                "pt": "msg",
                "to": "req.params.file",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 350,
        "y": 240,
        "wires": [
            [
                "e6f37dda54e9a7f3"
            ]
        ]
    },
    {
        "id": "91f6e3de9bb0aa62",
        "type": "template",
        "z": "bfe76d69eb22265e",
        "name": "msg",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{{file}}}{{{payload}}} deleted.\n",
        "output": "str",
        "x": 910,
        "y": 240,
        "wires": [
            [
                "21d52b3c9c5e5512"
            ]
        ]
    },
    {
        "id": "df14b114c5762c35",
        "type": "file",
        "z": "bfe76d69eb22265e",
        "name": "",
        "filename": "filename",
        "filenameType": "msg",
        "appendNewline": false,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 740,
        "y": 100,
        "wires": [
            [
                "81481b360f9d4f3d"
            ]
        ]
    },
    {
        "id": "7a203f1b1ad17f4b",
        "type": "trigger",
        "z": "bfe76d69eb22265e",
        "name": "",
        "op1": "",
        "op2": " NOT",
        "op1type": "nul",
        "op2type": "str",
        "duration": "2",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 740,
        "y": 240,
        "wires": [
            [
                "91f6e3de9bb0aa62"
            ]
        ]
    },
    {
        "id": "30dd0f7d5640fabd",
        "type": "change",
        "z": "bfe76d69eb22265e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 500,
        "y": 300,
        "wires": [
            [
                "7a203f1b1ad17f4b"
            ]
        ]
    },
    {
        "id": "21d52b3c9c5e5512",
        "type": "http response",
        "z": "bfe76d69eb22265e",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 910,
        "y": 300,
        "wires": []
    },
    {
        "id": "81481b360f9d4f3d",
        "type": "template",
        "z": "bfe76d69eb22265e",
        "name": "msg",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{{file}}} uploaded.\n",
        "output": "str",
        "x": 910,
        "y": 100,
        "wires": [
            [
                "067240aab2ab920f"
            ]
        ]
    },
    {
        "id": "b2cb76719325d723",
        "type": "ui_template",
        "z": "bfe76d69eb22265e",
        "group": "e351187f9c95f60d",
        "name": "Home & Uploads",
        "order": 14,
        "width": "0",
        "height": "0",
        "format": "<div>\n    &nbsp;\n    <button><a id=\"home\" style=\"text-decoration:none\"><i class=\"fa fa-home\"></i> Home</a></button>\n    &nbsp;&nbsp;&nbsp;\n    <button><a id=\"uploads\" style=\"text-decoration:none\"><i class=\"fa fa-upload\"></i> Uploads</a></button>\n    &nbsp;&nbsp;&nbsp;\n    <button><a href=\"../editor\" style=\"text-decoration:none\"><i class=\"fa fa-pencil\"></i> Editor</a></button>\n</div>\n<script>\n    document.getElementById(\"home\").href = window.location.protocol + \"//\" + window.location.hostname;\n    document.getElementById(\"uploads\").href = window.location.protocol + \"//\" + window.location.hostname + \"/uploads/\"\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 530,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "048c79ef0b065f77",
        "type": "http in",
        "z": "bfe76d69eb22265e",
        "name": "",
        "url": "/delete/:file",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 120,
        "y": 300,
        "wires": [
            [
                "bf96ddb85c5fb2b4"
            ]
        ]
    },
    {
        "id": "4c4f1b7ec5eda293",
        "type": "mqtt in",
        "z": "c2a28872a2e6ba67",
        "name": "",
        "topic": "/hey/listen",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "1c5e119ec6122feb",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 80,
        "y": 140,
        "wires": [
            [
                "b8f3b1a2c61cb399"
            ]
        ]
    },
    {
        "id": "d366f830965a1b3e",
        "type": "mqtt out",
        "z": "c2a28872a2e6ba67",
        "name": "",
        "topic": "/its/a/me",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "1c5e119ec6122feb",
        "x": 820,
        "y": 60,
        "wires": []
    },
    {
        "id": "6ddb14b32286bac6",
        "type": "change",
        "z": "c2a28872a2e6ba67",
        "name": "get flow.out",
        "rules": [
            {
                "t": "set",
                "p": "out.link",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "out",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 670,
        "y": 60,
        "wires": [
            [
                "d366f830965a1b3e"
            ]
        ]
    },
    {
        "id": "40b1b6f19e5fe649",
        "type": "http request",
        "z": "c2a28872a2e6ba67",
        "name": "GET ifconfig.me/all.json",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "https://ifconfig.me/all.json",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 530,
        "y": 220,
        "wires": [
            [
                "2e5ec6589697d933",
                "94e3906d36565266"
            ]
        ]
    },
    {
        "id": "2e5ec6589697d933",
        "type": "change",
        "z": "c2a28872a2e6ba67",
        "name": "set flow.out",
        "rules": [
            {
                "t": "set",
                "p": "out",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 140,
        "wires": [
            [
                "7c521f056485ef38"
            ]
        ]
    },
    {
        "id": "60cd7879a306dec1",
        "type": "ngrok",
        "z": "c2a28872a2e6ba67",
        "buttonState": true,
        "port": "",
        "portType": "node-red",
        "host": "host.docker.internal",
        "hostType": "str",
        "creds": "6cf4ec1defe5e72f",
        "proto": "http",
        "bind_tls": "",
        "bind_tlsType": "https",
        "subdomain": "",
        "subdomainType": "none",
        "auth": "",
        "authType": "none",
        "hostHeader": "",
        "hostHeaderType": "none",
        "name": "Node-RED",
        "inputtype": "port",
        "inputs": 1,
        "x": 490,
        "y": 380,
        "wires": [
            [
                "ebfdb1facb8b4a65"
            ]
        ]
    },
    {
        "id": "5df94c4a1e18080c",
        "type": "mqtt in",
        "z": "c2a28872a2e6ba67",
        "name": "",
        "topic": "/just/you/mentor",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "1c5e119ec6122feb",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 100,
        "y": 380,
        "wires": [
            [
                "b1a316aa4191c472"
            ]
        ]
    },
    {
        "id": "98062a473030ab70",
        "type": "mqtt out",
        "z": "c2a28872a2e6ba67",
        "name": "",
        "topic": "/its/a/me",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "1c5e119ec6122feb",
        "x": 820,
        "y": 380,
        "wires": []
    },
    {
        "id": "ebfdb1facb8b4a65",
        "type": "change",
        "z": "c2a28872a2e6ba67",
        "name": "get flow.out",
        "rules": [
            {
                "t": "set",
                "p": "out.link",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "out",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 670,
        "y": 380,
        "wires": [
            [
                "98062a473030ab70"
            ]
        ]
    },
    {
        "id": "df9a152eed8ec902",
        "type": "mqtt in",
        "z": "c2a28872a2e6ba67",
        "name": "",
        "topic": "/just/you",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "1c5e119ec6122feb",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 80,
        "y": 60,
        "wires": [
            [
                "ddd1ca21d53a41c7"
            ]
        ]
    },
    {
        "id": "ddd1ca21d53a41c7",
        "type": "change",
        "z": "c2a28872a2e6ba67",
        "name": "payload | off",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload ? payload : \"off\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 270,
        "y": 60,
        "wires": [
            [
                "7c521f056485ef38"
            ]
        ]
    },
    {
        "id": "b1a316aa4191c472",
        "type": "change",
        "z": "c2a28872a2e6ba67",
        "name": "payload | off",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload ? payload : \"off\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 270,
        "y": 380,
        "wires": [
            [
                "60cd7879a306dec1"
            ]
        ]
    },
    {
        "id": "7c521f056485ef38",
        "type": "localtunnel",
        "z": "c2a28872a2e6ba67",
        "buttonState": false,
        "name": "node-red:1880",
        "input_type": "input",
        "port": "1880",
        "subdomain": "my-hyperride",
        "reject_other_subdomain": false,
        "local_https": false,
        "allow_invalid_cert": true,
        "start_on_load": true,
        "retry_on_error": 0,
        "local_cert": "",
        "local_key": "",
        "local_ca": "",
        "host": "",
        "local_host": "node-red",
        "inputs": 1,
        "x": 500,
        "y": 60,
        "wires": [
            [
                "6ddb14b32286bac6"
            ]
        ]
    },
    {
        "id": "b8f3b1a2c61cb399",
        "type": "switch",
        "z": "c2a28872a2e6ba67",
        "name": "off / on ?",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 260,
        "y": 140,
        "wires": [
            [
                "7c521f056485ef38"
            ],
            [
                "40b1b6f19e5fe649"
            ]
        ]
    },
    {
        "id": "0b826b34d2768b23",
        "type": "mqtt out",
        "z": "c2a28872a2e6ba67",
        "name": "",
        "topic": "/its/dangerous/to/walk/alone",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "1c5e119ec6122feb",
        "x": 760,
        "y": 300,
        "wires": []
    },
    {
        "id": "94e3906d36565266",
        "type": "yaml",
        "z": "c2a28872a2e6ba67",
        "property": "payload",
        "name": "",
        "x": 830,
        "y": 220,
        "wires": [
            [
                "0b826b34d2768b23"
            ]
        ]
    },
    {
        "id": "ece271dfb0d83903",
        "type": "inject",
        "z": "c2a28872a2e6ba67",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 270,
        "y": 220,
        "wires": [
            [
                "40b1b6f19e5fe649"
            ]
        ]
    },
    {
        "id": "a7eb866474be9463",
        "type": "ui_template",
        "z": "4621a3bae9cafe56",
        "group": "428fc8e6d916cf55",
        "name": "Orion",
        "order": 1,
        "width": 0,
        "height": 0,
        "format": "<h4>\n    <img height=\"36\" src=\"https://account.thethingsnetwork.org/api/v2/users/atdfiware/picture.jpg\" />\n    Orion LD&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n    <a href=\"https://zeldalegend-tutorialspe-h9evcfl0zve.ws-eu54.gitpod.io/\"><input type=\"image\" height=\"36\" src=\"https://gitpod.io/button/open-in-gitpod.svg\" alt=\"Open in Gitpod\"/></a>\n</h4>\n<textarea style=\"font-size:14px;\" rows=\"9\">{{msg.payload}}</textarea>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 650,
        "y": 220,
        "wires": [
            [
                "1a935d6f11a75946"
            ]
        ]
    },
    {
        "id": "1a935d6f11a75946",
        "type": "NGSI-Update",
        "z": "4621a3bae9cafe56",
        "name": "append v2",
        "endpoint": "",
        "protocol": "v2",
        "updateMode": "upsert-replace",
        "updateModev2": "append",
        "ldContext": "https://uri.etsi.org/ngsi-ld/v1/ngsi-ld-core-context.jsonld",
        "mimeType": "application/ld+json",
        "x": 790,
        "y": 220,
        "wires": [
            [
                "53d19147fd0e4a30"
            ]
        ]
    },
    {
        "id": "53d19147fd0e4a30",
        "type": "debug",
        "z": "4621a3bae9cafe56",
        "name": "fiware",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "topic",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "msg",
        "x": 930,
        "y": 220,
        "wires": []
    },
    {
        "id": "ca07ac8d40c645b4",
        "type": "ui_template",
        "z": "4621a3bae9cafe56",
        "group": "3887268fb207a290",
        "name": "Goerli testnet",
        "order": 1,
        "width": 0,
        "height": 0,
        "format": "<h4>\n    <img height=\"36\" src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6f/Ethereum-icon-purple.svg/240px-Ethereum-icon-purple.svg.png\" />\n    Goerli testnet&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n    <a href=\"https://goerli.etherscan.io/tx/{{msg.summary.txHash}}\"><input type=\"image\" height=\"24\" src=\"https://etherscan.io/assets/svg/logos/logo-etherscan.svg\" alt=\"Open in Etherscan.io\"/></a>\n</h4>\n<textarea style=\"font-size:14px;\" rows=\"9\">{{msg.payload}}</textarea>\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 670,
        "y": 540,
        "wires": [
            [
                "a1e4b8cc17fcb8f3",
                "d2c6553ddfe6e1ec"
            ]
        ]
    },
    {
        "id": "3c1b9ab9177cd947",
        "type": "http in",
        "z": "4621a3bae9cafe56",
        "name": "",
        "url": "/universe",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 280,
        "y": 420,
        "wires": [
            [
                "f00a09314e1736ee",
                "7e5a138f5552b969"
            ]
        ]
    },
    {
        "id": "f00a09314e1736ee",
        "type": "json",
        "z": "4621a3bae9cafe56",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 470,
        "y": 440,
        "wires": [
            [
                "d5c9d998fe44e4c0"
            ]
        ]
    },
    {
        "id": "b2420d373816fe0e",
        "type": "ui_button",
        "z": "4621a3bae9cafe56",
        "name": "",
        "group": "428fc8e6d916cf55",
        "order": 2,
        "width": 3,
        "height": 1,
        "passthru": true,
        "label": "Subscribe",
        "tooltip": "Send to BC via CB subscription",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "create",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 260,
        "y": 320,
        "wires": [
            [
                "9d6f8859b7f9eb71"
            ]
        ]
    },
    {
        "id": "495422441c94b715",
        "type": "ui_button",
        "z": "4621a3bae9cafe56",
        "name": "",
        "group": "428fc8e6d916cf55",
        "order": 3,
        "width": 3,
        "height": 1,
        "passthru": true,
        "label": "Unsubscribe",
        "tooltip": "Clear all CB subscriptions",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "delete",
        "payload": "",
        "payloadType": "str",
        "topic": "first",
        "topicType": "flow",
        "x": 270,
        "y": 280,
        "wires": [
            [
                "ce05302134beaa29"
            ]
        ]
    },
    {
        "id": "6813735d3ea86d2f",
        "type": "comment",
        "z": "4621a3bae9cafe56",
        "name": "FE Universe - FIWARE Notarization",
        "info": "Il programma scrive sul Context Broker\nOrion LD i risultati dei test immessi.\n\nAl riavvio è programmato per annullare\ntutte le sottoscrizioni al Context Broker,\ne mantenerne solo quella al servizio\ndi notarizzazione su Blockchain. \n\nPer imostazione predefinita, notarizza\nsu Blockchain Ethereum (testnet Goerli)\nsolo gli Acceptance Test con un codice\nrisultato pari a 100 o 200.\n\nInserire la URL del Context Broker Orion\nnel flow \"FIWARE\", e a URL di Node-RED\nattualmente sul browser nella scheda\nNotification dei nodi Subscribe.",
        "x": 780,
        "y": 40,
        "wires": []
    },
    {
        "id": "4245ec09c7162307",
        "type": "ui_text_input",
        "z": "4621a3bae9cafe56",
        "name": "",
        "label": "Test reference",
        "tooltip": "",
        "group": "47bd647b0bf55722",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 280,
        "y": 100,
        "wires": [
            [
                "67dbf77bc2a01ab4"
            ]
        ]
    },
    {
        "id": "492d812a5063e8b2",
        "type": "ui_button",
        "z": "4621a3bae9cafe56",
        "name": "",
        "group": "47bd647b0bf55722",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": true,
        "label": "Submit",
        "tooltip": "Send to the CB",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "send",
        "payload": "",
        "payloadType": "date",
        "topic": "test",
        "topicType": "flow",
        "x": 260,
        "y": 220,
        "wires": [
            [
                "457d9d55c10cc7e9"
            ]
        ]
    },
    {
        "id": "67dbf77bc2a01ab4",
        "type": "change",
        "z": "4621a3bae9cafe56",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "test.reference",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 480,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "26b08897c7d9ce5d",
        "type": "change",
        "z": "4621a3bae9cafe56",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "test.result",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 470,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "a57c926f748286c1",
        "type": "change",
        "z": "4621a3bae9cafe56",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "test.level",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 470,
        "y": 40,
        "wires": [
            []
        ]
    },
    {
        "id": "eab625a155599887",
        "type": "ui_dropdown",
        "z": "4621a3bae9cafe56",
        "name": "",
        "label": "Test level",
        "tooltip": "",
        "place": "Select option",
        "group": "47bd647b0bf55722",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "Unit",
                "value": "Unit",
                "type": "str"
            },
            {
                "label": "Integration",
                "value": "Integration",
                "type": "str"
            },
            {
                "label": "System",
                "value": "System",
                "type": "str"
            },
            {
                "label": "Acceptance",
                "value": "Acceptance",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 260,
        "y": 40,
        "wires": [
            [
                "a57c926f748286c1"
            ]
        ]
    },
    {
        "id": "457d9d55c10cc7e9",
        "type": "template",
        "z": "4621a3bae9cafe56",
        "name": "NGSI v2",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{\n    \"id\": \"urn:entities:{{topic.reference}}\",\n    \"type\": \"Test\",\n    \"level\": {\n        \"type\": \"Text\",\n        \"value\": \"{{topic.level}}\"\n    },\n    \"reference\": {\n        \"type\": \"Text\",\n        \"value\": \"{{topic.reference}}\"\n    },\n    \"result\": {\n        \"type\": \"Integer\",\n        \"value\": {{topic.result}}\n    },\n    \"timestamp\": {\n        \"type\": \"Integer\",\n        \"value\": {{payload}}\n    }\n}",
        "output": "json",
        "x": 440,
        "y": 220,
        "wires": [
            [
                "a7eb866474be9463"
            ]
        ]
    },
    {
        "id": "78c3a012937dfab3",
        "type": "inject",
        "z": "4621a3bae9cafe56",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "Acceptance",
        "payloadType": "str",
        "x": 110,
        "y": 40,
        "wires": [
            [
                "eab625a155599887"
            ]
        ]
    },
    {
        "id": "058d481b43f66586",
        "type": "inject",
        "z": "4621a3bae9cafe56",
        "name": "random",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "\"IT\" & $round($random()*1000)",
        "payloadType": "jsonata",
        "x": 100,
        "y": 100,
        "wires": [
            [
                "4245ec09c7162307"
            ]
        ]
    },
    {
        "id": "e05493045b07361b",
        "type": "inject",
        "z": "4621a3bae9cafe56",
        "name": "manual",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 90,
        "y": 220,
        "wires": [
            [
                "492d812a5063e8b2"
            ]
        ]
    },
    {
        "id": "722540bbdd64b1fb",
        "type": "inject",
        "z": "4621a3bae9cafe56",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "200",
        "payloadType": "num",
        "x": 90,
        "y": 160,
        "wires": [
            [
                "08bb7676e315cc33"
            ]
        ]
    },
    {
        "id": "08bb7676e315cc33",
        "type": "ui_numeric",
        "z": "4621a3bae9cafe56",
        "name": "",
        "label": "Test result",
        "tooltip": "",
        "group": "47bd647b0bf55722",
        "order": 5,
        "width": 0,
        "height": 0,
        "wrap": false,
        "passthru": true,
        "topic": "time",
        "topicType": "msg",
        "format": "{{value}}",
        "min": "100",
        "max": "500",
        "step": "100",
        "className": "",
        "x": 270,
        "y": 160,
        "wires": [
            [
                "26b08897c7d9ce5d"
            ]
        ]
    },
    {
        "id": "ce05302134beaa29",
        "type": "change",
        "z": "4621a3bae9cafe56",
        "name": "set orion+token",
        "rules": [
            {
                "t": "set",
                "p": "orion",
                "pt": "msg",
                "to": "http://orion.lab.fiware.org:1026",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "x-auth-token",
                "pt": "msg",
                "to": "x-auth-token",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 300,
        "wires": [
            [
                "3fa0b35751d40377"
            ]
        ]
    },
    {
        "id": "75882b0f77edee0d",
        "type": "debug",
        "z": "4621a3bae9cafe56",
        "name": "subscription",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload.statusCode",
        "statusType": "msg",
        "x": 450,
        "y": 380,
        "wires": []
    },
    {
        "id": "e8a1f3525449cdac",
        "type": "comment",
        "z": "4621a3bae9cafe56",
        "name": "set notification endpoint",
        "info": "",
        "x": 120,
        "y": 400,
        "wires": []
    },
    {
        "id": "6b27b5696a2adfa0",
        "type": "template",
        "z": "4621a3bae9cafe56",
        "name": "link",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "TXN in progress...\n\nHash: {{payload}}\nLink: https://goerli.etherscan.io/tx/{{payload}}",
        "output": "str",
        "x": 650,
        "y": 460,
        "wires": [
            [
                "ca07ac8d40c645b4",
                "19b000087e92cd17"
            ]
        ]
    },
    {
        "id": "9d6f8859b7f9eb71",
        "type": "NGSI-Subscription",
        "z": "4621a3bae9cafe56",
        "name": "Test (v2)",
        "endpoint": "",
        "protocol": "v2",
        "ldContext": "https://schema.lab.fiware.org/ld/context",
        "entityType": "Test",
        "watchedAttributes": "",
        "q": "level==Acceptance;result<300",
        "notificationMode": "normalized",
        "notificationEndpoint": "https://fiware.zeldalegends.repl.co/universe",
        "notificationAttributes": "",
        "mimeType": "application/ld+json",
        "x": 260,
        "y": 380,
        "wires": [
            [
                "75882b0f77edee0d"
            ]
        ]
    },
    {
        "id": "fd646bda37c9807d",
        "type": "ui_template",
        "z": "4621a3bae9cafe56",
        "group": "47bd647b0bf55722",
        "name": "Banner",
        "order": 2,
        "width": 0,
        "height": 0,
        "format": "<div style=\"background-image:url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSwMkp29oQjL16Cwdq8l3BOaMDBJTNXSeWdvA&usqp=CAU');text-align:center;font-size:40px;color:white;\">\n    <b>FE Universe</b>\n</div>\n<h4>(C) Alerox, 2022</h4>\n\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 700,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "7e5a138f5552b969",
        "type": "debug",
        "z": "4621a3bae9cafe56",
        "name": "notification",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload.data[0].id",
        "statusType": "msg",
        "x": 270,
        "y": 480,
        "wires": []
    },
    {
        "id": "a1e4b8cc17fcb8f3",
        "type": "debug",
        "z": "4621a3bae9cafe56",
        "name": "block",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "payload.blockHash",
        "statusType": "msg",
        "x": 810,
        "y": 560,
        "wires": []
    },
    {
        "id": "19b000087e92cd17",
        "type": "debug",
        "z": "4621a3bae9cafe56",
        "name": "txn",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "summary.txHash",
        "statusType": "msg",
        "x": 810,
        "y": 460,
        "wires": []
    },
    {
        "id": "6b6f832309175259",
        "type": "template",
        "z": "4621a3bae9cafe56",
        "name": "NGSI-LD",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{\n    \"@context\": [\n        \"https://uri.etsi.org/ngsi-ld/v1/ngsi-ld-core-context.jsonld\",\n        \"https://schema.lab.fiware.org/ld/context\"\n    ],\n    \"id\": \"urn:entities:{{topic.reference}}\",\n    \"type\": \"Test\",\n    \"level\": {\n        \"type\": \"Property\",\n        \"value\": \"{{topic.level}}\"\n    },\n    \"reference\": {\n        \"type\": \"Property\",\n        \"value\": \"{{topic.reference}}\"\n    },\n    \"result\": {\n        \"type\": \"Property\",\n        \"value\": {{topic.result}}\n    },\n    \"timestamp\": {\n        \"type\": \"Property\",\n        \"value\": {{payload}}\n    }\n}",
        "output": "json",
        "x": 460,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "b8bb46dac0794cac",
        "type": "NGSI-Update",
        "z": "4621a3bae9cafe56",
        "name": "upsert LD",
        "endpoint": "",
        "protocol": "LD",
        "updateMode": "upsert-replace",
        "updateModev2": "append",
        "ldContext": "https://uri.etsi.org/ngsi-ld/v1/ngsi-ld-core-context.jsonld",
        "mimeType": "application/ld+json",
        "x": 800,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "2ec230e63243ca28",
        "type": "NGSI-Subscription",
        "z": "4621a3bae9cafe56",
        "name": "Test (LD)",
        "endpoint": "15d84497.52381b",
        "protocol": "LD",
        "ldContext": "https://schema.lab.fiware.org/ld/context",
        "entityType": "Test",
        "watchedAttributes": "",
        "q": "level==Acceptance;result<300",
        "notificationMode": "normalized",
        "notificationEndpoint": "https://fiware.zeldalegends.repl.co/universe",
        "notificationAttributes": "",
        "mimeType": "application/ld+json",
        "x": 280,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "d5c9d998fe44e4c0",
        "type": "contract-call",
        "z": "4621a3bae9cafe56",
        "name": "notarize",
        "smartContract": "511b16494c95c3e9",
        "contractFunction": "notarize",
        "senderAccount": "a46f63f7bc8183e7",
        "readonlyFunction": false,
        "weiTransfer": "",
        "onlyEstimateGas": false,
        "useEstimatedGasLimit": true,
        "gasLimit": "46591",
        "usePreviousBlocksGasPrice": true,
        "gasPrice": "46591",
        "fetchFullTransaction": false,
        "x": 460,
        "y": 500,
        "wires": [
            [
                "6b27b5696a2adfa0"
            ],
            [
                "ca07ac8d40c645b4"
            ]
        ]
    },
    {
        "id": "ad4f5365813930a2",
        "type": "inject",
        "z": "4621a3bae9cafe56",
        "name": "TEST",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 90,
        "y": 480,
        "wires": [
            [
                "65652a78de748b9b"
            ]
        ]
    },
    {
        "id": "65652a78de748b9b",
        "type": "NGSI-Dataset",
        "z": "4621a3bae9cafe56",
        "name": "Test (v2)",
        "endpoint": "",
        "protocol": "v2",
        "ldContext": "https://uri.etsi.org/ngsi-ld/v1/ngsi-ld-core-context.jsonld",
        "entityType": "Test",
        "attrs": "",
        "q": "",
        "mode": "keyValues",
        "x": 100,
        "y": 560,
        "wires": [
            [
                "4a009da98cce35f8"
            ]
        ]
    },
    {
        "id": "4a009da98cce35f8",
        "type": "json",
        "z": "4621a3bae9cafe56",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 250,
        "y": 560,
        "wires": [
            [
                "44b46e3358487f3d"
            ]
        ]
    },
    {
        "id": "44b46e3358487f3d",
        "type": "debug",
        "z": "4621a3bae9cafe56",
        "name": "entities",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 460,
        "y": 560,
        "wires": []
    },
    {
        "id": "434b8ed778f9db00",
        "type": "NGSI-Dataset",
        "z": "4621a3bae9cafe56",
        "name": "Test (LD)",
        "endpoint": "",
        "protocol": "LD",
        "ldContext": "https://uri.etsi.org/ngsi-ld/v1/ngsi-ld-core-context.jsonld",
        "entityType": "Test",
        "attrs": "",
        "q": "",
        "mode": "keyValues",
        "x": 120,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "c60eba27f1845693",
        "type": "inject",
        "z": "4621a3bae9cafe56",
        "name": "orion-proxy",
        "props": [
            {
                "p": "orion",
                "v": "orion",
                "vt": "flow"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 100,
        "y": 660,
        "wires": [
            [
                "e7761c31249e4bb2"
            ]
        ]
    },
    {
        "id": "e7761c31249e4bb2",
        "type": "change",
        "z": "4621a3bae9cafe56",
        "name": "get all entities",
        "rules": [
            {
                "t": "set",
                "p": "access_token",
                "pt": "msg",
                "to": "access_token",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"options\":\"keyValues\"}",
                "tot": "json"
            },
            {
                "t": "set",
                "p": "bearer",
                "pt": "msg",
                "to": "\"Bearer \" & access_token",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 280,
        "y": 660,
        "wires": [
            [
                "d5e2266f65eb7b8c"
            ]
        ]
    },
    {
        "id": "d5e2266f65eb7b8c",
        "type": "http request",
        "z": "4621a3bae9cafe56",
        "name": "GET /v2/entities",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "query",
        "url": "{{{orion}}}/v2/entities",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "Authorization",
                "keyValue": "",
                "valueType": "msg",
                "valueValue": "bearer"
            }
        ],
        "x": 480,
        "y": 660,
        "wires": [
            [
                "b390b8bdac9c9cb8",
                "35e8d49d9c9d8c47"
            ]
        ]
    },
    {
        "id": "f4817de5a95a1268",
        "type": "debug",
        "z": "4621a3bae9cafe56",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 850,
        "y": 660,
        "wires": []
    },
    {
        "id": "b390b8bdac9c9cb8",
        "type": "split",
        "z": "4621a3bae9cafe56",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 670,
        "y": 660,
        "wires": [
            [
                "f4817de5a95a1268"
            ]
        ]
    },
    {
        "id": "9fba41866cf00645",
        "type": "comment",
        "z": "4621a3bae9cafe56",
        "name": "Dump all entities (v2)",
        "info": "",
        "x": 140,
        "y": 620,
        "wires": []
    },
    {
        "id": "35e8d49d9c9d8c47",
        "type": "debug",
        "z": "4621a3bae9cafe56",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 690,
        "y": 720,
        "wires": []
    },
    {
        "id": "bda398c673ab88a4",
        "type": "debug",
        "z": "4621a3bae9cafe56",
        "name": "split",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "$count(payload) & \" subs\"",
        "statusType": "jsonata",
        "x": 930,
        "y": 300,
        "wires": []
    },
    {
        "id": "2332d0e471571254",
        "type": "inject",
        "z": "4621a3bae9cafe56",
        "name": "manual",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 90,
        "y": 280,
        "wires": [
            [
                "495422441c94b715"
            ]
        ]
    },
    {
        "id": "facbebd527c8a8ee",
        "type": "inject",
        "z": "4621a3bae9cafe56",
        "name": "manual",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 90,
        "y": 320,
        "wires": [
            [
                "b2420d373816fe0e"
            ]
        ]
    },
    {
        "id": "30195fdb44cf69b7",
        "type": "change",
        "z": "4621a3bae9cafe56",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "orion",
                "pt": "msg",
                "to": "https://1026-<user>-<workspace>-<id>.ws-eu54.gitpod.io",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 480,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "3fa0b35751d40377",
        "type": "http request",
        "z": "4621a3bae9cafe56",
        "name": "GET /v2/subscriptions/",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "{{{orion}}}/v2/subscriptions/",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "x-auth-token"
            }
        ],
        "x": 700,
        "y": 300,
        "wires": [
            [
                "bda398c673ab88a4",
                "fefb42fed0c49b9d"
            ]
        ]
    },
    {
        "id": "09b86ac3926898b4",
        "type": "http request",
        "z": "4621a3bae9cafe56",
        "name": "DELETE /v2/subscriptions/{{payload.id}}",
        "method": "DELETE",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "{{{orion}}}/v2/subscriptions/{{payload.id}}",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "x-auth-token"
            }
        ],
        "x": 760,
        "y": 380,
        "wires": [
            [
                "8291663de05a8132"
            ]
        ]
    },
    {
        "id": "fefb42fed0c49b9d",
        "type": "split",
        "z": "4621a3bae9cafe56",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 930,
        "y": 300,
        "wires": [
            [
                "09b86ac3926898b4"
            ]
        ]
    },
    {
        "id": "a8264126e58ca65f",
        "type": "http request",
        "z": "4621a3bae9cafe56",
        "name": "DELETE /ngsi-ld/v1/subscriptions/{{payload.id}}",
        "method": "DELETE",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "{{{orion}}}/ngsi-ld/v1/subscriptions/{{payload.id}}",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "x-auth-token"
            }
        ],
        "x": 800,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "d4c712cc2d56010c",
        "type": "http request",
        "z": "4621a3bae9cafe56",
        "name": "GET /ngsi-ld/v1/subscriptions/",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "{{{orion}}}/ngsi-ld/v1/subscriptions/",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "x-auth-token"
            }
        ],
        "x": 750,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "8291663de05a8132",
        "type": "debug",
        "z": "4621a3bae9cafe56",
        "name": "debug 5",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 920,
        "y": 420,
        "wires": []
    },
    {
        "id": "4ddd135a9fe655c8",
        "type": "debug",
        "z": "4621a3bae9cafe56",
        "name": "get flow.client id",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "clientId",
        "targetType": "msg",
        "statusVal": "clientId",
        "statusType": "auto",
        "x": 800,
        "y": 1000,
        "wires": []
    },
    {
        "id": "29e9b087961e75b5",
        "type": "debug",
        "z": "4621a3bae9cafe56",
        "name": "get flow.client.secret",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "clientSecret",
        "targetType": "msg",
        "statusVal": "clientId",
        "statusType": "auto",
        "x": 820,
        "y": 1060,
        "wires": []
    },
    {
        "id": "249d66720a4c1d88",
        "type": "change",
        "z": "4621a3bae9cafe56",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "clientSecret",
                "pt": "flow",
                "to": "clientSecret",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 820,
        "y": 1060,
        "wires": [
            []
        ]
    },
    {
        "id": "238f1669a98f28bd",
        "type": "change",
        "z": "4621a3bae9cafe56",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "clientId",
                "pt": "flow",
                "to": "clientId",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 800,
        "y": 1000,
        "wires": [
            []
        ]
    },
    {
        "id": "b3d62b666906cb83",
        "type": "debug",
        "z": "4621a3bae9cafe56",
        "name": "get flow.username",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "username",
        "targetType": "msg",
        "statusVal": "username",
        "statusType": "auto",
        "x": 810,
        "y": 880,
        "wires": []
    },
    {
        "id": "c7ba6d6494dc6ba7",
        "type": "change",
        "z": "4621a3bae9cafe56",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "username",
                "pt": "flow",
                "to": "username",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 810,
        "y": 880,
        "wires": [
            []
        ]
    },
    {
        "id": "59cfa845d502073c",
        "type": "debug",
        "z": "4621a3bae9cafe56",
        "name": "get flow.password",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "password",
        "targetType": "msg",
        "statusVal": "password",
        "statusType": "auto",
        "x": 810,
        "y": 940,
        "wires": []
    },
    {
        "id": "cb6fb97f387038b4",
        "type": "change",
        "z": "4621a3bae9cafe56",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "password",
                "pt": "flow",
                "to": "password",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 810,
        "y": 940,
        "wires": [
            []
        ]
    },
    {
        "id": "7ef61be73e3b0823",
        "type": "debug",
        "z": "4621a3bae9cafe56",
        "name": "get flow.orion",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "orion",
        "targetType": "msg",
        "statusVal": "username",
        "statusType": "auto",
        "x": 790,
        "y": 760,
        "wires": []
    },
    {
        "id": "2d809ba9e47fb0e0",
        "type": "change",
        "z": "4621a3bae9cafe56",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "orion",
                "pt": "flow",
                "to": "orion",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 790,
        "y": 760,
        "wires": [
            []
        ]
    },
    {
        "id": "bdef2715a0299586",
        "type": "debug",
        "z": "4621a3bae9cafe56",
        "name": "get flow.keyrock",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "keyrock",
        "targetType": "msg",
        "statusVal": "username",
        "statusType": "auto",
        "x": 800,
        "y": 820,
        "wires": []
    },
    {
        "id": "0ea3afb3b75b8ffd",
        "type": "change",
        "z": "4621a3bae9cafe56",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "keyrock",
                "pt": "flow",
                "to": "keyrock",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 800,
        "y": 820,
        "wires": [
            []
        ]
    },
    {
        "id": "718762eba46388e3",
        "type": "debug",
        "z": "4621a3bae9cafe56",
        "g": "acbc51a19c5f252b",
        "name": "keyrock access token",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "payload.access_token",
        "statusType": "msg",
        "x": 500,
        "y": 920,
        "wires": []
    },
    {
        "id": "9b758950fa84d340",
        "type": "change",
        "z": "4621a3bae9cafe56",
        "g": "acbc51a19c5f252b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "x-auth-token",
                "pt": "flow",
                "to": "payload.access_token",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 180,
        "y": 920,
        "wires": [
            [
                "718762eba46388e3",
                "9f431c1fa3415d6f"
            ]
        ]
    },
    {
        "id": "f4fc170835181aa6",
        "type": "http request",
        "z": "4621a3bae9cafe56",
        "g": "acbc51a19c5f252b",
        "name": "POST /oauth2/token",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "{{{keyrock}}}/oauth2/token",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "Authorization",
                "keyValue": "",
                "valueType": "msg",
                "valueValue": "authorization"
            },
            {
                "keyType": "Content-Type",
                "keyValue": "",
                "valueType": "msg",
                "valueValue": "content-type"
            }
        ],
        "x": 500,
        "y": 860,
        "wires": [
            [
                "9b758950fa84d340"
            ]
        ]
    },
    {
        "id": "58dcf7acb347c02d",
        "type": "change",
        "z": "4621a3bae9cafe56",
        "g": "acbc51a19c5f252b",
        "name": "set headers",
        "rules": [
            {
                "t": "set",
                "p": "authorization",
                "pt": "msg",
                "to": "\"Basic \" & clientCredentials",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "content-type",
                "pt": "msg",
                "to": "application/x-www-form-urlencoded",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 150,
        "y": 860,
        "wires": [
            [
                "9640bfdb7077fafb"
            ]
        ]
    },
    {
        "id": "e1778a2b99592df7",
        "type": "change",
        "z": "4621a3bae9cafe56",
        "g": "acbc51a19c5f252b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "clientCredentials",
                "pt": "msg",
                "to": "clientId & \":\" & clientSecret",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 350,
        "y": 800,
        "wires": [
            [
                "6825658a9fa2c096"
            ]
        ]
    },
    {
        "id": "ec97a993413526a6",
        "type": "inject",
        "z": "4621a3bae9cafe56",
        "g": "acbc51a19c5f252b",
        "name": "FIWARE Lab",
        "props": [
            {
                "p": "orion",
                "v": "http://orion.lab.fiware.org:1026",
                "vt": "str"
            },
            {
                "p": "keyrock",
                "v": "https://account.lab.fiware.org",
                "vt": "str"
            },
            {
                "p": "clientId",
                "v": "FIWARE_CLIENT_ID",
                "vt": "env"
            },
            {
                "p": "clientSecret",
                "v": "FIWARE_CLIENT_SECRET",
                "vt": "env"
            },
            {
                "p": "email",
                "v": "FIWARE_EMAIL",
                "vt": "env"
            },
            {
                "p": "password",
                "v": "FIWARE_PASSWORD",
                "vt": "env"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "x": 150,
        "y": 800,
        "wires": [
            [
                "e1778a2b99592df7"
            ]
        ]
    },
    {
        "id": "9f431c1fa3415d6f",
        "type": "change",
        "z": "4621a3bae9cafe56",
        "g": "acbc51a19c5f252b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "x-auth-token",
                "pt": "msg",
                "to": "x-auth-token",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 180,
        "y": 1040,
        "wires": [
            [
                "91b41736f7f2fb85",
                "521b7c0acb9b7532"
            ]
        ]
    },
    {
        "id": "91b41736f7f2fb85",
        "type": "http request",
        "z": "4621a3bae9cafe56",
        "g": "acbc51a19c5f252b",
        "name": "GET /v2/entities/",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "{{{orion}}}/v2/entities/",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "x-auth-token"
            }
        ],
        "x": 380,
        "y": 1040,
        "wires": [
            [
                "8c7f51b59ec845d3"
            ]
        ]
    },
    {
        "id": "8c7f51b59ec845d3",
        "type": "debug",
        "z": "4621a3bae9cafe56",
        "g": "acbc51a19c5f252b",
        "name": "all ngsi db",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "$count(payload) & \" entities\"\t",
        "statusType": "jsonata",
        "x": 540,
        "y": 1040,
        "wires": []
    },
    {
        "id": "521b7c0acb9b7532",
        "type": "http request",
        "z": "4621a3bae9cafe56",
        "g": "acbc51a19c5f252b",
        "name": "GET /version",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "{{{orion}}}/version",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "x-auth-token"
            }
        ],
        "x": 390,
        "y": 980,
        "wires": [
            [
                "24fea8e88e67d201"
            ]
        ]
    },
    {
        "id": "24fea8e88e67d201",
        "type": "debug",
        "z": "4621a3bae9cafe56",
        "g": "acbc51a19c5f252b",
        "name": "version",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload.orion.version",
        "statusType": "msg",
        "x": 540,
        "y": 980,
        "wires": []
    },
    {
        "id": "6825658a9fa2c096",
        "type": "base64",
        "z": "4621a3bae9cafe56",
        "g": "acbc51a19c5f252b",
        "name": "",
        "action": "str",
        "property": "clientCredentials",
        "x": 540,
        "y": 800,
        "wires": [
            [
                "58dcf7acb347c02d",
                "2d809ba9e47fb0e0",
                "0ea3afb3b75b8ffd",
                "c7ba6d6494dc6ba7",
                "cb6fb97f387038b4",
                "238f1669a98f28bd",
                "249d66720a4c1d88"
            ]
        ]
    },
    {
        "id": "f3e2aaa40a0c5cca",
        "type": "comment",
        "z": "4621a3bae9cafe56",
        "g": "acbc51a19c5f252b",
        "name": "FIWARE Authentication",
        "info": "",
        "x": 180,
        "y": 980,
        "wires": []
    },
    {
        "id": "9640bfdb7077fafb",
        "type": "template",
        "z": "4621a3bae9cafe56",
        "g": "acbc51a19c5f252b",
        "name": "set payload",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "username={{email}}&password={{password}}&grant_type=password",
        "output": "str",
        "x": 310,
        "y": 860,
        "wires": [
            [
                "f4fc170835181aa6"
            ]
        ]
    },
    {
        "id": "472c1544e43e7c4d",
        "type": "comment",
        "z": "4621a3bae9cafe56",
        "name": "START HERE",
        "info": "# [Open in Gitpod](https://gitpod.io/#https://github.com/zeldalegends/tutorials.PEP-Proxy/tree/custom-aio)\n\n### Legacy\n\n[zeldalegend-tutorialspe-1sxitfv423q.ws-eu59](https://zeldalegend-tutorialspe-1sxitfv423q.ws-eu59.gitpod.io/)\n\nCustom-NGSI-LD\n[Github](https://github.com/alinonet/tutorials.PEP-Proxy/tree/custom-NGSI-LD)\n[Gitpod](https://alinonet-tutorialspeppr-0cblvtrp6ur.ws-eu54.gitpod.io/)\n\nFIWARE Universe\n[Github](https://github.com/alinonet/tutorials.PEP-Proxy/tree/fiware-universe)\n[Gitpod](https://alinonet-tutorialspeppr-n5lnjorgk89.ws-eu59.gitpod.io/)\n",
        "x": 330,
        "y": 1160,
        "wires": []
    },
    {
        "id": "ca08eaa5ef7049a2",
        "type": "http request",
        "z": "4621a3bae9cafe56",
        "g": "8c1dee98eb885d92",
        "name": "GET /version (v2)",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "{{{orion}}}/version",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 530,
        "y": 1160,
        "wires": [
            [
                "801c21d96f43b88c"
            ]
        ]
    },
    {
        "id": "801c21d96f43b88c",
        "type": "debug",
        "z": "4621a3bae9cafe56",
        "g": "8c1dee98eb885d92",
        "name": "orion version",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "statusCode&\" - \"&(payload.error?payload.error:payload.orion.version)",
        "statusType": "jsonata",
        "x": 730,
        "y": 1160,
        "wires": []
    },
    {
        "id": "d9afe2295042aafd",
        "type": "debug",
        "z": "4621a3bae9cafe56",
        "g": "8c1dee98eb885d92",
        "name": "set access token",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "statusCode&\" - \"&(payload.error?payload.error:payload.access_token)",
        "statusType": "jsonata",
        "x": 750,
        "y": 1400,
        "wires": []
    },
    {
        "id": "cb38fcce417fb255",
        "type": "http request",
        "z": "4621a3bae9cafe56",
        "g": "8c1dee98eb885d92",
        "name": "POST /oauth2/token",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "{{{keyrock}}}/oauth2/token",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "Authorization",
                "keyValue": "",
                "valueType": "msg",
                "valueValue": "authorization"
            },
            {
                "keyType": "Content-Type",
                "keyValue": "",
                "valueType": "msg",
                "valueValue": "content-type"
            }
        ],
        "x": 540,
        "y": 1400,
        "wires": [
            [
                "3ee2da573bff6508",
                "d9afe2295042aafd"
            ]
        ]
    },
    {
        "id": "9fe86a418a1a83a5",
        "type": "debug",
        "z": "4621a3bae9cafe56",
        "g": "8c1dee98eb885d92",
        "name": "headers",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "\"Basic \" & clientCredentials",
        "statusType": "jsonata",
        "x": 140,
        "y": 1400,
        "wires": []
    },
    {
        "id": "3ee2da573bff6508",
        "type": "change",
        "z": "4621a3bae9cafe56",
        "g": "8c1dee98eb885d92",
        "name": "set access token",
        "rules": [
            {
                "t": "set",
                "p": "x-auth-token",
                "pt": "flow",
                "to": "payload.access_token",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 750,
        "y": 1400,
        "wires": [
            []
        ]
    },
    {
        "id": "dd8084f9b6293f5b",
        "type": "http request",
        "z": "4621a3bae9cafe56",
        "g": "8c1dee98eb885d92",
        "name": "GET /version (IdM)",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "{{{keyrock}}}/version",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 530,
        "y": 1280,
        "wires": [
            [
                "ce47d88d2ab38fa5"
            ]
        ]
    },
    {
        "id": "ce47d88d2ab38fa5",
        "type": "debug",
        "z": "4621a3bae9cafe56",
        "g": "8c1dee98eb885d92",
        "name": "keyrock version",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "statusCode&\" - \"&(payload.error?payload.error:payload.keyrock.version)",
        "statusType": "jsonata",
        "x": 740,
        "y": 1280,
        "wires": []
    },
    {
        "id": "ed120f22df36994e",
        "type": "change",
        "z": "4621a3bae9cafe56",
        "g": "8c1dee98eb885d92",
        "name": "headers",
        "rules": [
            {
                "t": "set",
                "p": "authorization",
                "pt": "msg",
                "to": "\"Basic \" & clientCredentials",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "content-type",
                "pt": "msg",
                "to": "application/x-www-form-urlencoded",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 140,
        "y": 1400,
        "wires": [
            [
                "b4d0f2b889b507ed"
            ]
        ]
    },
    {
        "id": "028ed664f4317e6e",
        "type": "inject",
        "z": "4621a3bae9cafe56",
        "g": "8c1dee98eb885d92",
        "name": "new token",
        "props": [
            {
                "p": "payload.url",
                "v": "gitpod",
                "vt": "flow"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 140,
        "y": 1280,
        "wires": [
            [
                "ced237f60b53fcc9"
            ]
        ]
    },
    {
        "id": "b4d0f2b889b507ed",
        "type": "template",
        "z": "4621a3bae9cafe56",
        "g": "8c1dee98eb885d92",
        "name": "grant password",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "grant_type=password&username={{{username}}}&password={{{password}}}",
        "output": "str",
        "x": 340,
        "y": 1400,
        "wires": [
            [
                "cb38fcce417fb255"
            ]
        ]
    },
    {
        "id": "26177be72569d131",
        "type": "base64",
        "z": "4621a3bae9cafe56",
        "g": "8c1dee98eb885d92",
        "name": "",
        "action": "str",
        "property": "clientCredentials",
        "x": 140,
        "y": 1340,
        "wires": [
            [
                "ed120f22df36994e",
                "8eb304793d7cacae",
                "1953990d564f3505",
                "9fe86a418a1a83a5",
                "6cb826b3c608b31f"
            ]
        ]
    },
    {
        "id": "8eb304793d7cacae",
        "type": "debug",
        "z": "4621a3bae9cafe56",
        "g": "8c1dee98eb885d92",
        "name": "client id",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "clientId",
        "targetType": "msg",
        "statusVal": "clientId",
        "statusType": "auto",
        "x": 500,
        "y": 1340,
        "wires": []
    },
    {
        "id": "1953990d564f3505",
        "type": "debug",
        "z": "4621a3bae9cafe56",
        "g": "8c1dee98eb885d92",
        "name": "client secret",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "clientSecret",
        "targetType": "msg",
        "statusVal": "clientId",
        "statusType": "auto",
        "x": 730,
        "y": 1340,
        "wires": []
    },
    {
        "id": "90b2c47b2985a2dc",
        "type": "http request",
        "z": "4621a3bae9cafe56",
        "g": "8c1dee98eb885d92",
        "name": "GET /version (LD)",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "{{{orion-ld}}}/version",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 530,
        "y": 1220,
        "wires": [
            [
                "b4a8bf37c1492b4a"
            ]
        ]
    },
    {
        "id": "b4a8bf37c1492b4a",
        "type": "debug",
        "z": "4621a3bae9cafe56",
        "g": "8c1dee98eb885d92",
        "name": "orion ld version",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "statusCode&\" - \"&(payload.error?payload.error:payload[\"orionld version\"])",
        "statusType": "jsonata",
        "x": 740,
        "y": 1220,
        "wires": []
    },
    {
        "id": "c38d6db8e2fff14c",
        "type": "http in",
        "z": "4621a3bae9cafe56",
        "g": "8c1dee98eb885d92",
        "name": "",
        "url": "EX GITPOD",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 150,
        "y": 1220,
        "wires": [
            [
                "7cfdcadf2f330eea",
                "4a8b91c365b49afa",
                "ced237f60b53fcc9"
            ]
        ]
    },
    {
        "id": "4a8b91c365b49afa",
        "type": "debug",
        "z": "4621a3bae9cafe56",
        "g": "8c1dee98eb885d92",
        "name": "http",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload.url",
        "targetType": "msg",
        "statusVal": "payload.url",
        "statusType": "msg",
        "x": 310,
        "y": 1220,
        "wires": []
    },
    {
        "id": "7cfdcadf2f330eea",
        "type": "http response",
        "z": "4621a3bae9cafe56",
        "g": "8c1dee98eb885d92",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 310,
        "y": 1220,
        "wires": []
    },
    {
        "id": "6cb826b3c608b31f",
        "type": "debug",
        "z": "4621a3bae9cafe56",
        "g": "8c1dee98eb885d92",
        "name": "username",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "username",
        "targetType": "msg",
        "statusVal": "username",
        "statusType": "auto",
        "x": 320,
        "y": 1340,
        "wires": []
    },
    {
        "id": "ced237f60b53fcc9",
        "type": "change",
        "z": "4621a3bae9cafe56",
        "g": "8c1dee98eb885d92",
        "name": "set vars",
        "rules": [
            {
                "t": "set",
                "p": "gitpod",
                "pt": "msg",
                "to": "payload.url",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "orion",
                "pt": "msg",
                "to": "\"https://1027-\" & $replace(gitpod,\"https://\",\"\")",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "orion-ld",
                "pt": "msg",
                "to": "\"https://1029-\" & $replace(gitpod,\"https://\",\"\")",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "keyrock",
                "pt": "msg",
                "to": "\"https://3005-\" & $replace(gitpod,\"https://\",\"\")",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "username",
                "pt": "msg",
                "to": "alice-the-admin@test.com",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "password",
                "pt": "msg",
                "to": "test",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "clientId",
                "pt": "msg",
                "to": "tutorial-dckr-site-0000-xpresswebapp",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "clientSecret",
                "pt": "msg",
                "to": "tutorial-dckr-site-0000-clientsecret",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "clientCredentials",
                "pt": "msg",
                "to": "clientId & \":\" & clientSecret",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "gitpod",
                "pt": "flow",
                "to": "gitpod",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "keyrock",
                "pt": "flow",
                "to": "keyrock",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "orion",
                "pt": "flow",
                "to": "orion",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "orion-ld",
                "pt": "flow",
                "to": "orion-ld",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 320,
        "y": 1280,
        "wires": [
            [
                "26177be72569d131",
                "dd8084f9b6293f5b",
                "90b2c47b2985a2dc",
                "ca08eaa5ef7049a2"
            ]
        ]
    },
    {
        "id": "2cc9e5c28b9372cf",
        "type": "inject",
        "z": "4621a3bae9cafe56",
        "g": "8c1dee98eb885d92",
        "name": "FIWARE Lab",
        "props": [
            {
                "p": "orion",
                "v": "http://orion.lab.fiware.org:1026",
                "vt": "str"
            },
            {
                "p": "keyrock",
                "v": "https://account.lab.fiware.org",
                "vt": "str"
            },
            {
                "p": "clientId",
                "v": "FIWARE_CLIENT_ID",
                "vt": "env"
            },
            {
                "p": "clientSecret",
                "v": "FIWARE_CLIENT_SECRET",
                "vt": "env"
            },
            {
                "p": "username",
                "v": "FIWARE_EMAIL",
                "vt": "env"
            },
            {
                "p": "password",
                "v": "FIWARE_PASSWORD",
                "vt": "env"
            },
            {
                "p": "clientCredentials",
                "v": "clientId & \":\" & clientSecret",
                "vt": "jsonata"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 150,
        "y": 1160,
        "wires": [
            [
                "26177be72569d131"
            ]
        ]
    },
    {
        "id": "d2c6553ddfe6e1ec",
        "type": "ui_text",
        "z": "4621a3bae9cafe56",
        "group": "3887268fb207a290",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Gas price (Wei)",
        "format": "{{msg.summary.options.gasPrice}}",
        "layout": "row-spread",
        "className": "",
        "x": 840,
        "y": 520,
        "wires": []
    },
    {
        "id": "7ccf9a969511e69c",
        "type": "ui_template",
        "z": "e52631fa86fdd3be",
        "group": "428fc8e6d916cf55",
        "name": "Orion",
        "order": 1,
        "width": 0,
        "height": 0,
        "format": "<h4>\n    <img height=\"36\" src=\"https://outbarriers.com/static/img/fiware/orion-logo.png\" />\n    Orion LD\n    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n    <a href=\"https://fiware.github.io/data-models/context.jsonld\" title=\"FIWARE Data Model\"><img style=\"border:0px;\" height=\"36\" src=\"https://account.thethingsnetwork.org/api/v2/users/atdfiware/picture.jpg\" alt=\"FIWARE Data Model\"/></a>\n    <a href=\"https://uri.etsi.org/ngsi-ld/v1/ngsi-ld-core-context.jsonld\" title=\"NGSI Core Context\"><img style=\"border:0px;\" height=\"36\" src=\"https://json-ld.org/images/json-ld-data-48.png\" alt=\"NGSI Core Context\"/></a>\n</h4>\n<textarea style=\"font-size:14px;\" rows=\"9\">{{msg.payload}}</textarea>\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 570,
        "y": 180,
        "wires": [
            [
                "e409f3cc90a4caf9"
            ]
        ]
    },
    {
        "id": "0291d8caca30be5c",
        "type": "debug",
        "z": "e52631fa86fdd3be",
        "name": "entity",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "statusCode",
        "statusType": "msg",
        "x": 870,
        "y": 180,
        "wires": []
    },
    {
        "id": "11ea9bf44451a42e",
        "type": "contract-call",
        "z": "e52631fa86fdd3be",
        "name": "notarize",
        "smartContract": "b250872af2defa8d",
        "contractFunction": "notarize",
        "senderAccount": "4309ab3d92258a66",
        "readonlyFunction": false,
        "weiTransfer": "",
        "onlyEstimateGas": false,
        "useEstimatedGasLimit": true,
        "gasLimit": "46591",
        "usePreviousBlocksGasPrice": true,
        "gasPrice": "46591",
        "fetchFullTransaction": false,
        "x": 460,
        "y": 340,
        "wires": [
            [
                "5ead606b11285a79"
            ],
            [
                "dc51d6e56b842a60"
            ]
        ]
    },
    {
        "id": "5c1c64259f8f1c39",
        "type": "debug",
        "z": "e52631fa86fdd3be",
        "name": "tx hash",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "summary.txHash",
        "statusType": "msg",
        "x": 860,
        "y": 300,
        "wires": []
    },
    {
        "id": "3de5615b1a791c3a",
        "type": "debug",
        "z": "e52631fa86fdd3be",
        "name": "block #",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload.blockNumber",
        "statusType": "msg",
        "x": 860,
        "y": 380,
        "wires": []
    },
    {
        "id": "0bcb97d5538ee2d6",
        "type": "http in",
        "z": "e52631fa86fdd3be",
        "name": "",
        "url": "/univ",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 100,
        "y": 400,
        "wires": [
            [
                "524d68c462ef3a2e",
                "b1e44166ca7e50c3"
            ]
        ]
    },
    {
        "id": "486b4d67c15beb04",
        "type": "inject",
        "z": "e52631fa86fdd3be",
        "name": "INIT",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 90,
        "y": 240,
        "wires": [
            [
                "d33f2b0d0b84571a",
                "7ae59962402411eb"
            ]
        ]
    },
    {
        "id": "df45ac331f0e9ca1",
        "type": "ui_button",
        "z": "e52631fa86fdd3be",
        "name": "",
        "group": "428fc8e6d916cf55",
        "order": 2,
        "width": "3",
        "height": 1,
        "passthru": true,
        "label": "Subscribe",
        "tooltip": "Send to BC via CB subscription",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "create",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 260,
        "y": 280,
        "wires": [
            [
                "fa1ffb5234e5a36e"
            ]
        ]
    },
    {
        "id": "d33f2b0d0b84571a",
        "type": "ui_button",
        "z": "e52631fa86fdd3be",
        "name": "",
        "group": "428fc8e6d916cf55",
        "order": 3,
        "width": "3",
        "height": 1,
        "passthru": true,
        "label": "Unsubscribe",
        "tooltip": "Clear all CB subscriptions",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "delete",
        "payload": "",
        "payloadType": "str",
        "topic": "first",
        "topicType": "flow",
        "x": 270,
        "y": 240,
        "wires": [
            [
                "58b3dcc2090052bc"
            ]
        ]
    },
    {
        "id": "1070881307c41888",
        "type": "comment",
        "z": "e52631fa86fdd3be",
        "name": "README",
        "info": "=========================================\nInserire le URL di Orion e di Node-RED\n(la URL attualmente sul browser) nei nodi\ncontrassegnati con il logo di \"FIWARE\".\n=========================================\nIl programma scrive sul Context Broker\nOrion LD i risultati dei test immessi.\n\nAl riavvio è programmato per annullare\ntutte le sottoscrizioni al Context Broker,\ne mantenerne solo quella al servizio\ndi notarizzazione su Blockchain. \n\nPer imostazione predefinita, notarizza\nsu Blockchain Ethereum (Ganache in Docker)\nsolo gli Acceptance Test con un codice\nrisultato pari a 100 o 200.",
        "x": 860,
        "y": 120,
        "wires": []
    },
    {
        "id": "4be507e3bcd99258",
        "type": "ui_text_input",
        "z": "e52631fa86fdd3be",
        "name": "",
        "label": "Test reference",
        "tooltip": "",
        "group": "47bd647b0bf55722",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 280,
        "y": 80,
        "wires": [
            [
                "9ea7a811833baabf"
            ]
        ]
    },
    {
        "id": "b4b540e2423f722e",
        "type": "ui_button",
        "z": "e52631fa86fdd3be",
        "name": "",
        "group": "47bd647b0bf55722",
        "order": 5,
        "width": "0",
        "height": "0",
        "passthru": true,
        "label": "Submit",
        "tooltip": "Send to the CB",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "send",
        "payload": "",
        "payloadType": "date",
        "topic": "test",
        "topicType": "flow",
        "x": 260,
        "y": 180,
        "wires": [
            [
                "4a1bf714e7de66d0"
            ]
        ]
    },
    {
        "id": "9ea7a811833baabf",
        "type": "change",
        "z": "e52631fa86fdd3be",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "test.reference",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 500,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "b6623e02d1286557",
        "type": "change",
        "z": "e52631fa86fdd3be",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "test.result",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 40,
        "wires": [
            []
        ]
    },
    {
        "id": "9f860956e48e981d",
        "type": "change",
        "z": "e52631fa86fdd3be",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "test.level",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "afad20550f2620e2",
        "type": "ui_dropdown",
        "z": "e52631fa86fdd3be",
        "name": "",
        "label": "Test level",
        "tooltip": "",
        "place": "Select option",
        "group": "47bd647b0bf55722",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "Unit",
                "value": "Unit",
                "type": "str"
            },
            {
                "label": "Integration",
                "value": "Integration",
                "type": "str"
            },
            {
                "label": "System",
                "value": "System",
                "type": "str"
            },
            {
                "label": "Acceptance",
                "value": "Acceptance",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 260,
        "y": 120,
        "wires": [
            [
                "9f860956e48e981d"
            ]
        ]
    },
    {
        "id": "f6b2109d74b0c7a2",
        "type": "template",
        "z": "e52631fa86fdd3be",
        "name": "NGSI",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "[\n    {\n        \"@context\": [\n            \"https://uri.etsi.org/ngsi-ld/v1/ngsi-ld-core-context.jsonld\",\n            \"https://fiware.github.io/data-models/context.jsonld\"\n        ],\n        \"id\": \"urn:entities:{{topic.reference}}\",\n        \"type\": \"Test\",\n        \"level\": {\n            \"type\": \"Property\",\n            \"value\": \"{{topic.level}}\"\n        },\n        \"reference\": {\n            \"type\": \"Property\",\n            \"value\": \"{{topic.reference}}\"\n        },\n        \"result\": {\n            \"type\": \"Property\",\n            \"value\": {{topic.result}}\n        },\n        \"timestamp\": {\n            \"type\": \"Property\",\n            \"value\": {{payload}}\n        }\n    }\n]",
        "output": "json",
        "x": 450,
        "y": 180,
        "wires": [
            [
                "7ccf9a969511e69c"
            ]
        ]
    },
    {
        "id": "33840cdc7d617c9f",
        "type": "inject",
        "z": "e52631fa86fdd3be",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "Acceptance",
        "payloadType": "str",
        "x": 110,
        "y": 120,
        "wires": [
            [
                "afad20550f2620e2"
            ]
        ]
    },
    {
        "id": "0b0324e0b7872387",
        "type": "inject",
        "z": "e52631fa86fdd3be",
        "name": "random",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "\"IT\" & $round($random()*1000)",
        "payloadType": "jsonata",
        "x": 100,
        "y": 80,
        "wires": [
            [
                "4be507e3bcd99258"
            ]
        ]
    },
    {
        "id": "168ffbbee04893ca",
        "type": "inject",
        "z": "e52631fa86fdd3be",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "200",
        "payloadType": "num",
        "x": 90,
        "y": 40,
        "wires": [
            [
                "7db8b7789c495caf"
            ]
        ]
    },
    {
        "id": "7db8b7789c495caf",
        "type": "ui_numeric",
        "z": "e52631fa86fdd3be",
        "name": "",
        "label": "Test result",
        "tooltip": "",
        "group": "47bd647b0bf55722",
        "order": 4,
        "width": 0,
        "height": 0,
        "wrap": false,
        "passthru": true,
        "topic": "time",
        "topicType": "msg",
        "format": "{{value}}",
        "min": "100",
        "max": "500",
        "step": "100",
        "className": "",
        "x": 270,
        "y": 40,
        "wires": [
            [
                "b6623e02d1286557"
            ]
        ]
    },
    {
        "id": "bb1dfa6b940b2d51",
        "type": "debug",
        "z": "e52631fa86fdd3be",
        "name": "sub error",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "statusCode",
        "statusType": "msg",
        "x": 260,
        "y": 340,
        "wires": []
    },
    {
        "id": "7ae59962402411eb",
        "type": "delay",
        "z": "e52631fa86fdd3be",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 100,
        "y": 280,
        "wires": [
            [
                "df45ac331f0e9ca1"
            ]
        ]
    },
    {
        "id": "5ead606b11285a79",
        "type": "template",
        "z": "e52631fa86fdd3be",
        "name": "hash",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "TXN in progress...\n\nHash: {{payload}}\n",
        "output": "str",
        "x": 690,
        "y": 300,
        "wires": [
            [
                "5c1c64259f8f1c39",
                "dc51d6e56b842a60"
            ]
        ]
    },
    {
        "id": "b00b7392cc25aa7c",
        "type": "ui_template",
        "z": "e52631fa86fdd3be",
        "group": "47bd647b0bf55722",
        "name": "DEDALUS Banner for the Demo",
        "order": 1,
        "width": "6",
        "height": "2",
        "format": "<img src='https://dedalus-horizon.eu/wp-content/uploads/2023/08/Screenshot-from-2023-08-13-12-19-46.png' width=100%>\n</div>\n<h4>WP3 demo</h4>\n\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 790,
        "y": 40,
        "wires": [
            []
        ]
    },
    {
        "id": "b1e44166ca7e50c3",
        "type": "http response",
        "z": "e52631fa86fdd3be",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 90,
        "y": 460,
        "wires": []
    },
    {
        "id": "524d68c462ef3a2e",
        "type": "function",
        "z": "e52631fa86fdd3be",
        "name": "[digest,entity]",
        "func": "// extract data\nmsg.payload = msg.payload.data[0];\n\n// return buffer\nmsg.hash = keccak256(JSON.stringify(msg.payload));\n\n// return string\nmsg.hex = \"0x\" + msg.hash.toString('hex');\n\nnode.status({ fill:\"blue\", shape:\"ring\", text:msg.hex });\nreturn {payload:[msg.hash, JSON.stringify(msg.payload)]};",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "keccak256",
                "module": "keccak256"
            }
        ],
        "x": 270,
        "y": 400,
        "wires": [
            [
                "11ea9bf44451a42e",
                "02139f7c8e098f31"
            ]
        ]
    },
    {
        "id": "02139f7c8e098f31",
        "type": "debug",
        "z": "e52631fa86fdd3be",
        "name": "notification",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "$eval(payload[1]).id",
        "statusType": "jsonata",
        "x": 470,
        "y": 380,
        "wires": []
    },
    {
        "id": "dc51d6e56b842a60",
        "type": "ui_template",
        "z": "e52631fa86fdd3be",
        "group": "3887268fb207a290",
        "name": "Ethereum",
        "order": 1,
        "width": 0,
        "height": 0,
        "format": "<h4>\n    <img height=\"36\" src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6f/Ethereum-icon-purple.svg/240px-Ethereum-icon-purple.svg.png\" />\n    Ethereum\n    <!--&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n    <a href=\"https://goerli.etherscan.io/tx/{{msg.summary.txHash}}\"><input type=\"image\" height=\"24\" src=\"https://etherscan.io/assets/svg/logos/logo-etherscan.svg\" alt=\"Open in Etherscan.io\"/></a-->\n</h4>\n<textarea style=\"font-size:14px;\" rows=\"12\">{{msg.payload}}</textarea>\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 700,
        "y": 380,
        "wires": [
            [
                "3de5615b1a791c3a"
            ]
        ]
    },
    {
        "id": "fca10557a6a499d1",
        "type": "http request",
        "z": "e52631fa86fdd3be",
        "name": "POST /subs",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "{{{orion-ld}}}/ngsi-ld/v1/subscriptions",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "Content-Type",
                "keyValue": "",
                "valueType": "other",
                "valueValue": "application/ld+json"
            }
        ],
        "x": 110,
        "y": 340,
        "wires": [
            [
                "bb1dfa6b940b2d51"
            ]
        ]
    },
    {
        "id": "f6ce7806f9bd5d09",
        "type": "ui_template",
        "z": "e52631fa86fdd3be",
        "d": true,
        "group": "47bd647b0bf55722",
        "name": "Universe Banner",
        "order": 1,
        "width": "0",
        "height": "0",
        "format": "<div style=\"background-image:url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSwMkp29oQjL16Cwdq8l3BOaMDBJTNXSeWdvA&usqp=CAU');text-align:center;font-size:40px;color:white;\">\n    <b>FE Universe</b>\n</div>\n<h4>(C) Alerox, 2022</h4>\n\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 830,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "20ad05a047920d6d",
        "type": "template",
        "z": "e52631fa86fdd3be",
        "name": "sub",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{\n    \"description\": \"Notify me of all OK tests\",\n    \"type\": \"Subscription\",\n    \"entities\": [\n        {\n            \"type\": \"Test\"\n        }\n    ],\n    \"q\": \"level==%22Acceptance%22;result<300\",\n    \"notification\": {\n        \"format\": \"keyValues\",\n        \"endpoint\": {\n            \"uri\": \"http://node-red:1880/univ\",\n            \"accept\": \"application/json\"\n        }\n    },\n    \"@context\": \"https://schema.lab.fiware.org/ld/context\"\n}",
        "output": "str",
        "x": 450,
        "y": 280,
        "wires": [
            [
                "fca10557a6a499d1"
            ]
        ],
        "icon": "node-red-contrib-fiware_official/fiware.png"
    },
    {
        "id": "212788ea9295ec8f",
        "type": "inject",
        "z": "e52631fa86fdd3be",
        "name": "manual",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 90,
        "y": 180,
        "wires": [
            [
                "b4b540e2423f722e"
            ]
        ]
    },
    {
        "id": "e409f3cc90a4caf9",
        "type": "http request",
        "z": "e52631fa86fdd3be",
        "name": "POST /upsert",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "{{{orion-ld}}}/ngsi-ld/v1/entityOperations/upsert",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "Content-Type",
                "keyValue": "",
                "valueType": "other",
                "valueValue": "application/ld+json"
            }
        ],
        "x": 720,
        "y": 180,
        "wires": [
            [
                "0291d8caca30be5c"
            ]
        ]
    },
    {
        "id": "58b3dcc2090052bc",
        "type": "change",
        "z": "e52631fa86fdd3be",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "orion-ld",
                "pt": "msg",
                "to": "http://orion-ld:1026",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 375,
        "y": 240,
        "wires": [
            [
                "48b491d3a6eaaadf"
            ]
        ],
        "icon": "node-red-contrib-fiware_official/fiware.png",
        "l": false
    },
    {
        "id": "fa1ffb5234e5a36e",
        "type": "change",
        "z": "e52631fa86fdd3be",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "orion-ld",
                "pt": "msg",
                "to": "http://orion-ld:1026",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 375,
        "y": 280,
        "wires": [
            [
                "20ad05a047920d6d"
            ]
        ],
        "icon": "node-red-contrib-fiware_official/fiware.png",
        "l": false
    },
    {
        "id": "4a1bf714e7de66d0",
        "type": "change",
        "z": "e52631fa86fdd3be",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "orion-ld",
                "pt": "msg",
                "to": "http://orion-ld:1026",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 375,
        "y": 180,
        "wires": [
            [
                "f6b2109d74b0c7a2"
            ]
        ],
        "icon": "node-red-contrib-fiware_official/fiware.png",
        "l": false
    },
    {
        "id": "48b491d3a6eaaadf",
        "type": "http request",
        "z": "e52631fa86fdd3be",
        "name": "GET",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "{{{orion-ld}}}/ngsi-ld/v1/subscriptions",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "x-auth-token"
            }
        ],
        "x": 450,
        "y": 240,
        "wires": [
            [
                "23d89fd0e358ecd9"
            ]
        ]
    },
    {
        "id": "23d89fd0e358ecd9",
        "type": "split",
        "z": "e52631fa86fdd3be",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 570,
        "y": 240,
        "wires": [
            [
                "8ddd93780bd58968"
            ]
        ]
    },
    {
        "id": "8ddd93780bd58968",
        "type": "change",
        "z": "e52631fa86fdd3be",
        "name": "foreach sub",
        "rules": [
            {
                "t": "move",
                "p": "payload.id",
                "pt": "msg",
                "to": "id",
                "tot": "msg"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 710,
        "y": 240,
        "wires": [
            [
                "d50d164548a65454"
            ]
        ]
    },
    {
        "id": "d50d164548a65454",
        "type": "http request",
        "z": "e52631fa86fdd3be",
        "name": "DELETE",
        "method": "DELETE",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "{{{orion-ld}}}/ngsi-ld/v1/subscriptions/{{id}}",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "x-auth-token"
            }
        ],
        "x": 860,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "c8f051effd2e3560",
        "type": "http request",
        "z": "e52631fa86fdd3be",
        "g": "7048013762d936db",
        "name": "GET /subscriptions",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "{{{orion-ld}}}/ngsi-ld/v1/subscriptions",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "x-auth-token"
            }
        ],
        "x": 490,
        "y": 500,
        "wires": [
            [
                "448534c70b9e7160",
                "e0d89847ae3f869b"
            ]
        ]
    },
    {
        "id": "6e1e63d3ac48bdac",
        "type": "inject",
        "z": "e52631fa86fdd3be",
        "g": "7048013762d936db",
        "name": "list all subs",
        "props": [
            {
                "p": "orion-ld",
                "v": "orion-ld",
                "vt": "flow"
            },
            {
                "p": "x-auth-token",
                "v": "x-auth-token",
                "vt": "flow"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 260,
        "y": 500,
        "wires": [
            [
                "42d5275e7e5126d5"
            ]
        ]
    },
    {
        "id": "08e35d1bd3455795",
        "type": "debug",
        "z": "e52631fa86fdd3be",
        "g": "7048013762d936db",
        "name": "get flow.latest",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload.id",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 840,
        "y": 500,
        "wires": []
    },
    {
        "id": "5a051954645f7297",
        "type": "change",
        "z": "e52631fa86fdd3be",
        "g": "7048013762d936db",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "latest",
                "pt": "flow",
                "to": "payload.id",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 840,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "e0d89847ae3f869b",
        "type": "debug",
        "z": "e52631fa86fdd3be",
        "g": "7048013762d936db",
        "name": "split",
        "active": false,
        "tosidebar": false,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "statusCode&\" - \"&(payload.error?payload.error:$count(payload)&($count(payload)=1?\" result\":\" results\"))",
        "statusType": "jsonata",
        "x": 690,
        "y": 500,
        "wires": []
    },
    {
        "id": "448534c70b9e7160",
        "type": "split",
        "z": "e52631fa86fdd3be",
        "g": "7048013762d936db",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 690,
        "y": 500,
        "wires": [
            [
                "08e35d1bd3455795",
                "5a051954645f7297"
            ]
        ]
    },
    {
        "id": "42d5275e7e5126d5",
        "type": "change",
        "z": "e52631fa86fdd3be",
        "g": "7048013762d936db",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "orion-ld",
                "pt": "msg",
                "to": "http://orion-ld:1026",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 375,
        "y": 500,
        "wires": [
            [
                "c8f051effd2e3560"
            ]
        ],
        "icon": "node-red-contrib-fiware_official/fiware.png",
        "l": false
    },
    {
        "id": "84dadb4b70bf968f",
        "type": "inject",
        "z": "e52631fa86fdd3be",
        "g": "7048013762d936db",
        "name": "delete last sub",
        "props": [
            {
                "p": "orion-ld",
                "v": "orion-ld",
                "vt": "flow"
            },
            {
                "p": "x-auth-token",
                "v": "x-auth-token",
                "vt": "flow"
            },
            {
                "p": "id",
                "v": "latest",
                "vt": "flow"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 270,
        "y": 540,
        "wires": [
            [
                "e09c2264f5cd5f03"
            ]
        ]
    },
    {
        "id": "432586859e633808",
        "type": "http request",
        "z": "e52631fa86fdd3be",
        "g": "7048013762d936db",
        "name": "DELETE /subscriptions/{id}",
        "method": "DELETE",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "{{{orion-ld}}}/ngsi-ld/v1/subscriptions/{{id}}",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "x-auth-token"
            }
        ],
        "x": 520,
        "y": 540,
        "wires": [
            [
                "49b3c830b1f3f8c1"
            ]
        ]
    },
    {
        "id": "49b3c830b1f3f8c1",
        "type": "debug",
        "z": "e52631fa86fdd3be",
        "g": "7048013762d936db",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "statusCode&\" - \"&(payload.error?payload.error:$count(payload)&($count(payload)=1?\" result\":\" results\"))",
        "statusType": "jsonata",
        "x": 850,
        "y": 540,
        "wires": []
    },
    {
        "id": "e09c2264f5cd5f03",
        "type": "change",
        "z": "e52631fa86fdd3be",
        "g": "7048013762d936db",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "orion-ld",
                "pt": "msg",
                "to": "http://orion-ld:1026",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 375,
        "y": 540,
        "wires": [
            [
                "432586859e633808"
            ]
        ],
        "icon": "node-red-contrib-fiware_official/fiware.png",
        "l": false
    },
    {
        "id": "b6be9ea67c20470c",
        "type": "inject",
        "z": "e52631fa86fdd3be",
        "g": "7048013762d936db",
        "name": "get all entities",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 270,
        "y": 460,
        "wires": [
            [
                "114e5d93ba37d588"
            ]
        ]
    },
    {
        "id": "725e4060ae079a58",
        "type": "debug",
        "z": "e52631fa86fdd3be",
        "g": "7048013762d936db",
        "name": "entities",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 860,
        "y": 460,
        "wires": []
    },
    {
        "id": "aef16637363ad33c",
        "type": "http request",
        "z": "e52631fa86fdd3be",
        "g": "7048013762d936db",
        "name": "GET /entities",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "query",
        "url": "{{{orion-ld}}}/ngsi-ld/v1/entities",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "x-auth-token"
            }
        ],
        "x": 710,
        "y": 460,
        "wires": [
            [
                "725e4060ae079a58"
            ]
        ]
    },
    {
        "id": "bf87f213ac1616d6",
        "type": "template",
        "z": "e52631fa86fdd3be",
        "g": "7048013762d936db",
        "name": "query",
        "field": "payload",
        "fieldType": "msg",
        "format": "json",
        "syntax": "mustache",
        "template": "{\n    \"type\": \"Test\",\n    \"options\": \"concise\"\n}\n",
        "output": "json",
        "x": 450,
        "y": 460,
        "wires": [
            [
                "aef16637363ad33c"
            ]
        ]
    },
    {
        "id": "114e5d93ba37d588",
        "type": "change",
        "z": "e52631fa86fdd3be",
        "g": "7048013762d936db",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "orion-ld",
                "pt": "msg",
                "to": "http://orion-ld:1026",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 375,
        "y": 460,
        "wires": [
            [
                "bf87f213ac1616d6"
            ]
        ],
        "icon": "node-red-contrib-fiware_official/fiware.png",
        "l": false
    },
    {
        "id": "666bcf1786a8826b",
        "type": "contract-call",
        "z": "828bae03b631ac33",
        "name": "checkDocument",
        "smartContract": "511b16494c95c3e9",
        "contractFunction": "checkDocument",
        "senderAccount": "a46f63f7bc8183e7",
        "readonlyFunction": true,
        "weiTransfer": "",
        "onlyEstimateGas": false,
        "useEstimatedGasLimit": true,
        "gasLimit": "",
        "usePreviousBlocksGasPrice": true,
        "gasPrice": "",
        "fetchFullTransaction": false,
        "x": 380,
        "y": 160,
        "wires": [
            [],
            [
                "f1eae5e9d4d1818f"
            ]
        ]
    },
    {
        "id": "a8c90eb9fd3bdfa2",
        "type": "inject",
        "z": "828bae03b631ac33",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"hello\":\"world\"}",
        "payloadType": "json",
        "x": 140,
        "y": 200,
        "wires": [
            [
                "9f66c2ad0c41f0f4"
            ]
        ]
    },
    {
        "id": "66227205f7d98182",
        "type": "contract-call",
        "z": "828bae03b631ac33",
        "name": "notarize",
        "smartContract": "511b16494c95c3e9",
        "contractFunction": "notarize",
        "senderAccount": "a46f63f7bc8183e7",
        "readonlyFunction": false,
        "weiTransfer": "",
        "onlyEstimateGas": false,
        "useEstimatedGasLimit": true,
        "gasLimit": "46591",
        "usePreviousBlocksGasPrice": true,
        "gasPrice": "46591",
        "fetchFullTransaction": false,
        "x": 360,
        "y": 320,
        "wires": [
            [
                "7584108c1cdcae97"
            ],
            [
                "70a16f865317b93d",
                "a6c079266424dbdf"
            ]
        ]
    },
    {
        "id": "4f17425552d7937f",
        "type": "debug",
        "z": "828bae03b631ac33",
        "name": "transaction",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "payload",
        "statusType": "msg",
        "x": 830,
        "y": 260,
        "wires": []
    },
    {
        "id": "d021545ae8c14adf",
        "type": "inject",
        "z": "828bae03b631ac33",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"hello\":\"world\"}",
        "payloadType": "json",
        "x": 140,
        "y": 360,
        "wires": [
            [
                "0a87ac0a37a11591"
            ]
        ]
    },
    {
        "id": "996485ba913d1c2c",
        "type": "inject",
        "z": "828bae03b631ac33",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "test",
        "payloadType": "str",
        "x": 110,
        "y": 160,
        "wires": [
            [
                "666bcf1786a8826b"
            ]
        ]
    },
    {
        "id": "6cab2521221ae1a2",
        "type": "inject",
        "z": "828bae03b631ac33",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "test",
        "payloadType": "str",
        "x": 110,
        "y": 320,
        "wires": [
            [
                "66227205f7d98182"
            ]
        ]
    },
    {
        "id": "2539a76ebd0a9794",
        "type": "comment",
        "z": "828bae03b631ac33",
        "name": "Come ricavare la Private Key",
        "info": "# Procedura su Chrome\n - Estensione Metamask\n - Opzioni account (overflow menu icon)\n - Dettagli Account\n - Esporta Chiave Privata",
        "x": 880,
        "y": 100,
        "wires": []
    },
    {
        "id": "0147458d645aba87",
        "type": "comment",
        "z": "828bae03b631ac33",
        "name": "Come ricavare la Public Key",
        "info": "bash $ `npm i -g ethereum-private-key-to-public-key`\nbash $ `ethereum-private-key-to-public-key` _private-key_\n\n0406c16dffbd03799962604dac8056a0615fd0586c1a1df8c09c05bedd41acec25ab9756c6bc577d0804d4244ed08d86a5bd3fb83991fc67ca13c096a8b8f040e9",
        "x": 880,
        "y": 140,
        "wires": []
    },
    {
        "id": "9125a8580cf73ca4",
        "type": "comment",
        "z": "828bae03b631ac33",
        "name": "node-red-contrib-ethereum",
        "info": "[Github](https://github.com/timweing/node-red-contrib-ethereum)",
        "x": 870,
        "y": 40,
        "wires": []
    },
    {
        "id": "f8737645772d6b90",
        "type": "inject",
        "z": "828bae03b631ac33",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "storedValue",
        "payloadType": "flow",
        "x": 140,
        "y": 280,
        "wires": [
            [
                "66227205f7d98182"
            ]
        ]
    },
    {
        "id": "200abc3bc4f216a2",
        "type": "inject",
        "z": "828bae03b631ac33",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "storedValue",
        "payloadType": "flow",
        "x": 140,
        "y": 120,
        "wires": [
            [
                "666bcf1786a8826b"
            ]
        ]
    },
    {
        "id": "8cb44184df95218b",
        "type": "inject",
        "z": "828bae03b631ac33",
        "name": "create",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\t    \"sender\":\"0x7efC9d38581c7Cb8372325c349Ec5095D027B3Dd\",\t    \"storedValue\":$random(),\t    \"timestamp\":$toMillis($now())\t}",
        "payloadType": "jsonata",
        "x": 110,
        "y": 40,
        "wires": [
            [
                "2dfaec749c6f71e2"
            ]
        ]
    },
    {
        "id": "a2dae50877221c7b",
        "type": "change",
        "z": "828bae03b631ac33",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "storedValue",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 400,
        "y": 40,
        "wires": [
            [
                "67d7f99fb0af894f"
            ]
        ]
    },
    {
        "id": "67d7f99fb0af894f",
        "type": "debug",
        "z": "828bae03b631ac33",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "$eval(payload)",
        "targetType": "jsonata",
        "statusVal": "",
        "statusType": "auto",
        "x": 600,
        "y": 40,
        "wires": []
    },
    {
        "id": "2dfaec749c6f71e2",
        "type": "json",
        "z": "828bae03b631ac33",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 230,
        "y": 40,
        "wires": [
            [
                "a2dae50877221c7b"
            ]
        ]
    },
    {
        "id": "9f66c2ad0c41f0f4",
        "type": "json",
        "z": "828bae03b631ac33",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 290,
        "y": 200,
        "wires": [
            [
                "666bcf1786a8826b"
            ]
        ]
    },
    {
        "id": "0a87ac0a37a11591",
        "type": "json",
        "z": "828bae03b631ac33",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 290,
        "y": 360,
        "wires": [
            [
                "66227205f7d98182"
            ]
        ]
    },
    {
        "id": "70a16f865317b93d",
        "type": "debug",
        "z": "828bae03b631ac33",
        "name": "block hash",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload.blockHash",
        "statusType": "msg",
        "x": 830,
        "y": 380,
        "wires": []
    },
    {
        "id": "f1eae5e9d4d1818f",
        "type": "debug",
        "z": "828bae03b631ac33",
        "name": "result",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "payload",
        "statusType": "msg",
        "x": 590,
        "y": 160,
        "wires": []
    },
    {
        "id": "ccaad40191a37e68",
        "type": "comment",
        "z": "828bae03b631ac33",
        "name": "My_PoE.sol",
        "info": "[Remix](https://remix.ethereum.org/)\n```\n// SPDX-License-Identifier: GPL-3.0\npragma solidity >=0.7.0 <0.9.0;\n\n/**\n * @title Proof of Existence\n * @dev Notarization with Blockchain\n */\ncontract ProofOfExistence {\n  // @dev The contract state\n  mapping (bytes32 => bool) private proofs;\n\n  // @dev Private helper function to get a document's SHA256 hash\n  // *pure function\n  function calculateProof(string memory document) private pure returns (bytes32) {\n    return sha256(abi.encode(document));\n  }\n  \n  // @dev Calculate and store the proof for a document in the contract state\n  // *transactional function*\n  function notarize(string memory document) public returns (bytes32) {\n    bytes32 hash = calculateProof(document);\n    require(proofs[hash] != true, \"Document already notarized.\");\n    proofs[hash] = true;\n    return hash;\n  }\n\n  // @dev Check if a document has been notarized\n  // *read-only function*\n  function checkDocument(string memory document) public view returns (bool) {\n    return proofs[calculateProof(document)];\n  }\n}\n```",
        "x": 830,
        "y": 200,
        "wires": []
    },
    {
        "id": "b81c9b20a9cb617f",
        "type": "transaction-reader",
        "z": "828bae03b631ac33",
        "name": "",
        "ethereumClient": "a4d6d03469e02326",
        "queryReceipt": false,
        "getByTxHash": true,
        "fromBlock": "-9",
        "toBlock": "latest",
        "filterFrom": "",
        "filterTo": "",
        "x": 630,
        "y": 420,
        "wires": [
            [
                "70a16f865317b93d"
            ]
        ]
    },
    {
        "id": "7584108c1cdcae97",
        "type": "change",
        "z": "828bae03b631ac33",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "transaction",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 260,
        "wires": [
            [
                "4f17425552d7937f"
            ]
        ]
    },
    {
        "id": "40edd948f48d37e5",
        "type": "inject",
        "z": "828bae03b631ac33",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "transaction",
        "payloadType": "flow",
        "x": 380,
        "y": 420,
        "wires": [
            [
                "b81c9b20a9cb617f"
            ]
        ]
    },
    {
        "id": "a6c079266424dbdf",
        "type": "debug",
        "z": "828bae03b631ac33",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "summary",
        "targetType": "msg",
        "statusVal": "summary.args[0]",
        "statusType": "msg",
        "x": 840,
        "y": 320,
        "wires": []
    },
    {
        "id": "35f7ec80981384b0",
        "type": "debug",
        "z": "828bae03b631ac33",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 610,
        "y": 500,
        "wires": []
    },
    {
        "id": "6c0efb7d54703c09",
        "type": "debug",
        "z": "828bae03b631ac33",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 910,
        "y": 560,
        "wires": []
    },
    {
        "id": "aaf5189ed0b9ad1c",
        "type": "template",
        "z": "828bae03b631ac33",
        "name": "etherscan",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "https://goerli.etherscan.io/tx/{{payload}}",
        "output": "str",
        "x": 760,
        "y": 560,
        "wires": [
            [
                "6c0efb7d54703c09"
            ]
        ]
    },
    {
        "id": "7a06a1dafea5c8a9",
        "type": "function",
        "z": "828bae03b631ac33",
        "name": "error check",
        "func": "if (!msg.error) return msg;\nnode.error(msg.error, msg);",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 610,
        "y": 560,
        "wires": [
            [
                "aaf5189ed0b9ad1c"
            ]
        ]
    },
    {
        "id": "41f41641c1704274",
        "type": "inject",
        "z": "828bae03b631ac33",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "Test",
        "payloadType": "str",
        "x": 110,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "05e1517dde152692",
        "type": "comment",
        "z": "828bae03b631ac33",
        "name": "Ropsten (deprecated)",
        "info": "ProofOfExistence3 (Sepolia)\n0x208e521112313e58EbFe8C7642a23dDEEefB4C8C",
        "x": 140,
        "y": 440,
        "wires": []
    },
    {
        "id": "935c0df299bd347b",
        "type": "inject",
        "z": "828bae03b631ac33",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "storedValue",
        "payloadType": "flow",
        "x": 140,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "f62e32bae716105f",
        "type": "inject",
        "z": "828bae03b631ac33",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "storedValue",
        "payloadType": "flow",
        "x": 140,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "8fadde141db77098",
        "type": "debug",
        "z": "828bae03b631ac33",
        "d": true,
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 610,
        "y": 120,
        "wires": []
    },
    {
        "id": "91618269345c9b5a",
        "type": "ui_button",
        "z": "48a7733923a33252",
        "name": "Refresh",
        "group": "160e81fb.f1c86e",
        "order": 10,
        "width": 1,
        "height": 1,
        "passthru": true,
        "label": "",
        "tooltip": "",
        "color": "#5CFEF2",
        "bgcolor": "",
        "className": "",
        "icon": "refresh",
        "payload": "",
        "payloadType": "str",
        "topic": "refresh",
        "topicType": "str",
        "x": 100,
        "y": 380,
        "wires": [
            [
                "874dcadb8b86c83d"
            ]
        ]
    },
    {
        "id": "fc10e0dafc44c769",
        "type": "ui_button",
        "z": "48a7733923a33252",
        "name": "Delete",
        "group": "160e81fb.f1c86e",
        "order": 8,
        "width": 1,
        "height": 1,
        "passthru": true,
        "label": "",
        "tooltip": "",
        "color": "",
        "bgcolor": "#f31100",
        "className": "",
        "icon": "delete",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "x": 90,
        "y": 440,
        "wires": [
            [
                "f115a2bc122c7201"
            ]
        ]
    },
    {
        "id": "f115a2bc122c7201",
        "type": "function",
        "z": "48a7733923a33252",
        "name": "get flow.File",
        "func": "// Get the filename from the flow context\nlet filename = flow.get(\"File\");\n\n// check, if the filename is undefined that means it does not exist yet, nothing is selected yet\n// return: do not output anything\nif (filename === undefined) {\n    return;\n}\n\n// return the filename to the file-in node to delete\nmsg.filename = filename;\n\nif (msg.filename.replace(/^.*(\\\\|\\/|\\:)/, '')[0] !== \".\") {\n    // Only do this if this is a file, we don't delete folders\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 290,
        "y": 440,
        "wires": [
            [
                "b25609b65f7426c8"
            ]
        ]
    },
    {
        "id": "30c322a137fb9155",
        "type": "file",
        "z": "48a7733923a33252",
        "name": "delete file",
        "filename": "",
        "appendNewline": true,
        "createDir": false,
        "overwriteFile": "delete",
        "encoding": "none",
        "x": 920,
        "y": 440,
        "wires": [
            [
                "91618269345c9b5a"
            ]
        ]
    },
    {
        "id": "9618a7d3262da78d",
        "type": "http in",
        "z": "48a7733923a33252",
        "name": "",
        "url": "/download",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 120,
        "y": 560,
        "wires": [
            [
                "aca8d6bf153a2f2e"
            ]
        ]
    },
    {
        "id": "8aeaad20c7c71351",
        "type": "http response",
        "z": "48a7733923a33252",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 790,
        "y": 560,
        "wires": []
    },
    {
        "id": "aca8d6bf153a2f2e",
        "type": "function",
        "z": "48a7733923a33252",
        "name": "extract file",
        "func": "msg.filename = msg.req.query.filename;\nmsg.contentdisposition = \"attachment; filename=\\\"\" + msg.req.query.filename.replace(/^.*(\\\\|\\/|\\:)/, '') + \"\\\"\";\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 290,
        "y": 560,
        "wires": [
            [
                "4ab5604bd381f56f"
            ]
        ],
        "outputLabels": [
            "Folder selected"
        ]
    },
    {
        "id": "4ab5604bd381f56f",
        "type": "file in",
        "z": "48a7733923a33252",
        "name": "",
        "filename": "",
        "format": "",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "allProps": false,
        "x": 480,
        "y": 560,
        "wires": [
            [
                "2fbdf1b2f1e51187"
            ]
        ]
    },
    {
        "id": "2fbdf1b2f1e51187",
        "type": "change",
        "z": "48a7733923a33252",
        "name": "set headers",
        "rules": [
            {
                "t": "set",
                "p": "headers",
                "pt": "msg",
                "to": "{}",
                "tot": "json"
            },
            {
                "t": "set",
                "p": "headers.content-type",
                "pt": "msg",
                "to": "application/octet-stream",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "headers.Content-Disposition",
                "pt": "msg",
                "to": "contentdisposition",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 650,
        "y": 560,
        "wires": [
            [
                "8aeaad20c7c71351"
            ]
        ]
    },
    {
        "id": "ac46716ba55a985b",
        "type": "ui_button",
        "z": "48a7733923a33252",
        "name": "Graph",
        "group": "160e81fb.f1c86e",
        "order": 12,
        "width": 1,
        "height": 1,
        "passthru": true,
        "label": "",
        "tooltip": "",
        "color": "#FFFE00",
        "bgcolor": "",
        "className": "",
        "icon": "show_chart",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "x": 90,
        "y": 500,
        "wires": [
            [
                "95f454061a2fb879"
            ]
        ]
    },
    {
        "id": "95f454061a2fb879",
        "type": "function",
        "z": "48a7733923a33252",
        "name": "get flow.File",
        "func": "// Get the filename from the flow context\nlet filename = flow.get(\"File\");\n\n// check, if the filename is undefined that means it does not exist yet, nothing is selected yet\n// return: do not output anything\nif (filename === undefined) {\n    return;\n}\n\n// return the filename to the file-in node to delete\nmsg.filename = filename;\n\nif (msg.filename.replace(/^.*(\\\\|\\/|\\:)/, '')[0] !== \".\") {\n    // Only do this if this is a file, we don't delete folders\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 290,
        "y": 500,
        "wires": [
            [
                "56b9e648a82f0f9e"
            ]
        ]
    },
    {
        "id": "56b9e648a82f0f9e",
        "type": "file in",
        "z": "48a7733923a33252",
        "name": "",
        "filename": "",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "x": 480,
        "y": 500,
        "wires": [
            [
                "2fc2950c9cc1e983"
            ]
        ]
    },
    {
        "id": "2fc2950c9cc1e983",
        "type": "csv",
        "z": "48a7733923a33252",
        "name": "",
        "sep": ",",
        "hdrin": true,
        "hdrout": "",
        "multi": "mult",
        "ret": "\\n",
        "temp": "",
        "skip": "0",
        "strings": true,
        "include_empty_strings": false,
        "include_null_values": false,
        "x": 630,
        "y": 500,
        "wires": [
            [
                "57d4a10a48990a5b"
            ]
        ]
    },
    {
        "id": "57d4a10a48990a5b",
        "type": "function",
        "z": "48a7733923a33252",
        "name": "chart data",
        "func": "var chart = [{\n    \"series\":[],\n    \"data\":[],\n    \"labels\":[msg.filename]\n}];\n\nlet columns = 0;\n\nfor(var series in msg.payload[0]) {\n    if(series!==\"time\") {\n        chart[0].series.push(series);\n        chart[0].data.push([]);\n        columns++;\n    }\n}\n\nfor (var j=0; j<msg.payload.length; j++) {\n   for(var i=0;i<columns;i++) {\n       chart[0].data[i].push({\"x\":msg.payload[j].time, \"y\":msg.payload[j][chart[0].series[i]]});\n   } \n}\n\nmsg.payload = chart;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 500,
        "wires": [
            [
                "3995b2e8155a78af"
            ]
        ]
    },
    {
        "id": "a4a7c1b41f99642e",
        "type": "ui_toast",
        "z": "48a7733923a33252",
        "position": "dialog",
        "displayTime": "3",
        "highlight": "",
        "sendall": false,
        "outputs": 1,
        "ok": "Yes",
        "cancel": "No",
        "raw": false,
        "className": "",
        "topic": "",
        "name": "ask",
        "x": 630,
        "y": 440,
        "wires": [
            [
                "4df07b1e9c4c73b2"
            ]
        ]
    },
    {
        "id": "b25609b65f7426c8",
        "type": "change",
        "z": "48a7733923a33252",
        "name": "set text",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"Delete \" & filename & \"?\"",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Confirmation",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 480,
        "y": 440,
        "wires": [
            [
                "a4a7c1b41f99642e"
            ]
        ]
    },
    {
        "id": "4df07b1e9c4c73b2",
        "type": "switch",
        "z": "48a7733923a33252",
        "name": "yes?",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Yes",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 790,
        "y": 440,
        "wires": [
            [
                "30c322a137fb9155"
            ]
        ]
    },
    {
        "id": "874dcadb8b86c83d",
        "type": "function",
        "z": "48a7733923a33252",
        "name": "set flow.Dir&Hidden",
        "func": "let dir = flow.get(\"Dir\") || \"/\";\nflow.set(\"Dir\", dir);\n\nlet hidden = flow.get(\"Hidden\") || false;\nflow.set(\"Hidden\", hidden);\n\nif (msg.topic===\"parent\") {\n    var path = dir.split('/');\n    path.pop();\n    dir = path.join('/'); \n    if (dir===\"\") dir=\"/\";\n    flow.set(\"Dir\", dir);\n}\n\nif (msg.topic===\"change\") {\n    dir=msg.payload;    \n    flow.set(\"Dir\", dir);\n}\n\nif (msg.topic===\"hidden\") {\n    hidden=msg.payload;    \n    flow.set(\"Hidden\", hidden);\n}\n\n//if (msg.topic===\"refresh\") {\n//}\nnode.status({ fill: \"green\", shape: \"dot\", text: dir });\n\nmsg.payload = {\"start\":dir, \"hidden\": hidden};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 310,
        "y": 280,
        "wires": [
            [
                "1c8f7941c9d116e6",
                "05e5d89d8abad833"
            ]
        ]
    },
    {
        "id": "5adbf59db2d4b64f",
        "type": "ui_button",
        "z": "48a7733923a33252",
        "name": "Parent",
        "group": "160e81fb.f1c86e",
        "order": 4,
        "width": 1,
        "height": 1,
        "passthru": true,
        "label": "",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "arrow_upwards",
        "payload": "",
        "payloadType": "str",
        "topic": "parent",
        "topicType": "str",
        "x": 90,
        "y": 160,
        "wires": [
            [
                "874dcadb8b86c83d"
            ]
        ]
    },
    {
        "id": "d560959631afbf82",
        "type": "ui_button",
        "z": "48a7733923a33252",
        "name": "Home",
        "group": "160e81fb.f1c86e",
        "order": 6,
        "width": 1,
        "height": 1,
        "passthru": true,
        "label": "",
        "tooltip": "",
        "color": "",
        "bgcolor": "#51aa00",
        "className": "",
        "icon": "home",
        "payload": "HOME",
        "payloadType": "global",
        "topic": "change",
        "topicType": "str",
        "x": 90,
        "y": 100,
        "wires": [
            [
                "874dcadb8b86c83d"
            ]
        ]
    },
    {
        "id": "1f60efffec2661cc",
        "type": "ui_switch",
        "z": "48a7733923a33252",
        "name": "Hidden",
        "label": "",
        "tooltip": "Show hidden files",
        "group": "160e81fb.f1c86e",
        "order": 14,
        "width": 1,
        "height": 1,
        "passthru": false,
        "decouple": "false",
        "topic": "hidden",
        "topicType": "str",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "check_box",
        "oncolor": "#000000",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "check_box_outline_blank",
        "offcolor": "#000000",
        "animate": true,
        "className": "",
        "x": 100,
        "y": 220,
        "wires": [
            [
                "874dcadb8b86c83d"
            ]
        ]
    },
    {
        "id": "f3b40cbd5c41ca85",
        "type": "change",
        "z": "48a7733923a33252",
        "name": "chdir",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.name",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "change",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 770,
        "y": 280,
        "wires": [
            [
                "874dcadb8b86c83d"
            ]
        ]
    },
    {
        "id": "0f87aa78c13d2d5c",
        "type": "change",
        "z": "48a7733923a33252",
        "name": "set flow.File",
        "rules": [
            {
                "t": "set",
                "p": "File",
                "pt": "flow",
                "to": "payload.name",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "filename",
                "pt": "msg",
                "to": "payload.name",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 910,
        "y": 140,
        "wires": [
            [
                "4eccfb8e73e80732"
            ]
        ]
    },
    {
        "id": "d0799928afba9280",
        "type": "function",
        "z": "48a7733923a33252",
        "name": "table data",
        "func": "for (var i = 0; i < msg.payload.length; i++) {\n//  msg.payload[i].stat.size = msg.payload[i].stat.size / 1024;\n    msg.payload[i].stat.created = msg.payload[i].stat.created.toISOString().slice(0, 19).replace('T', ' ');\n    msg.payload[i].stat.changed = msg.payload[i].stat.changed.toISOString().slice(0, 19).replace('T', ' ');\n    msg.payload[i].stat.accessed = msg.payload[i].stat.accessed.toISOString().slice(0, 19).replace('T', ' ');\n    msg.payload[i].stat.statusChanged = msg.payload[i].stat.statusChanged.toISOString().slice(0, 19).replace('T', ' ');\n//  msg.payload[i].fname = (msg.payload[i].stat.isFile?\"\":\"[\") + msg.payload[i].name.replace(/^.*(\\\\|\\/|\\:)/, '')+(msg.payload[i].stat.isFile?\"\":\"]\");\n    msg.payload[i].fname = (msg.payload[i].stat.isFile ? \"\" : \"<b>[\") + msg.payload[i].name.replace(/^.*(\\\\|\\/|\\:)/, '') + (msg.payload[i].stat.isFile ? \"\" : \"]</b>\");\n    if (msg.payload[i].fname.startsWith('.') || msg.payload[i].fname.startsWith('<b>[.'))\n        msg.payload[i].fname = \"<i>\" + msg.payload[i].fname + \"</i>\";\n//  msg.payload[i].link = msg.payload[i].stat.isDirectory ? \"\" : \"/download?filename=\" + msg.payload[i].name;\n    msg.payload[i].link = msg.payload[i].stat.isDirectory ? \"\" : \"<a href=\\\"/download?filename=\" + msg.payload[i].name + \"\\\"><img src=\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACf0lEQVR42mNkwAE0ApLF/wqIKwOZ/5k/vLxzY8Pc19jUMaILGPdsjfik4VDy5ieD0X+oPBPQEBF2htN8Nw50nynxXoPVADEzVw6himVLX/znCmLAAyQZv6142xEV/+rU7l8oBiitfrn2HRMPXDPQVgZWJgj797//DP+QHCv878uyu6Hi0XADJKuXR3438luGbJO7GAPDbP2/YHbqsc8MO7/wAVUzweW5zm0KetYauR5sgPCiJ2f/cgsa4TIg7fA7hl1vWRj+cfIDnQYxhPnL22Nv4+WsGZnldSR4+048AxrPCHOSuzgDg6nAf4ZUuX9gxbOvfWI49/4fw643TAy/OaCG/P//73ORmSgji56TDU/95sPItjuLMjDM1PvLwAZ18a+//xmyj31g2PcWKMDMzPCbnRfsnS/1nqaMzFrWtrzNuw6hhzbMEKBNYM37gZoZmRghbmRiZvjFxs3wqcrZjJFRQEKab86dx4yMjIyYhvxnYPnyjmH/G0awZogSKM3I+O9FmpY4WISn68h5FmVDfZAmTmYGBjvh/3BDmP7+YWD++xOs6cCL3wx/gBEMYv++dfrU63pfc7CtrFZB8dxFixaAwpGf5R9DtsRnRKwDxRih9NQ7fxl+MjCDDXjbEx/x48yOlTB1zFxFi9azWQf7gvzM+O8vA8uvL+DEBFIMcTHC+d8Or177fmpOGFDgH8LfrOx8XDkzl7Jah/iAFf//x8D2+xsDM5CGRTBU8/r3MwrjGP7+/oItM7GymvvFs/sX5DGrmWqDgo7t7w8Glr+///2+ffrS501TJ/44u3MJUN0fnLkRCtgYuQXkmMQVlBj+A93y8v7d/98+PgElCXSFAKXm39j74So1AAAAAElFTkSuQmCC\\\" /></a>\";\n}\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 480,
        "y": 200,
        "wires": [
            [
                "b8b88aab13c13447"
            ]
        ]
    },
    {
        "id": "b8b88aab13c13447",
        "type": "sort",
        "z": "48a7733923a33252",
        "name": "",
        "order": "ascending",
        "as_num": false,
        "target": "payload",
        "targetType": "msg",
        "msgKey": "$lowercase(fname)\t",
        "msgKeyType": "jsonata",
        "seqKey": "payload",
        "seqKeyType": "msg",
        "x": 270,
        "y": 140,
        "wires": [
            [
                "54cee00c2aab4588"
            ]
        ]
    },
    {
        "id": "e02e46b423ddef65",
        "type": "switch",
        "z": "48a7733923a33252",
        "name": "is file?",
        "property": "payload.stat.isFile",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 630,
        "y": 140,
        "wires": [
            [
                "0f87aa78c13d2d5c",
                "2999856f3c6017d7"
            ],
            [
                "f3b40cbd5c41ca85"
            ]
        ]
    },
    {
        "id": "f696127a39b59722",
        "type": "yaml",
        "z": "48a7733923a33252",
        "property": "payload",
        "name": "",
        "x": 770,
        "y": 100,
        "wires": [
            [
                "dcfa53334425c5c5"
            ]
        ]
    },
    {
        "id": "dcfa53334425c5c5",
        "type": "ui_template",
        "z": "48a7733923a33252",
        "group": "26e8fe8026c92abb",
        "name": "Details",
        "order": 2,
        "width": 6,
        "height": 6,
        "format": "<textarea rows=\"21\">{{msg.payload}}</textarea>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 930,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "968d285a67eab4bb",
        "type": "inject",
        "z": "48a7733923a33252",
        "name": "INIT",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "ui_control",
                "v": "{\"tabulator\":{\"selectable\":1}}",
                "vt": "json"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{}",
        "payloadType": "json",
        "x": 90,
        "y": 40,
        "wires": [
            [
                "54cee00c2aab4588",
                "b3b5c93025760016"
            ]
        ]
    },
    {
        "id": "4eccfb8e73e80732",
        "type": "file in",
        "z": "48a7733923a33252",
        "name": "",
        "filename": "",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "allProps": false,
        "x": 920,
        "y": 200,
        "wires": [
            [
                "bffe6dff2143e980"
            ]
        ]
    },
    {
        "id": "4931b2b91991fb77",
        "type": "change",
        "z": "48a7733923a33252",
        "name": "clean",
        "rules": [
            {
                "t": "delete",
                "p": "payload.link",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "payload.fname",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 100,
        "wires": [
            [
                "f696127a39b59722"
            ]
        ]
    },
    {
        "id": "3995b2e8155a78af",
        "type": "ui_chart",
        "z": "48a7733923a33252",
        "name": "",
        "group": "26e8fe8026c92abb",
        "order": 3,
        "width": 6,
        "height": 4,
        "label": "CSV file",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "4",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 920,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "54cee00c2aab4588",
        "type": "ui_table",
        "z": "48a7733923a33252",
        "group": "160e81fb.f1c86e",
        "name": "",
        "order": 18,
        "width": 12,
        "height": 10,
        "columns": [
            {
                "field": "fname",
                "title": "Name",
                "width": "35%",
                "align": "left",
                "formatter": "html",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "stat.size",
                "title": "Size",
                "width": "15%",
                "align": "left",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "stat.created",
                "title": "Created",
                "width": "22%",
                "align": "left",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "stat.changed",
                "title": "Changed",
                "width": "22%",
                "align": "left",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "link",
                "title": "",
                "width": "",
                "align": "left",
                "formatter": "html",
                "formatterParams": {
                    "target": "_blank"
                }
            }
        ],
        "outputs": 1,
        "cts": true,
        "x": 490,
        "y": 140,
        "wires": [
            [
                "e02e46b423ddef65",
                "4931b2b91991fb77"
            ]
        ]
    },
    {
        "id": "aa26cdb6da42d2f5",
        "type": "ui_form",
        "z": "48a7733923a33252",
        "name": "Editor",
        "label": "",
        "group": "4128a70510a0cd4e",
        "order": 2,
        "width": 0,
        "height": 0,
        "options": [
            {
                "label": "File name",
                "value": "filename",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "",
                "value": "content",
                "type": "multiline",
                "required": true,
                "rows": 9
            }
        ],
        "formValue": {
            "filename": "",
            "content": ""
        },
        "payload": "",
        "submit": "Save",
        "cancel": "",
        "topic": "topic",
        "topicType": "msg",
        "splitLayout": "",
        "className": "",
        "x": 930,
        "y": 320,
        "wires": [
            [
                "7ec0ae66e287c97c"
            ]
        ]
    },
    {
        "id": "bffe6dff2143e980",
        "type": "function",
        "z": "48a7733923a33252",
        "name": "form data",
        "func": "var cloned = RED.util.cloneMessage(msg);\nvar formdata = {payload:{}};\nformdata.payload.filename = cloned.filename;\nformdata.payload.content = cloned.payload;\nreturn formdata;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 920,
        "y": 260,
        "wires": [
            [
                "aa26cdb6da42d2f5"
            ]
        ]
    },
    {
        "id": "7ec0ae66e287c97c",
        "type": "change",
        "z": "48a7733923a33252",
        "name": "set msg",
        "rules": [
            {
                "t": "move",
                "p": "payload.filename",
                "pt": "msg",
                "to": "filename",
                "tot": "msg"
            },
            {
                "t": "move",
                "p": "payload.content",
                "pt": "msg",
                "to": "content",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Confirmation",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"Save \" & filename & \"?\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 280,
        "y": 380,
        "wires": [
            [
                "50d209d0b31f25a6"
            ]
        ]
    },
    {
        "id": "50d209d0b31f25a6",
        "type": "ui_toast",
        "z": "48a7733923a33252",
        "position": "dialog",
        "displayTime": "3",
        "highlight": "",
        "sendall": false,
        "outputs": 1,
        "ok": "Yes",
        "cancel": "No",
        "raw": false,
        "className": "",
        "topic": "",
        "name": "confirm",
        "x": 480,
        "y": 380,
        "wires": [
            [
                "d6dd05798b041c4a"
            ]
        ]
    },
    {
        "id": "d6dd05798b041c4a",
        "type": "switch",
        "z": "48a7733923a33252",
        "name": "yes?",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Yes",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 630,
        "y": 380,
        "wires": [
            [
                "c84fa79f2496e377"
            ]
        ]
    },
    {
        "id": "5aec8815f6ae6c9c",
        "type": "file",
        "z": "48a7733923a33252",
        "name": "",
        "filename": "",
        "appendNewline": false,
        "createDir": false,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 920,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "c84fa79f2496e377",
        "type": "change",
        "z": "48a7733923a33252",
        "name": "content",
        "rules": [
            {
                "t": "move",
                "p": "content",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 780,
        "y": 380,
        "wires": [
            [
                "5aec8815f6ae6c9c"
            ]
        ]
    },
    {
        "id": "b3b5c93025760016",
        "type": "exec",
        "z": "48a7733923a33252",
        "command": "pwd",
        "addpay": "",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "winHide": false,
        "oldrc": false,
        "name": "",
        "x": 270,
        "y": 40,
        "wires": [
            [
                "1a1a090377e2b43e"
            ],
            [],
            []
        ]
    },
    {
        "id": "8096898980123bce",
        "type": "change",
        "z": "48a7733923a33252",
        "name": "get Dir",
        "rules": [
            {
                "t": "set",
                "p": "path",
                "pt": "msg",
                "to": "Dir",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "filename",
                "pt": "msg",
                "to": "path & \"/\" & file.name",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 770,
        "y": 40,
        "wires": [
            [
                "5af00f52190803f6"
            ]
        ]
    },
    {
        "id": "5af00f52190803f6",
        "type": "file",
        "z": "48a7733923a33252",
        "name": "",
        "filename": "",
        "appendNewline": false,
        "createDir": false,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 920,
        "y": 40,
        "wires": [
            []
        ]
    },
    {
        "id": "1c8f7941c9d116e6",
        "type": "change",
        "z": "48a7733923a33252",
        "name": "is dir",
        "rules": [
            {
                "t": "set",
                "p": "payload.name",
                "pt": "msg",
                "to": "payload.start",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 280,
        "wires": [
            [
                "2999856f3c6017d7"
            ]
        ]
    },
    {
        "id": "2999856f3c6017d7",
        "type": "ui_text",
        "z": "48a7733923a33252",
        "group": "160e81fb.f1c86e",
        "order": 2,
        "width": 12,
        "height": 1,
        "name": "",
        "label": "Path:",
        "format": "{{msg.payload.name}}",
        "layout": "row-left",
        "className": "",
        "x": 630,
        "y": 280,
        "wires": []
    },
    {
        "id": "71ca9deecf8d99c0",
        "type": "watch-directory",
        "z": "48a7733923a33252",
        "folder": "Dir",
        "recursive": 0,
        "typeEvent": "create",
        "ignoreInitial": true,
        "ignoredFiles": "",
        "name": "create",
        "x": 70,
        "y": 280,
        "wires": [
            [
                "91618269345c9b5a"
            ]
        ]
    },
    {
        "id": "e945f13798bed93a",
        "type": "watch-directory",
        "z": "48a7733923a33252",
        "folder": "Dir",
        "recursive": 0,
        "typeEvent": "update",
        "ignoreInitial": true,
        "ignoredFiles": "",
        "name": "update",
        "x": 90,
        "y": 300,
        "wires": [
            [
                "91618269345c9b5a"
            ]
        ]
    },
    {
        "id": "c58e8827edbef0b8",
        "type": "watch-directory",
        "z": "48a7733923a33252",
        "folder": "Dir",
        "recursive": 0,
        "typeEvent": "delete",
        "ignoreInitial": true,
        "ignoredFiles": "",
        "name": "delete",
        "x": 110,
        "y": 320,
        "wires": [
            [
                "91618269345c9b5a"
            ]
        ]
    },
    {
        "id": "05e5d89d8abad833",
        "type": "fs-file-lister",
        "z": "48a7733923a33252",
        "name": "",
        "start": "data",
        "pattern": "*",
        "folders": "*",
        "hidden": false,
        "lstype": "both",
        "path": true,
        "single": true,
        "depth": 0,
        "stat": true,
        "showWarnings": false,
        "x": 280,
        "y": 200,
        "wires": [
            [
                "d0799928afba9280"
            ]
        ]
    },
    {
        "id": "c5268070.c55a3",
        "type": "ui_template",
        "z": "48a7733923a33252",
        "group": "26e8fe8026c92abb",
        "name": "upload",
        "order": 4,
        "width": 6,
        "height": 1,
        "format": "\n<body>\n<button class=\"md-raised md-button md-ink-ripple\" onclick=\"importData()\">Upload</button>    \n\n<script>\nlet restoreScope = scope;\n\nfunction importData() {\n  let input = document.createElement('input');\n  input.type = 'file';\n  input.id = 'restoreBtn';\n  input.onchange = _ => {\n    // you can use this method to get file and perform respective operations\n        let fReader = new FileReader();\n        fReader.readAsArrayBuffer(input.files[0]);\n        fReader.onloadend = function(event){\n        restoreScope.send({\n            file:{name:input.files[0].name},\n            payload:event.target.result\n          });}\n        };\n  input.click();\n}\n</script>\n</body>\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 630,
        "y": 60,
        "wires": [
            [
                "8096898980123bce"
            ]
        ]
    },
    {
        "id": "1a1a090377e2b43e",
        "type": "change",
        "z": "48a7733923a33252",
        "g": "34047250a1f44ce1",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "HOME",
                "pt": "global",
                "to": "$trim(payload)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 60,
        "wires": [
            [
                "d560959631afbf82"
            ]
        ]
    },
    {
        "id": "b382101fb64bb6cd",
        "type": "debug",
        "z": "f29ecd9eab0f0d83",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 850,
        "y": 360,
        "wires": []
    },
    {
        "id": "85770b738242d577",
        "type": "inject",
        "z": "f29ecd9eab0f0d83",
        "d": true,
        "name": "5s",
        "props": [],
        "repeat": "5",
        "crontab": "",
        "once": true,
        "onceDelay": "",
        "topic": "",
        "x": 110,
        "y": 120,
        "wires": [
            [
                "b36e0ea9b8c2c5a8"
            ]
        ]
    },
    {
        "id": "b36e0ea9b8c2c5a8",
        "type": "function",
        "z": "f29ecd9eab0f0d83",
        "d": true,
        "name": "system mon",
        "func": "var freemem               = os.freemem();\nvar totalmem              = os.totalmem();\nvar os_uptime             = os.uptime();\nvar {user, system}        = process.cpuUsage();\nvar {heapUsed, heapTotal} = process.memoryUsage();\nvar p_uptime              = process.uptime();\nvar loadavg               = os.loadavg();\n\ncpuUsage(perc => node.send({\n    payload: {\n        cpu_usage:    perc,\n        cpu_user:     user / 1000 / 1000,\n        cpu_system:   system / 1000 / 1000,\n\n        used_heap_MB: round(heapUsed / 1024 / 1024),\n        heap_usage:   round(heapUsed / heapTotal * 100),\n        tot_heap_MB:  round(heapTotal / 1024 / 1024),\n        free_heap_MB: round((heapTotal - heapUsed) / 1024 / 1024),\n        \n        free_ram_GB:  round(freemem / 1024 / 1024 / 1024),\n        tot_ram_GB:   round(totalmem / 1024 / 1024 / 1024),\n        ram_usage:    round((1 - freemem / totalmem) * 100),\n        used_ram_GB:  round((totalmem - freemem) / 1024 / 1024 / 1024),\n\n        loadavg_1:    loadavg[0],\n        loadavg_5:    loadavg[1],\n        loadavg_15:   loadavg[2],\n\n        os_uptime_s:  os_uptime,\n        os_uptime:    timeConversion(os_uptime),\n        p_uptime_s:   p_uptime,\n        p_uptime:     timeConversion(p_uptime),\n\n        last_update: new Date()\n    }\n}))\n\n/**\n * Method used in node-os-utils\n * \n * @description Measure the CPU usage calculated between two different CPU usage samples\n * @param {function} cb A callback function the result is passed to\n * @param {number} [core=-1] The CPU core index to measure. When is not greater than -1 then it is \"averaged\" for all CPU cores.\n * @param {number} [sampleMs=1000]  The number of milliseconds between the CPU usage samples\n */\nfunction cpuUsage(cb, core, sampleMs) {\n    var deltaUsed;\n    var deltaIdle;\n    var timesKeys = [\"user\", \"nice\", \"sys\", \"irq\"];\n    var allCores = null === core || !(core > -1);\n\n    var byCore = (cpu, i) =>\n        allCores || core === i;\n\n    var bySampleKey = (sample, key) =>\n        sample.filter(byCore).reduce(\n            (sum, cpu) => sum + cpu.times[key], 0);\n\n    var sample0 = os.cpus();\n\n    setTimeout(function () {\n        var sample1 = os.cpus();\n\n        deltaUsed = timesKeys.reduce(\n            (diff, key) => diff + bySampleKey(sample1, key) - bySampleKey(sample0, key), 0);\n\n        deltaIdle = bySampleKey(sample1, \"idle\") - bySampleKey(sample0, \"idle\");\n\n        if (\"function\" === typeof cb) {\n            cb(100 * (deltaUsed / (deltaUsed + deltaIdle)));\n        }\n    }, sampleMs || 1000);\n}\n\nfunction round(n, d = 2) {\n    return Math.round(n * 10 ** d) / 10 ** d;\n}\n\nfunction timeConversion(seconds) {\n    var minutes = seconds / 60;\n    var hours = seconds / 3600;\n    var days = seconds / 86400;\n\n    if (seconds < 60) {\n        return seconds.toFixed(1) + \" Sec\";\n    } else if (minutes < 60) {\n        return minutes.toFixed(1) + \" Min\";\n    } else if (hours < 24) {\n        return hours.toFixed(1) + \" Hrs\";\n    } else {\n        return days.toFixed(1) + \" Days\"\n    }\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "os",
                "module": "os"
            },
            {
                "var": "process",
                "module": "process"
            }
        ],
        "x": 290,
        "y": 120,
        "wires": [
            [
                "d433dfb4813e729c",
                "87e284b688c9bc1d",
                "d5f8bbdc8a50d1c4",
                "1bb52214bb93b59c",
                "407393b06d188578",
                "978f120d4b6d5d8d",
                "7c204748fb1d30c6",
                "9c89af026d6e876a",
                "943a803ae4a09ae9"
            ]
        ]
    },
    {
        "id": "d59207da68d0e961",
        "type": "ui_chart",
        "z": "f29ecd9eab0f0d83",
        "name": "",
        "group": "ade1f84b9abbf285",
        "order": 2,
        "width": "6",
        "height": "5",
        "label": "Memory",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "6",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 840,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "4b5a96f2a67089df",
        "type": "ui_chart",
        "z": "f29ecd9eab0f0d83",
        "name": "",
        "group": "ade1f84b9abbf285",
        "order": 1,
        "width": 0,
        "height": 0,
        "label": "Processor",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "6",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 840,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "d433dfb4813e729c",
        "type": "ui_text",
        "z": "f29ecd9eab0f0d83",
        "group": "a9912d64.97094",
        "order": 1,
        "width": "0",
        "height": "0",
        "name": "",
        "label": "Uptime os/node",
        "format": "{{msg.payload.os_uptime}} / {{msg.payload.p_uptime}}",
        "layout": "row-spread",
        "className": "",
        "x": 540,
        "y": 220,
        "wires": []
    },
    {
        "id": "e475bf4d1347ce6d",
        "type": "ui_text",
        "z": "f29ecd9eab0f0d83",
        "group": "a9912d64.97094",
        "order": 2,
        "width": "0",
        "height": "0",
        "name": "",
        "label": "Hostname (IP)",
        "format": "{{msg.payload.hostname}} ({{msg.payload.address}})",
        "layout": "row-right",
        "className": "",
        "x": 540,
        "y": 260,
        "wires": []
    },
    {
        "id": "38fb665c04a2fa2b",
        "type": "ui_text",
        "z": "f29ecd9eab0f0d83",
        "group": "a9912d64.97094",
        "order": 3,
        "width": "0",
        "height": "0",
        "name": "",
        "label": "Platform Arch",
        "format": "{{msg.payload.platform}} {{msg.payload.arch}} {{msg.payload.endianness}}",
        "layout": "row-spread",
        "className": "",
        "x": 540,
        "y": 300,
        "wires": []
    },
    {
        "id": "12262ec3b4702e3b",
        "type": "ui_text",
        "z": "f29ecd9eab0f0d83",
        "group": "a9912d64.97094",
        "order": 4,
        "width": "0",
        "height": "0",
        "name": "",
        "label": "Cloud Release",
        "format": "{{msg.payload.release}}",
        "layout": "row-spread",
        "className": "",
        "x": 540,
        "y": 340,
        "wires": []
    },
    {
        "id": "93fcb0ebab0ad1fb",
        "type": "ui_text",
        "z": "f29ecd9eab0f0d83",
        "group": "a9912d64.97094",
        "order": 5,
        "width": "0",
        "height": "0",
        "name": "CPU Model",
        "label": "CPU #{{msg.payload.n_cores}}",
        "format": "{{msg.payload.cpu_model}}",
        "layout": "row-spread",
        "className": "",
        "x": 530,
        "y": 380,
        "wires": []
    },
    {
        "id": "772de72b62e1e4e0",
        "type": "ui_text",
        "z": "f29ecd9eab0f0d83",
        "group": "a9912d64.97094",
        "order": 6,
        "width": "0",
        "height": "0",
        "name": "",
        "label": "User info (GID:UID)",
        "format": "{{msg.payload.username}} ({{msg.payload.gid}}:{{msg.payload.uid}})",
        "layout": "row-spread",
        "className": "",
        "x": 550,
        "y": 460,
        "wires": []
    },
    {
        "id": "990e8802adb04ed7",
        "type": "ui_text",
        "z": "f29ecd9eab0f0d83",
        "group": "a9912d64.97094",
        "order": 9,
        "width": "0",
        "height": "0",
        "name": "",
        "label": "Node version",
        "format": "{{msg.payload.node_version}}",
        "layout": "row-spread",
        "className": "",
        "x": 530,
        "y": 580,
        "wires": []
    },
    {
        "id": "1bb52214bb93b59c",
        "type": "ui_gauge",
        "z": "f29ecd9eab0f0d83",
        "name": "",
        "group": "b6cc1aae65862dae",
        "order": 4,
        "width": "6",
        "height": "3",
        "gtype": "gage",
        "title": "CPU",
        "label": "units",
        "format": "{{msg.payload.cpu_usage | number:3}} %",
        "min": 0,
        "max": "100",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "className": "",
        "x": 510,
        "y": 80,
        "wires": []
    },
    {
        "id": "87e284b688c9bc1d",
        "type": "ui_gauge",
        "z": "f29ecd9eab0f0d83",
        "name": "",
        "group": "b6cc1aae65862dae",
        "order": 4,
        "width": "6",
        "height": "3",
        "gtype": "gage",
        "title": "Heap",
        "label": "MB",
        "format": "{{msg.payload.used_heap_MB| number:2}} / {{msg.payload.tot_heap_MB| number:2}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "className": "",
        "x": 510,
        "y": 160,
        "wires": []
    },
    {
        "id": "d5f8bbdc8a50d1c4",
        "type": "ui_gauge",
        "z": "f29ecd9eab0f0d83",
        "name": "",
        "group": "b6cc1aae65862dae",
        "order": 4,
        "width": "6",
        "height": "3",
        "gtype": "gage",
        "title": "RAM",
        "label": "GB",
        "format": "{{msg.payload.used_ram_GB| number:2}} / {{msg.payload.tot_ram_GB| number:2}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "className": "",
        "x": 510,
        "y": 120,
        "wires": []
    },
    {
        "id": "357b6025664fd028",
        "type": "inject",
        "z": "f29ecd9eab0f0d83",
        "d": true,
        "name": "5min",
        "props": [],
        "repeat": "300",
        "crontab": "",
        "once": true,
        "onceDelay": "",
        "topic": "",
        "x": 110,
        "y": 320,
        "wires": [
            [
                "e5dc586dcb92b24a"
            ]
        ]
    },
    {
        "id": "4a1850006419b797",
        "type": "function",
        "z": "f29ecd9eab0f0d83",
        "name": "node-os-utils",
        "func": "var freemem = os.freemem();\nvar totalmem = os.totalmem();\nvar os_uptime = os.uptime();\nvar { user, system } = process.cpuUsage();\nvar { heapUsed, heapTotal } = process.memoryUsage();\nvar p_uptime = process.uptime();\nvar loadavg = os.loadavg();\n\ncpuUsage(perc => node.send({\n    payload: {\n        cpu_usage:    perc,\n        cpu_user:     user / 1000 / 1000,\n        cpu_system:   system / 1000 / 1000,\n\n        used_heap_MB: round(heapUsed / 1024 / 1024),\n        heap_usage:   round(heapUsed / heapTotal * 100),\n        tot_heap_MB:  round(heapTotal / 1024 / 1024),\n        free_heap_MB: round((heapTotal - heapUsed) / 1024 / 1024),\n        \n        free_ram_GB:  round(freemem / 1024 / 1024 / 1024),\n        tot_ram_GB:   round(totalmem / 1024 / 1024 / 1024),\n        ram_usage:    round((1 - freemem / totalmem) * 100),\n        used_ram_GB:  round((totalmem - freemem) / 1024 / 1024 / 1024),\n        \n        loadavg_1:    loadavg[0],\n        loadavg_5:    loadavg[1],\n        loadavg_15:   loadavg[2],\n\n        os_uptime_s:  os_uptime,\n        os_uptime:    timeConversion(os_uptime),\n        p_uptime_s:   p_uptime,\n        p_uptime:     timeConversion(p_uptime),\n\n        arch: os.arch(),\n        cpus: os.cpus(),\n        cpu_model: os.cpus()[os.cpus().length - 1].model,\n        cpu_speed: os.cpus()[os.cpus().length - 1].speed,\n        n_cores: os.cpus().length,\n        endianness: os.endianness(),\n        homedir: os.homedir(),\n        hostname: os.hostname(),\n        network: os.networkInterfaces(),\n        address: os.networkInterfaces().eth0[0].address,\n        platform: os.platform(),\n        release: os.release(),\n        type: os.type(),\n        userInfo: os.userInfo(),\n        gid: os.userInfo().gid,\n        uid: os.userInfo().uid,\n        username: os.userInfo().username,\n        shell: os.userInfo().shell,\n        os_version: os.version(),\n\n        cwd: process.cwd(),\n        node_version: process.version,\n\n        last_update: new Date()\n    }\n}))\n\n/**\n * Method used in node-os-utils\n * \n * @description Measure the CPU usage calculated between two different CPU usage samples\n * @param {function} cb A callback function the result is passed to\n * @param {number} [core=-1] The CPU core index to measure. When is not greater than -1 then it is \"averaged\" for all CPU cores.\n * @param {number} [sampleMs=1000]  The number of milliseconds between the CPU usage samples\n */\nfunction cpuUsage(cb, core, sampleMs) {\n    var deltaUsed;\n    var deltaIdle;\n    var timesKeys = [\"user\", \"nice\", \"sys\", \"irq\"];\n    var allCores = null === core || !(core > -1);\n\n    var byCore = (cpu, i) =>\n        allCores || core === i;\n\n    var bySampleKey = (sample, key) =>\n        sample.filter(byCore).reduce(\n            (sum, cpu) => sum + cpu.times[key], 0);\n\n    var sample0 = os.cpus();\n\n    setTimeout(function () {\n        var sample1 = os.cpus();\n\n        deltaUsed = timesKeys.reduce(\n            (diff, key) => diff + bySampleKey(sample1, key) - bySampleKey(sample0, key), 0);\n\n        deltaIdle = bySampleKey(sample1, \"idle\") - bySampleKey(sample0, \"idle\");\n\n        if (\"function\" === typeof cb) {\n            cb(100 * (deltaUsed / (deltaUsed + deltaIdle)));\n        }\n    }, sampleMs || 1000);\n}\n\nfunction round(n, d = 2) {\n    return Math.round(n * 10 ** d) / 10 ** d;\n}\n\nfunction timeConversion(seconds) {\n    var minutes = seconds / 60;\n    var hours = seconds / 3600;\n    var days = seconds / 86400;\n\n    if (seconds < 60) {\n        return seconds.toFixed(1) + \" Sec\";\n    } else if (minutes < 60) {\n        return minutes.toFixed(1) + \" Min\";\n    } else if (hours < 24) {\n        return hours.toFixed(1) + \" Hrs\";\n    } else {\n        return days.toFixed(1) + \" Days\"\n    }\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "os",
                "module": "os"
            },
            {
                "var": "process",
                "module": "process"
            }
        ],
        "x": 290,
        "y": 360,
        "wires": [
            [
                "407393b06d188578",
                "1bb52214bb93b59c",
                "d5f8bbdc8a50d1c4",
                "87e284b688c9bc1d",
                "d433dfb4813e729c",
                "7c204748fb1d30c6",
                "9c89af026d6e876a",
                "943a803ae4a09ae9",
                "978f120d4b6d5d8d",
                "e475bf4d1347ce6d",
                "38fb665c04a2fa2b",
                "12262ec3b4702e3b",
                "93fcb0ebab0ad1fb",
                "772de72b62e1e4e0",
                "a72c3c707a0495a6",
                "f66d1fae20c650a0",
                "990e8802adb04ed7",
                "716b83720f6ed7c3",
                "b382101fb64bb6cd"
            ]
        ]
    },
    {
        "id": "a72c3c707a0495a6",
        "type": "ui_text",
        "z": "f29ecd9eab0f0d83",
        "group": "a9912d64.97094",
        "order": 7,
        "width": "0",
        "height": "0",
        "name": "Home (bash)",
        "label": "Home (bash:{{msg.payload.shell}}) Current dir",
        "format": "{{msg.payload.homedir}} {{msg.payload.cwd}} ",
        "layout": "row-spread",
        "className": "",
        "x": 530,
        "y": 500,
        "wires": []
    },
    {
        "id": "f66d1fae20c650a0",
        "type": "ui_text",
        "z": "f29ecd9eab0f0d83",
        "group": "a9912d64.97094",
        "order": 8,
        "width": "0",
        "height": "0",
        "name": "OS version",
        "label": "{{msg.payload.type}} version",
        "format": "{{msg.payload.os_version}}",
        "layout": "row-spread",
        "className": "",
        "x": 530,
        "y": 540,
        "wires": []
    },
    {
        "id": "e5dc586dcb92b24a",
        "type": "function",
        "z": "f29ecd9eab0f0d83",
        "d": true,
        "name": "system info",
        "func": "msg.payload = {       \n    arch:         os.arch(),\n    cpus:         os.cpus(),\n    cpu_model:    os.cpus()[os.cpus().length - 1].model,\n    cpu_speed:    os.cpus()[os.cpus().length - 1].speed,\n    n_cpus:       os.cpus().length,\n    endianness:   os.endianness(),\n    homedir:      os.homedir(),\n    hostname:     os.hostname(),\n    network:      os.networkInterfaces(),\n    address:      os.networkInterfaces().eth0[0].address,\n    platform:     os.platform(),\n    release:      os.release(),\n    type:         os.type(),\n    userInfo:     os.userInfo(),\n    gid:          os.userInfo().gid,\n    uid:          os.userInfo().uid,\n    username:     os.userInfo().username,\n    shell:        os.userInfo().shell,\n    os_version:   os.version(),\n\n    cwd:          process.cwd(),\n    node_version: process.version,\n\n    last_update:  new Date()\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "os",
                "module": "os"
            },
            {
                "var": "process",
                "module": "process"
            }
        ],
        "x": 290,
        "y": 320,
        "wires": [
            [
                "e475bf4d1347ce6d",
                "38fb665c04a2fa2b",
                "12262ec3b4702e3b",
                "93fcb0ebab0ad1fb",
                "772de72b62e1e4e0",
                "a72c3c707a0495a6",
                "f66d1fae20c650a0",
                "990e8802adb04ed7"
            ]
        ]
    },
    {
        "id": "407393b06d188578",
        "type": "split",
        "z": "f29ecd9eab0f0d83",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "topic",
        "x": 510,
        "y": 40,
        "wires": [
            [
                "e14bc855c64bcbec",
                "1ff2be7d96afb5f0"
            ]
        ]
    },
    {
        "id": "e14bc855c64bcbec",
        "type": "switch",
        "z": "f29ecd9eab0f0d83",
        "name": "mem?",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "ram",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "heap",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 670,
        "y": 60,
        "wires": [
            [],
            [
                "d59207da68d0e961"
            ]
        ]
    },
    {
        "id": "5a48bbed736ee220",
        "type": "comment",
        "z": "f29ecd9eab0f0d83",
        "name": "README",
        "info": "### Function nodes\n```node-os-utils``` =\n```system mon``` + \n```system info```\n\n### Swith node\n*mem* = *ram* + *heap*\n\n### UI Widget configuration via msg.ui_control\nhttps://github.com/node-red/node-red-dashboard/blob/master/config-fields.md",
        "x": 100,
        "y": 40,
        "wires": []
    },
    {
        "id": "7c204748fb1d30c6",
        "type": "ui_gauge",
        "z": "f29ecd9eab0f0d83",
        "name": "",
        "group": "f6e5eaea1a3d31cf",
        "order": 1,
        "width": "6",
        "height": "2",
        "gtype": "gage",
        "title": "1 Minute",
        "label": "load",
        "format": "{{msg.payload.loadavg_1| number:2}}",
        "min": 0,
        "max": "4",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "1",
        "seg2": "3",
        "className": "",
        "x": 840,
        "y": 500,
        "wires": []
    },
    {
        "id": "9c89af026d6e876a",
        "type": "ui_gauge",
        "z": "f29ecd9eab0f0d83",
        "name": "",
        "group": "f6e5eaea1a3d31cf",
        "order": 2,
        "width": "3",
        "height": "3",
        "gtype": "gage",
        "title": "5 Minutes",
        "label": "load",
        "format": "{{msg.payload.loadavg_5| number:2}}",
        "min": 0,
        "max": "4",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "1",
        "seg2": "3",
        "className": "",
        "x": 840,
        "y": 540,
        "wires": []
    },
    {
        "id": "943a803ae4a09ae9",
        "type": "ui_gauge",
        "z": "f29ecd9eab0f0d83",
        "name": "",
        "group": "f6e5eaea1a3d31cf",
        "order": 4,
        "width": "3",
        "height": "3",
        "gtype": "gage",
        "title": "15 Minutes",
        "label": "load",
        "format": "{{msg.payload.loadavg_15| number:2}}",
        "min": 0,
        "max": "4",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "1",
        "seg2": "3",
        "className": "",
        "x": 850,
        "y": 580,
        "wires": []
    },
    {
        "id": "52c2417885093efb",
        "type": "ui_chart",
        "z": "f29ecd9eab0f0d83",
        "name": "",
        "group": "f6e5eaea1a3d31cf",
        "order": 0,
        "width": "6",
        "height": "4",
        "label": "CPU Load Average",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "6",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": "",
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 870,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "978f120d4b6d5d8d",
        "type": "split",
        "z": "f29ecd9eab0f0d83",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "topic",
        "x": 510,
        "y": 420,
        "wires": [
            [
                "4fef2b553738432c"
            ]
        ]
    },
    {
        "id": "4fef2b553738432c",
        "type": "switch",
        "z": "f29ecd9eab0f0d83",
        "name": "load?",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "n_cores",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "loadavg",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 670,
        "y": 420,
        "wires": [
            [
                "72daa15a9e8dee07"
            ],
            [
                "52c2417885093efb"
            ]
        ]
    },
    {
        "id": "eeac84aba4122de6",
        "type": "inject",
        "z": "f29ecd9eab0f0d83",
        "name": "5s",
        "props": [],
        "repeat": "15",
        "crontab": "",
        "once": true,
        "onceDelay": "",
        "topic": "",
        "x": 110,
        "y": 360,
        "wires": [
            [
                "4a1850006419b797"
            ]
        ]
    },
    {
        "id": "716b83720f6ed7c3",
        "type": "change",
        "z": "f29ecd9eab0f0d83",
        "name": "gauge",
        "rules": [
            {
                "t": "set",
                "p": "ui_control.max",
                "pt": "msg",
                "to": "payload.n_cores * 4",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "ui_control.seg1",
                "pt": "msg",
                "to": "payload.n_cores *1.5",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "ui_control.seg2",
                "pt": "msg",
                "to": "payload.n_cores * 3",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 670,
        "y": 540,
        "wires": [
            [
                "7c204748fb1d30c6",
                "9c89af026d6e876a",
                "943a803ae4a09ae9"
            ]
        ]
    },
    {
        "id": "1ff2be7d96afb5f0",
        "type": "switch",
        "z": "f29ecd9eab0f0d83",
        "name": "cpu?",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "cpu_sys",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "cpu_us",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 670,
        "y": 20,
        "wires": [
            [
                "4b5a96f2a67089df"
            ],
            [
                "4b5a96f2a67089df"
            ]
        ]
    },
    {
        "id": "72daa15a9e8dee07",
        "type": "change",
        "z": "f29ecd9eab0f0d83",
        "name": "warning",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "warning",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload * 2",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 840,
        "y": 420,
        "wires": [
            [
                "52c2417885093efb"
            ]
        ]
    },
    {
        "id": "22396be02ca06ffd",
        "type": "comment",
        "z": "6ac908635771d986",
        "name": "Per la Private Key",
        "info": "# Procedura su Chrome\n - Estensione Metamask\n - Opzioni account (overflow menu icon)\n - Dettagli Account\n - Esporta Chiave Privata",
        "x": 890,
        "y": 1280,
        "wires": []
    },
    {
        "id": "431d74ab52f5e26d",
        "type": "comment",
        "z": "6ac908635771d986",
        "name": "Per la Public Key",
        "info": "bash $ `npm i -g ethereum-private-key-to-public-key`\nbash $ `ethereum-private-key-to-public-key` _private-key_\n\n0406c16dffbd03799962604dac8056a0615fd0586c1a1df8c09c05bedd41acec25ab9756c6bc577d0804d4244ed08d86a5bd3fb83991fc67ca13c096a8b8f040e9",
        "x": 900,
        "y": 1240,
        "wires": []
    },
    {
        "id": "ab7e705c5e8cba75",
        "type": "comment",
        "z": "6ac908635771d986",
        "name": "node-red-contrib-ethereum",
        "info": "[Github](https://github.com/timweing/node-red-contrib-ethereum)",
        "x": 150,
        "y": 820,
        "wires": []
    },
    {
        "id": "db2fc4d6e7b00cad",
        "type": "comment",
        "z": "6ac908635771d986",
        "name": "New_PoE.sol",
        "info": "[Remix](https://remix.ethereum.org/)\n\n```solidity\n\n// SPDX-License-Identifier: GPL-3.0\npragma solidity >=0.7.0 <0.9.0;\n\n// On REMIX, use CRTL+SHIFT+S to Compile and Deploy (and Test)\n\n/**\n * @title Proof of Existence\n * @author 0x7efC9d38581c7Cb8372325c349Ec5095D027B3Dd\n * @dev Notarization of documents via Blockchain\n * @custom:dev-run-script ./scripts/deploy_with_web3(PoE).ts\n */\ncontract ProofOfExistence {\n\n    struct Proof {\n        address owner;\n        string tag;\n        uint timestamp;\n    }\n /// @dev The contract state\n    mapping (bytes32 => Proof) private proofs;\n\n    event Notarized(bytes32 hash, Proof proof);\n\n    // Helper functions //\n  \n    /// @dev Public helper function to get a document's SHA256 hash\n    function encode(string memory document) public pure returns (bytes32 hash) {\n        return sha256(abi.encode(document));\n    }\n\n    function currentTimestamp() public view returns (uint timestamp) {\n        return block.timestamp;\n    }\n\n    // Notarization functions //\n\n    /// @dev Calculate and store the proof for a document in the contract state\n    function notarize(bytes32 hash, string calldata tag) public returns (Proof memory) {\n        require(proofs[hash].timestamp == 0 , \"Document already notarized.\");\n        proofs[hash] = Proof(msg.sender, tag, currentTimestamp());\n        emit Notarized(hash, proofs[hash]);\n        return proofs[hash];\n    }\n\n    /// @dev Calculate and store the proof for a document in the contract state\n    function upload(string calldata document, string calldata tag) external {\n        notarize(encode(document), tag);\n    }\n\n    /// @dev Calculate and store the proof for a document in the contract state\n    function test(string calldata document, string calldata tag) external returns (Proof memory) {\n        return notarize(encode(document), tag); // return works only if called by contracts, not externally\n    }\n\n    // Verification functions //\n\n    /// @dev Check if a hash has been notarized\n    function verify(bytes32 hash) public view returns (bool) {\n        return proofs[hash].timestamp != 0;\n    }\n\n    /// @dev Check if a hash has been notarized\n    function check(string calldata document) external view returns (bool) {\n        return verify(encode(document));\n    }\n\n    /// @dev Get the notarized Proof\n    function getProof(bytes32 hash) external view returns (Proof memory) {\n        return proofs[hash];\n    }\n}\n\n```",
        "x": 910,
        "y": 1160,
        "wires": []
    },
    {
        "id": "4b02ee8bcfe9f65e",
        "type": "comment",
        "z": "6ac908635771d986",
        "name": "Lista Nodi RPC",
        "info": "# Sepolia\n**[Chainlist]https://chainlist.org/chain/11155111?testnets=true**\nhttps://ethereum-sepolia.publicnode.com\nwss://ethereum-sepolia.publicnode.com\nhttps://sepolia.gateway.tenderly.co\nwss://sepolia.gateway.tenderly.co\nhttps://rpc2.sepolia.org/ \n\n# Goerli\n**[Infura](https://infura.io/dashboard/ethereum/5335c51b15474082b174e255701d969f/settings)** (100000 richieste/giorno) (efbrtobrhrdauyhmib@nthrw.com)\nhttps://goerli.infura.io/v3/5335c51b15474082b174e255701d969f\n\n**[RPC Info](https://rpc.info/)** (public)\nhttps://goerli.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161\n\n**[Ankr](https://www.ankr.com/rpc/eth/eth_goerli/)** (public)\nhttps://rpc.ankr.com/eth_goerli\n\n**[Alchemy](https://dashboard.alchemy.com/usage)** (ybwyourptbrsevjdzn@nvhrw.com)\nhttps://eth-goerli.g.alchemy.com/v2/c_o7OYGYQFXHsLYv7GPlT_VAQQYaxQz2\n",
        "x": 900,
        "y": 1200,
        "wires": []
    },
    {
        "id": "6778c6c1380b7d0f",
        "type": "http request",
        "z": "6ac908635771d986",
        "name": "http://localhost:8080/check?json=true",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://localhost:8080/check?json",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 390,
        "y": 1380,
        "wires": [
            [
                "48f94141d1cb92c5"
            ]
        ]
    },
    {
        "id": "48f94141d1cb92c5",
        "type": "debug",
        "z": "6ac908635771d986",
        "name": "debug 1",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 575,
        "y": 1440,
        "wires": [],
        "l": false
    },
    {
        "id": "9a11a4f0891ea4cc",
        "type": "http request",
        "z": "6ac908635771d986",
        "name": "http://localhost:8080/verify?info=abc",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://localhost:8080/verify?info=abc",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 390,
        "y": 1500,
        "wires": [
            [
                "5e7f1bf372a936d5"
            ]
        ]
    },
    {
        "id": "5e7f1bf372a936d5",
        "type": "debug",
        "z": "6ac908635771d986",
        "name": "debug 2",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 575,
        "y": 1500,
        "wires": [],
        "l": false
    },
    {
        "id": "0bcd4bc20753c114",
        "type": "http request",
        "z": "6ac908635771d986",
        "name": "http://localhost:8080/check",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://localhost:8080/check/",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 360,
        "y": 1440,
        "wires": [
            [
                "48f94141d1cb92c5"
            ]
        ]
    },
    {
        "id": "fe192511c2d168c4",
        "type": "inject",
        "z": "6ac908635771d986",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "test",
        "payloadType": "flow",
        "x": 100,
        "y": 1440,
        "wires": [
            [
                "0bcd4bc20753c114"
            ]
        ]
    },
    {
        "id": "5ca002ea05157894",
        "type": "inject",
        "z": "6ac908635771d986",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "test",
        "payloadType": "flow",
        "x": 100,
        "y": 1380,
        "wires": [
            [
                "6778c6c1380b7d0f"
            ]
        ]
    },
    {
        "id": "8be04bb307ba51a4",
        "type": "inject",
        "z": "6ac908635771d986",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "test",
        "payloadType": "flow",
        "x": 100,
        "y": 1500,
        "wires": [
            [
                "9a11a4f0891ea4cc"
            ]
        ]
    },
    {
        "id": "ed9890d9b9a79542",
        "type": "debug",
        "z": "6ac908635771d986",
        "name": "tx hash",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "payload.transactionHash",
        "statusType": "msg",
        "x": 920,
        "y": 20,
        "wires": []
    },
    {
        "id": "6e69424c33b49654",
        "type": "inject",
        "z": "6ac908635771d986",
        "name": "[post] /check",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "test",
        "payloadType": "flow",
        "x": 110,
        "y": 440,
        "wires": [
            [
                "99cc2c92cf947d7d"
            ]
        ]
    },
    {
        "id": "d835a3cd57b136d3",
        "type": "inject",
        "z": "6ac908635771d986",
        "name": "create",
        "props": [
            {
                "p": "topic",
                "v": "",
                "vt": "date"
            },
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\t    \"sender\": \"0x7efC9d38581c7Cb8372325c349Ec5095D027B3Dd\",\t    \"storedValue\": $random(),\t    \"timestamp\": topic\t}",
        "payloadType": "jsonata",
        "x": 55,
        "y": 20,
        "wires": [
            [
                "47ebb5a1881ea6a3",
                "3840adcf6c2a8577"
            ]
        ],
        "l": false
    },
    {
        "id": "47ebb5a1881ea6a3",
        "type": "debug",
        "z": "6ac908635771d986",
        "name": "storedValue",
        "active": true,
        "tosidebar": false,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "payload.storedValue",
        "statusType": "msg",
        "x": 150,
        "y": 20,
        "wires": []
    },
    {
        "id": "6c0cef1c6709e0b8",
        "type": "debug",
        "z": "6ac908635771d986",
        "name": "block hash",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "payload.blockHash",
        "statusType": "msg",
        "x": 910,
        "y": 200,
        "wires": []
    },
    {
        "id": "28ce96a2d1b7c1ba",
        "type": "change",
        "z": "6ac908635771d986",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "transaction",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 730,
        "y": 20,
        "wires": [
            [
                "ed9890d9b9a79542"
            ]
        ]
    },
    {
        "id": "24d3c34db064a9d0",
        "type": "inject",
        "z": "6ac908635771d986",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "transaction",
        "payloadType": "flow",
        "x": 120,
        "y": 140,
        "wires": [
            [
                "a835d6fce0c0cae2"
            ]
        ]
    },
    {
        "id": "a3faeba77ec5db45",
        "type": "catch",
        "z": "6ac908635771d986",
        "name": "",
        "scope": [
            "7524d40e31d0bab7",
            "5bee4276f6d475b8",
            "f93048705f3c9499",
            "18bafd8e2e93d79c",
            "6e3831839b4eff55",
            "0320b719187a5558",
            "72481268654e183a",
            "99cc2c92cf947d7d",
            "5f42b06835c059f9",
            "ffbc4bdd523d23dd",
            "e69a50fe103eb882",
            "e6afc11de35e0153",
            "a1984b4a585afe3c",
            "e838477c6d3c92d1",
            "6ae56935995b2bcc"
        ],
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "a00e80367b3fe576",
                "600d0e054a515ba4"
            ]
        ]
    },
    {
        "id": "7524d40e31d0bab7",
        "type": "contract-call",
        "z": "6ac908635771d986",
        "name": "notarize",
        "smartContract": "b250872af2defa8d",
        "contractFunction": "notarize",
        "senderAccount": "4309ab3d92258a66",
        "readonlyFunction": false,
        "weiTransfer": "",
        "onlyEstimateGas": false,
        "useEstimatedGasLimit": true,
        "gasLimit": "46591",
        "usePreviousBlocksGasPrice": true,
        "gasPrice": "46591",
        "fetchFullTransaction": false,
        "x": 480,
        "y": 200,
        "wires": [
            [
                "28ce96a2d1b7c1ba"
            ],
            [
                "33c4a08a31838163",
                "6c0cef1c6709e0b8",
                "76e3b3c0182468ae",
                "94a2f3303a98b0b8",
                "fac78326a19f4308"
            ]
        ]
    },
    {
        "id": "ebb82b76244b95a0",
        "type": "comment",
        "z": "6ac908635771d986",
        "g": "f9f38656cf5cfad0",
        "name": "PoE v5",
        "info": "[Remix](https://remix.ethereum.org/)\n\n```solidity\n\n// SPDX-License-Identifier: GPL-3.0\npragma solidity >=0.7.0 <0.9.0;\n\n// On REMIX, use CRTL+SHIFT+S to run @custom:dev-run-script\n/**\n * @title Proof of Existence\n * @author 0x7efC9d38581c7Cb8372325c349Ec5095D027B3Dd\n * @dev Notarization of documents into the Blockchain through the hash of their content.\n * @custom:dev-run-script ./scripts/send_to_replit_(PoE).ts\n */\ncontract ProofOfExistence {\n\n    struct Proof {\n        string description; // unencrypted metadata\n        address provider;  // the sender's address\n        uint timestamp;   // notarization instant\n    }\n\n    /// @dev The contract state\n    mapping (bytes32 => Proof) private proofs;\n\n    event Notarized(bytes32, Proof);\n\n      // ================= //\n     // Utility functions //\n    // ================= //\n\n    /// @dev Calculate the document proof as the SHA-3 hash of its content\n    function createProofHash(string memory document) public pure returns (bytes32 hash) {\n        // hash = sha256(abi.encode(document)); // SHA-2\n        // abi.encodePacked will be deprecated in Solidity v0.9.0 -> Replace with abi.encode, or simple cast:\n        hash = keccak256(bytes(document));\n        // return hash;\n    }\n\n    /// @dev Get the document proof data associated to a notarized hash, if any\n    function getProof(bytes32 hash) external view returns (Proof memory proof) {\n        proof = proofs[hash];\n        // return proof;\n    }\n\n      // ====================== //\n     // Notarization functions //\n    // ====================== //\n\n    /// @dev Calculate and notarize the proof of a document\n    function certify(string calldata document, string calldata desc) external returns (bytes32 hash, Proof memory proof) {\n        hash = createProofHash(document);\n        proof = notarize(hash, desc);\n        // return (hash, proof);\n    }\n\n    /// @dev Store the proof of a dacument in the contract state\n    function notarize(bytes32 hash, string calldata description) public returns (Proof memory proof) {\n        require(proofs[hash].timestamp == 0 , \"Proof already notarized.\");\n        proof = Proof(description, msg.sender, block.timestamp);\n        proofs[hash] = proof;\n        emit Notarized(hash, proof);\n        // return proof;\n    }\n\n      // ====================== //\n     // Verification functions //\n    // ====================== //\n\n    /// @dev Calculate and verify if the proof of a document has been notarized\n    function check(string calldata document) external view returns (bool result) {\n        result = verify(createProofHash(document));\n        // return result;\n    }\n\n    /// @dev Verify if a hash has been notarized as proof of a document\n    function verify(bytes32 hash) public view returns (bool result) {\n        result = proofs[hash].timestamp != 0;\n        // return result;\n    }\n}\n\n```",
        "x": 730,
        "y": 80,
        "wires": []
    },
    {
        "id": "5d1ce32789faf6fb",
        "type": "http in",
        "z": "6ac908635771d986",
        "name": "",
        "url": "/check",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 110,
        "y": 440,
        "wires": [
            [
                "99cc2c92cf947d7d"
            ]
        ]
    },
    {
        "id": "82c966f6be9cf26b",
        "type": "change",
        "z": "6ac908635771d986",
        "name": "push info",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "[payload, req.query.info? req.query.info: \"\"]",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 480,
        "y": 260,
        "wires": [
            [
                "7524d40e31d0bab7"
            ]
        ]
    },
    {
        "id": "5bee4276f6d475b8",
        "type": "function",
        "z": "6ac908635771d986",
        "name": "digest",
        "func": "// return buffer\nmsg.payload = keccak256(JSON.stringify(msg.payload));\n\n// return string\nvar hash = \"0x\" + msg.payload.toString('hex')\n\nnode.status({ fill:\"blue\", shape:\"ring\", text:hash });\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "keccak256",
                "module": "keccak256"
            }
        ],
        "x": 290,
        "y": 260,
        "wires": [
            [
                "82c966f6be9cf26b"
            ]
        ]
    },
    {
        "id": "7d8dce756aed15c4",
        "type": "inject",
        "z": "6ac908635771d986",
        "name": "[post] /certify",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "test",
        "payloadType": "flow",
        "x": 110,
        "y": 260,
        "wires": [
            [
                "5bee4276f6d475b8"
            ]
        ]
    },
    {
        "id": "3c754ff1488edaa4",
        "type": "http in",
        "z": "6ac908635771d986",
        "name": "",
        "url": "/certify",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 110,
        "y": 260,
        "wires": [
            [
                "5bee4276f6d475b8"
            ]
        ]
    },
    {
        "id": "a00e80367b3fe576",
        "type": "debug",
        "z": "6ac908635771d986",
        "name": "set msg.payload",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 260,
        "y": 80,
        "wires": []
    },
    {
        "id": "2f73e33a03c0b596",
        "type": "debug",
        "z": "6ac908635771d986",
        "name": "response",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "msg",
        "x": 920,
        "y": 380,
        "wires": []
    },
    {
        "id": "76f6db01db20f1ea",
        "type": "http response",
        "z": "6ac908635771d986",
        "name": "",
        "statusCode": "200",
        "headers": {},
        "x": 920,
        "y": 380,
        "wires": []
    },
    {
        "id": "3840adcf6c2a8577",
        "type": "change",
        "z": "6ac908635771d986",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "test",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 150,
        "y": 20,
        "wires": [
            [
                "6e3831839b4eff55"
            ]
        ]
    },
    {
        "id": "237461ee7f16e5a8",
        "type": "switch",
        "z": "6ac908635771d986",
        "name": "json?",
        "property": "req.headers.accept",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "application/json",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 490,
        "y": 380,
        "wires": [
            [
                "f93048705f3c9499"
            ],
            [
                "5f42b06835c059f9"
            ]
        ]
    },
    {
        "id": "33c4a08a31838163",
        "type": "debug",
        "z": "6ac908635771d986",
        "name": "tx hash",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "summary.txHash",
        "statusType": "msg",
        "x": 920,
        "y": 80,
        "wires": []
    },
    {
        "id": "600d0e054a515ba4",
        "type": "change",
        "z": "6ac908635771d986",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "error.message",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 260,
        "y": 80,
        "wires": [
            [
                "9398514e7df96f2f",
                "238bd13362383d01"
            ]
        ]
    },
    {
        "id": "238bd13362383d01",
        "type": "debug",
        "z": "6ac908635771d986",
        "name": "response",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "msg",
        "x": 480,
        "y": 80,
        "wires": []
    },
    {
        "id": "9398514e7df96f2f",
        "type": "http response",
        "z": "6ac908635771d986",
        "name": "",
        "statusCode": "400",
        "headers": {},
        "x": 480,
        "y": 80,
        "wires": []
    },
    {
        "id": "c31814cb2de5f4b6",
        "type": "inject",
        "z": "6ac908635771d986",
        "name": "[get] /poe/:hash",
        "props": [
            {
                "p": "req.params.hash",
                "v": "hash",
                "vt": "flow"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 120,
        "y": 320,
        "wires": [
            [
                "0320b719187a5558"
            ]
        ]
    },
    {
        "id": "aa3f820b99da254a",
        "type": "http in",
        "z": "6ac908635771d986",
        "name": "",
        "url": "/poe/:hash",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 120,
        "y": 320,
        "wires": [
            [
                "0320b719187a5558"
            ]
        ]
    },
    {
        "id": "6e3831839b4eff55",
        "type": "function",
        "z": "6ac908635771d986",
        "name": "digest",
        "func": "// return buffer\nmsg.payload = keccak256(JSON.stringify(msg.payload));\n\n// return string\nmsg.hash = \"0x\" + msg.payload.toString('hex')\n\nnode.status({ fill:\"blue\", shape:\"ring\", text:msg.hash });\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "keccak256",
                "module": "keccak256"
            }
        ],
        "x": 290,
        "y": 20,
        "wires": [
            [
                "d11dfd34df0bf5c7"
            ]
        ]
    },
    {
        "id": "0320b719187a5558",
        "type": "function",
        "z": "6ac908635771d986",
        "name": "buffer",
        "func": "// return string\nmsg.hash = msg.req.params.hash.replace(/0[xX]/g,\"\");\n\n// return buffer\nmsg.payload = Buffer.from(msg.hash, \"hex\");\n\nvar verify = \"0x\" + msg.payload.toString('hex');\nnode.status({ fill:\"blue\", shape:\"ring\", text:verify });\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "keccak256",
                "module": "keccak256"
            }
        ],
        "x": 290,
        "y": 320,
        "wires": [
            [
                "f93048705f3c9499"
            ]
        ]
    },
    {
        "id": "72227d2c33cc8b0a",
        "type": "http request",
        "z": "6ac908635771d986",
        "name": "certify",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "http://localhost:8080/certify?info=xyz",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 770,
        "y": 1380,
        "wires": [
            [
                "da26baa4b1c5ba61"
            ]
        ]
    },
    {
        "id": "da26baa4b1c5ba61",
        "type": "debug",
        "z": "6ac908635771d986",
        "name": "hash",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "msg",
        "x": 930,
        "y": 1380,
        "wires": []
    },
    {
        "id": "a211942662b167d2",
        "type": "inject",
        "z": "6ac908635771d986",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "test",
        "payloadType": "flow",
        "x": 695,
        "y": 1440,
        "wires": [
            [
                "7ed4da397f4f5ee5"
            ]
        ],
        "l": false
    },
    {
        "id": "7ed4da397f4f5ee5",
        "type": "http request",
        "z": "6ac908635771d986",
        "name": "check json",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "http://localhost:8080/check",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "Accept",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            }
        ],
        "x": 790,
        "y": 1440,
        "wires": [
            [
                "f63ddd8ffbe27c47"
            ]
        ]
    },
    {
        "id": "f63ddd8ffbe27c47",
        "type": "debug",
        "z": "6ac908635771d986",
        "name": "info",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload.information ? payload.information : payload",
        "statusType": "jsonata",
        "x": 930,
        "y": 1440,
        "wires": []
    },
    {
        "id": "f32037fe8fc7af1d",
        "type": "inject",
        "z": "6ac908635771d986",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "test",
        "payloadType": "flow",
        "x": 695,
        "y": 1380,
        "wires": [
            [
                "72227d2c33cc8b0a"
            ]
        ],
        "l": false
    },
    {
        "id": "99cc2c92cf947d7d",
        "type": "function",
        "z": "6ac908635771d986",
        "name": "digest",
        "func": "// return buffer\nmsg.payload = keccak256(JSON.stringify(msg.payload));\n\n// return string\nmsg.hash = \"0x\" + msg.payload.toString('hex')\n\nnode.status({ fill:\"blue\", shape:\"ring\", text:msg.hash });\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "keccak256",
                "module": "keccak256"
            }
        ],
        "x": 290,
        "y": 440,
        "wires": [
            [
                "237461ee7f16e5a8"
            ]
        ]
    },
    {
        "id": "f041797800b15b45",
        "type": "function",
        "z": "6ac908635771d986",
        "name": "set info",
        "func": "if (!msg.req.query.info)\n    msg.req.query.info = JSON.stringify(msg.payload);\n\nvar info = msg.req.query.info;\n\nnode.status({ fill:\"blue\", shape:\"ring\", text:info });\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "keccak256",
                "module": "keccak256"
            }
        ],
        "x": 280,
        "y": 200,
        "wires": [
            [
                "5bee4276f6d475b8"
            ]
        ]
    },
    {
        "id": "9745a6ad00dfc72c",
        "type": "inject",
        "z": "6ac908635771d986",
        "name": "[post] /poe",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "req.query",
                "v": "{}",
                "vt": "json"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "test",
        "payloadType": "flow",
        "x": 100,
        "y": 200,
        "wires": [
            [
                "f041797800b15b45"
            ]
        ]
    },
    {
        "id": "c475d660e78cb4e5",
        "type": "http in",
        "z": "6ac908635771d986",
        "name": "",
        "url": "/poe",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 100,
        "y": 200,
        "wires": [
            [
                "f041797800b15b45"
            ]
        ]
    },
    {
        "id": "d11dfd34df0bf5c7",
        "type": "change",
        "z": "6ac908635771d986",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "hash",
                "pt": "flow",
                "to": "hash",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 470,
        "y": 20,
        "wires": [
            []
        ]
    },
    {
        "id": "76e3b3c0182468ae",
        "type": "debug",
        "z": "6ac908635771d986",
        "name": "block num",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "payload.blockNumber",
        "statusType": "msg",
        "x": 910,
        "y": 140,
        "wires": []
    },
    {
        "id": "a835d6fce0c0cae2",
        "type": "transaction-reader",
        "z": "6ac908635771d986",
        "name": "",
        "ethereumClient": "151efd3e17f2a2d1",
        "queryReceipt": false,
        "getByTxHash": true,
        "fromBlock": "-9",
        "toBlock": "latest",
        "filterFrom": "",
        "filterTo": "",
        "x": 450,
        "y": 140,
        "wires": [
            [
                "6c0cef1c6709e0b8",
                "76e3b3c0182468ae"
            ]
        ]
    },
    {
        "id": "31fbd111cb107634",
        "type": "event-listener",
        "z": "6ac908635771d986",
        "name": "Notarized",
        "smartContract": "b250872af2defa8d",
        "contractEvent": "Notarized",
        "filter": "",
        "x": 700,
        "y": 500,
        "wires": [
            [
                "9a23fdb742642cb7",
                "9c7ee77b7c2c8792"
            ]
        ]
    },
    {
        "id": "9a23fdb742642cb7",
        "type": "debug",
        "z": "6ac908635771d986",
        "name": "notification",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload.returnValues[\"0\"]",
        "statusType": "msg",
        "x": 910,
        "y": 500,
        "wires": []
    },
    {
        "id": "8ab8308efa3560cb",
        "type": "inject",
        "z": "6ac908635771d986",
        "name": "[get] /check/:hash",
        "props": [
            {
                "p": "req.params.hash",
                "v": "hash",
                "vt": "flow"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 120,
        "y": 380,
        "wires": [
            [
                "6ae56935995b2bcc"
            ]
        ]
    },
    {
        "id": "595062877243cc64",
        "type": "http in",
        "z": "6ac908635771d986",
        "name": "",
        "url": "/check/:hash",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 120,
        "y": 380,
        "wires": [
            [
                "6ae56935995b2bcc"
            ]
        ]
    },
    {
        "id": "6ae56935995b2bcc",
        "type": "function",
        "z": "6ac908635771d986",
        "name": "buffer",
        "func": "// return string\nmsg.hash = msg.req.params.hash.replace(/0[xX]/g,\"\");\n\n// return buffer\nmsg.payload = Buffer.from(msg.hash, \"hex\");\n\nvar verify = \"0x\" + msg.payload.toString('hex');\nnode.status({ fill:\"blue\", shape:\"ring\", text:verify });\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "keccak256",
                "module": "keccak256"
            }
        ],
        "x": 290,
        "y": 380,
        "wires": [
            [
                "237461ee7f16e5a8"
            ]
        ]
    },
    {
        "id": "5f42b06835c059f9",
        "type": "contract-call",
        "z": "6ac908635771d986",
        "name": "verify",
        "smartContract": "b250872af2defa8d",
        "contractFunction": "verify",
        "senderAccount": "4309ab3d92258a66",
        "readonlyFunction": true,
        "weiTransfer": "",
        "onlyEstimateGas": false,
        "useEstimatedGasLimit": true,
        "gasLimit": "",
        "usePreviousBlocksGasPrice": true,
        "gasPrice": "",
        "fetchFullTransaction": false,
        "x": 490,
        "y": 440,
        "wires": [
            [],
            [
                "f347abc0724fc7c4",
                "fc5a3408cf297aa6"
            ]
        ]
    },
    {
        "id": "94a2f3303a98b0b8",
        "type": "debug",
        "z": "6ac908635771d986",
        "name": "Notarized return",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 720,
        "y": 320,
        "wires": []
    },
    {
        "id": "fac78326a19f4308",
        "type": "change",
        "z": "6ac908635771d986",
        "name": "Notarized return",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.events.Notarized.returnValues[\"0\"]",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 720,
        "y": 320,
        "wires": [
            [
                "eaa0a80d3583072f",
                "4288dc5dd9b16b1d"
            ]
        ]
    },
    {
        "id": "eaa0a80d3583072f",
        "type": "debug",
        "z": "6ac908635771d986",
        "name": "response",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "msg",
        "x": 920,
        "y": 320,
        "wires": []
    },
    {
        "id": "4288dc5dd9b16b1d",
        "type": "http response",
        "z": "6ac908635771d986",
        "name": "",
        "statusCode": "200",
        "headers": {},
        "x": 920,
        "y": 320,
        "wires": []
    },
    {
        "id": "ac88e8f59c8adba8",
        "type": "ethers-events",
        "z": "6ac908635771d986",
        "name": "Notarized",
        "contract": "f75517d86e7efbf3",
        "rpc": "f48988c5bc162b95",
        "event": "Notarized",
        "contractAddress": "poeAddress",
        "contractAddressType": "flow",
        "contractCreationTx": "poeCreationTx",
        "contractCreationTxType": "flow",
        "params": "[]",
        "paramsType": "json",
        "output": "payload",
        "outputType": "msg",
        "blockFrom": "",
        "blockFromType": "num",
        "blockTo": "",
        "blockToType": "num",
        "blockRange": "",
        "blockRangeType": "num",
        "x": 300,
        "y": 1280,
        "wires": [
            [
                "c2a7a9ab150f399b"
            ]
        ]
    },
    {
        "id": "66eb061984d0373b",
        "type": "inject",
        "z": "6ac908635771d986",
        "name": "",
        "props": [],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 90,
        "y": 1280,
        "wires": [
            [
                "ac88e8f59c8adba8"
            ]
        ]
    },
    {
        "id": "c2a7a9ab150f399b",
        "type": "debug",
        "z": "6ac908635771d986",
        "name": "ethers-node",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "payload",
        "statusType": "msg",
        "x": 630,
        "y": 1280,
        "wires": []
    },
    {
        "id": "eeb66e3478df49bf",
        "type": "change",
        "z": "6ac908635771d986",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "poeAddress",
                "pt": "flow",
                "to": "payload.contractAddress",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 860,
        "wires": [
            [
                "ad8dbfd1e88017f0"
            ]
        ]
    },
    {
        "id": "5418042d077bb9fc",
        "type": "change",
        "z": "6ac908635771d986",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "poeCreationTx",
                "pt": "flow",
                "to": "payload.transactionHash",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 940,
        "wires": [
            [
                "e63d38f44d64c419"
            ]
        ]
    },
    {
        "id": "d9411e524fdb7d04",
        "type": "inject",
        "z": "6ac908635771d986",
        "name": "Deploy",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 90,
        "y": 1060,
        "wires": [
            [
                "4f1552164b41b6ab"
            ]
        ]
    },
    {
        "id": "e63d38f44d64c419",
        "type": "debug",
        "z": "6ac908635771d986",
        "name": "COPIA IN Inject node - msg.payload.transactionHash",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload.transactionHash",
        "targetType": "msg",
        "statusVal": "payload.transactionHash",
        "statusType": "auto",
        "x": 760,
        "y": 1060,
        "wires": []
    },
    {
        "id": "df399e79b4f038fa",
        "type": "inject",
        "z": "6ac908635771d986",
        "name": "PoE v5",
        "props": [
            {
                "p": "payload.contractAddress",
                "v": "0x71CC7f2efE44A426948eAB3476C2fb2bBf7E2ece",
                "vt": "str"
            },
            {
                "p": "payload.transactionHash",
                "v": "0xa4577daebb191141780d6588a1de38cd1918de386611dae544e7e9cb0f2758bb",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "x": 100,
        "y": 940,
        "wires": [
            [
                "eeb66e3478df49bf",
                "5418042d077bb9fc"
            ]
        ]
    },
    {
        "id": "4f1552164b41b6ab",
        "type": "ethers-deploy",
        "z": "6ac908635771d986",
        "name": "PoE v5",
        "contract": "f75517d86e7efbf3",
        "ethCredentials": "63ac671491a13a4b",
        "hierarchicalDeterministicWalletIndex": 0,
        "hierarchicalDeterministicWalletIndexType": "num",
        "params": "[]",
        "paramsType": "json",
        "output": "payload",
        "outputType": "msg",
        "x": 300,
        "y": 1060,
        "wires": [
            [
                "eeb66e3478df49bf",
                "5418042d077bb9fc"
            ]
        ]
    },
    {
        "id": "3b4aecf9880e8138",
        "type": "comment",
        "z": "6ac908635771d986",
        "name": "smart-contract node (a4b3ff3023c6a717)",
        "info": "",
        "x": 720,
        "y": 800,
        "wires": []
    },
    {
        "id": "571cbe2ee5a45168",
        "type": "comment",
        "z": "6ac908635771d986",
        "name": "Inject node (fa168e30edcc8ae8)",
        "info": "",
        "x": 690,
        "y": 1000,
        "wires": []
    },
    {
        "id": "ad8dbfd1e88017f0",
        "type": "debug",
        "z": "6ac908635771d986",
        "name": "COPIA IN smart-contract node - Address",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload.contractAddress",
        "targetType": "msg",
        "statusVal": "payload.contractAddress",
        "statusType": "auto",
        "x": 720,
        "y": 740,
        "wires": []
    },
    {
        "id": "b697560d25a31625",
        "type": "ethers-write-contract",
        "z": "6ac908635771d986",
        "name": "certify",
        "contract": "f75517d86e7efbf3",
        "ethCredentials": "63ac671491a13a4b",
        "method": "certify",
        "contractAddress": "poeAddress",
        "contractAddressType": "flow",
        "params": "payload",
        "paramsType": "msg",
        "payment": "",
        "paymentType": "str",
        "hierarchicalDeterministicWalletIndex": 0,
        "hierarchicalDeterministicWalletIndexType": "num",
        "output": "payload",
        "outputType": "msg",
        "x": 290,
        "y": 1220,
        "wires": [
            [
                "942e2932266396dd"
            ]
        ]
    },
    {
        "id": "a59ca12663dbd7f7",
        "type": "ethers-read-contract",
        "z": "6ac908635771d986",
        "name": "check",
        "contract": "f75517d86e7efbf3",
        "rpc": "f48988c5bc162b95",
        "method": "check",
        "contractAddress": "poeAddress",
        "contractAddressType": "flow",
        "params": "payload",
        "paramsType": "msg",
        "output": "payload",
        "outputType": "msg",
        "x": 290,
        "y": 1160,
        "wires": [
            [
                "dd3aeec42ae40df0"
            ]
        ]
    },
    {
        "id": "dd3aeec42ae40df0",
        "type": "debug",
        "z": "6ac908635771d986",
        "name": "result",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "payload",
        "statusType": "msg",
        "x": 610,
        "y": 1160,
        "wires": []
    },
    {
        "id": "942e2932266396dd",
        "type": "change",
        "z": "6ac908635771d986",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "transaction",
                "pt": "flow",
                "to": "payload.transactionHash",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 650,
        "y": 1220,
        "wires": [
            []
        ]
    },
    {
        "id": "5faa432df00f70fb",
        "type": "inject",
        "z": "6ac908635771d986",
        "name": "[ flow.test, \"\" ]",
        "props": [
            {
                "p": "topic",
                "v": "test",
                "vt": "flow"
            },
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "[ $string(topic), \"\" ]",
        "payloadType": "jsonata",
        "x": 110,
        "y": 1220,
        "wires": [
            [
                "b697560d25a31625"
            ]
        ]
    },
    {
        "id": "c825117f475f9a25",
        "type": "inject",
        "z": "6ac908635771d986",
        "name": "[ flow.test ]",
        "props": [
            {
                "p": "topic",
                "v": "test",
                "vt": "flow"
            },
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "[$string(topic)]",
        "payloadType": "jsonata",
        "x": 100,
        "y": 1160,
        "wires": [
            [
                "a59ca12663dbd7f7"
            ]
        ]
    },
    {
        "id": "9629cb45ca870ef2",
        "type": "template",
        "z": "6ac908635771d986",
        "name": "sample result",
        "field": "payload",
        "fieldType": "msg",
        "format": "json",
        "syntax": "mustache",
        "template": "{\n    \"_msgid\": \"06ba71824fc60399\",\n    \"payload\": {\n        \"blockHash\": \"0x9b1afb5b2e37aefe6ee3411064eaec7ac082727354d94a9bfe8bc664dff24df5\",\n        \"blockNumber\": 12952138,\n        \"contractAddress\": null,\n        \"cumulativeGasUsed\": 2610890,\n        \"effectiveGasPrice\": 1070000007,\n        \"from\": \"0x7efc9d38581c7cb8372325c349ec5095d027b3dd\",\n        \"gasUsed\": 46830,\n        \"logsBloom\": \"0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\",\n        \"status\": true,\n        \"to\": \"0xe1989a90127a449bd22176299104cf6d2cb5ba86\",\n        \"transactionHash\": \"0x8f263d464d41833aab773550d0f16e67958debd264ad3b942796c7268d3bbe7d\",\n        \"transactionIndex\": 12,\n        \"type\": \"0x0\",\n        \"events\": {}\n    },\n    \"topic\": \"\",\n    \"summary\": {\n        \"function\": \"notarize\",\n        \"args\": [\n            \"{\\\"sender\\\":\\\"0x7efC9d38581c7Cb8372325c349Ec5095D027B3Dd\\\",\\\"storedValue\\\":0.8997582773418946,\\\"timestamp\\\":1662672346100}\"\n        ],\n        \"options\": {\n            \"from\": \"0x7efc9d38581c7cb8372325c349ec5095d027b3dd\",\n            \"data\": \"0x7183616c000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000727b2273656e646572223a22307837656643396433383538316337436238333732333235633334394563353039354430323742334464222c2273746f72656456616c7565223a302e383939373538323737333431383934362c2274696d657374616d70223a313636323637323334363130307d0000000000000000000000000000\",\n            \"gasPrice\": \"0x3fc6e787\",\n            \"gas\": \"0xb6ee\",\n            \"to\": \"0xe1989a90127a449bd22176299104cf6d2cb5ba86\",\n            \"nonce\": \"0x17\"\n        },\n        \"txHash\": \"0x8f263d464d41833aab773550d0f16e67958debd264ad3b942796c7268d3bbe7d\",\n        \"result\": {\n            \"blockHash\": \"0x9b1afb5b2e37aefe6ee3411064eaec7ac082727354d94a9bfe8bc664dff24df5\",\n            \"blockNumber\": 12952138,\n            \"contractAddress\": null,\n            \"cumulativeGasUsed\": 2610890,\n            \"effectiveGasPrice\": 1070000007,\n            \"from\": \"0x7efc9d38581c7cb8372325c349ec5095d027b3dd\",\n            \"gasUsed\": 46830,\n            \"logsBloom\": \"0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\",\n            \"status\": true,\n            \"to\": \"0xe1989a90127a449bd22176299104cf6d2cb5ba86\",\n            \"transactionHash\": \"0x8f263d464d41833aab773550d0f16e67958debd264ad3b942796c7268d3bbe7d\",\n            \"transactionIndex\": 12,\n            \"type\": \"0x0\",\n            \"events\": {}\n        }\n    }\n}",
        "output": "str",
        "x": 890,
        "y": 940,
        "wires": [
            []
        ]
    },
    {
        "id": "7d6e48c889edf20e",
        "type": "template",
        "z": "6ac908635771d986",
        "name": "sample tx",
        "field": "payload",
        "fieldType": "msg",
        "format": "json",
        "syntax": "mustache",
        "template": "{\n    \"_msgid\": \"06ba71824fc60399\",\n    \"payload\": \"0x8f263d464d41833aab773550d0f16e67958debd264ad3b942796c7268d3bbe7d\",\n    \"topic\": \"\",\n    \"summary\": {\n        \"function\": \"notarize\",\n        \"args\": [\n            \"{\\\"sender\\\":\\\"0x7efC9d38581c7Cb8372325c349Ec5095D027B3Dd\\\",\\\"storedValue\\\":0.8997582773418946,\\\"timestamp\\\":1662672346100}\"\n        ],\n        \"options\": {\n            \"from\": \"0x7efc9d38581c7cb8372325c349ec5095d027b3dd\",\n            \"data\": \"0x7183616c000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000727b2273656e646572223a22307837656643396433383538316337436238333732333235633334394563353039354430323742334464222c2273746f72656456616c7565223a302e383939373538323737333431383934362c2274696d657374616d70223a313636323637323334363130307d0000000000000000000000000000\",\n            \"gasPrice\": \"0x3fc6e787\",\n            \"gas\": \"0xb6ee\",\n            \"to\": \"0xe1989a90127a449bd22176299104cf6d2cb5ba86\",\n            \"nonce\": \"0x17\"\n        },\n        \"txHash\": \"0x8f263d464d41833aab773550d0f16e67958debd264ad3b942796c7268d3bbe7d\"\n    }\n}",
        "output": "str",
        "x": 900,
        "y": 860,
        "wires": [
            []
        ]
    },
    {
        "id": "1c8ffb0741933d8b",
        "type": "change",
        "z": "6ac908635771d986",
        "d": true,
        "name": "stringify",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "$type(payload)=\"boolean\"?$string(payload):payload",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 760,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "f347abc0724fc7c4",
        "type": "debug",
        "z": "6ac908635771d986",
        "name": "stringify",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 700,
        "y": 380,
        "wires": []
    },
    {
        "id": "fc5a3408cf297aa6",
        "type": "function",
        "z": "6ac908635771d986",
        "name": "stringifly",
        "func": "msg.payload = typeof msg.payload == \"boolean\" ?\n        JSON.stringify(msg.payload) :\n        msg.payload ;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 700,
        "y": 380,
        "wires": [
            [
                "2f73e33a03c0b596",
                "76f6db01db20f1ea"
            ]
        ]
    },
    {
        "id": "142524f97c7bef9f",
        "type": "comment",
        "z": "6ac908635771d986",
        "name": "CHECK",
        "info": "",
        "x": 90,
        "y": 300,
        "wires": []
    },
    {
        "id": "ba99fd13ca8b4647",
        "type": "comment",
        "z": "6ac908635771d986",
        "name": "CERTIFY",
        "info": "",
        "x": 100,
        "y": 180,
        "wires": []
    },
    {
        "id": "9c7ee77b7c2c8792",
        "type": "debug",
        "z": "6ac908635771d986",
        "name": "complete",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 920,
        "y": 560,
        "wires": []
    },
    {
        "id": "f93048705f3c9499",
        "type": "contract-call",
        "z": "6ac908635771d986",
        "name": "getProof",
        "smartContract": "b250872af2defa8d",
        "contractFunction": "getProof",
        "senderAccount": "4309ab3d92258a66",
        "readonlyFunction": true,
        "weiTransfer": "",
        "onlyEstimateGas": false,
        "useEstimatedGasLimit": true,
        "gasLimit": "",
        "usePreviousBlocksGasPrice": true,
        "gasPrice": "",
        "fetchFullTransaction": false,
        "x": 480,
        "y": 320,
        "wires": [
            [],
            [
                "f347abc0724fc7c4",
                "fc5a3408cf297aa6"
            ]
        ]
    },
    {
        "id": "764912e28e66c786",
        "type": "comment",
        "z": "6ac908635771d986",
        "name": "ALREADY DEPLOYED",
        "info": "Contract address:\n0x71CC7f2efE44A426948eAB3476C2fb2bBf7E2ece",
        "x": 120,
        "y": 1040,
        "wires": []
    },
    {
        "id": "8e4380b8719bec5c",
        "type": "comment",
        "z": "8216168554436ffe",
        "name": "Per la Private Key",
        "info": "# Procedura su Chrome\n - Estensione Metamask\n - Opzioni account (overflow menu icon)\n - Dettagli Account\n - Esporta Chiave Privata",
        "x": 890,
        "y": 1340,
        "wires": []
    },
    {
        "id": "27b5e17482c1f6b9",
        "type": "comment",
        "z": "8216168554436ffe",
        "name": "Per la Public Key",
        "info": "bash $ `npm i -g ethereum-private-key-to-public-key`\nbash $ `ethereum-private-key-to-public-key` _private-key_\n\n0406c16dffbd03799962604dac8056a0615fd0586c1a1df8c09c05bedd41acec25ab9756c6bc577d0804d4244ed08d86a5bd3fb83991fc67ca13c096a8b8f040e9",
        "x": 900,
        "y": 1300,
        "wires": []
    },
    {
        "id": "292cc204052b36f5",
        "type": "comment",
        "z": "8216168554436ffe",
        "name": "node-red-contrib-ethereum",
        "info": "[Github](https://github.com/timweing/node-red-contrib-ethereum)",
        "x": 150,
        "y": 800,
        "wires": []
    },
    {
        "id": "1d3d4b28d5965b79",
        "type": "comment",
        "z": "8216168554436ffe",
        "name": "New_PoE.sol",
        "info": "[Remix](https://remix.ethereum.org/)\n\n```solidity\n\n// SPDX-License-Identifier: GPL-3.0\npragma solidity >=0.7.0 <0.9.0;\n\n// On REMIX, use CRTL+SHIFT+S to Compile and Deploy (and Test)\n\n/**\n * @title Proof of Existence\n * @author 0x7efC9d38581c7Cb8372325c349Ec5095D027B3Dd\n * @dev Notarization of documents via Blockchain\n * @custom:dev-run-script ./scripts/deploy_with_web3(PoE).ts\n */\ncontract ProofOfExistence {\n\n    struct Proof {\n        address owner;\n        string tag;\n        uint timestamp;\n    }\n /// @dev The contract state\n    mapping (bytes32 => Proof) private proofs;\n\n    event Notarized(bytes32 hash, Proof proof);\n\n    // Helper functions //\n  \n    /// @dev Public helper function to get a document's SHA256 hash\n    function encode(string memory document) public pure returns (bytes32 hash) {\n        return sha256(abi.encode(document));\n    }\n\n    function currentTimestamp() public view returns (uint timestamp) {\n        return block.timestamp;\n    }\n\n    // Notarization functions //\n\n    /// @dev Calculate and store the proof for a document in the contract state\n    function notarize(bytes32 hash, string calldata tag) public returns (Proof memory) {\n        require(proofs[hash].timestamp == 0 , \"Document already notarized.\");\n        proofs[hash] = Proof(msg.sender, tag, currentTimestamp());\n        emit Notarized(hash, proofs[hash]);\n        return proofs[hash];\n    }\n\n    /// @dev Calculate and store the proof for a document in the contract state\n    function upload(string calldata document, string calldata tag) external {\n        notarize(encode(document), tag);\n    }\n\n    /// @dev Calculate and store the proof for a document in the contract state\n    function test(string calldata document, string calldata tag) external returns (Proof memory) {\n        return notarize(encode(document), tag); // return works only if called by contracts, not externally\n    }\n\n    // Verification functions //\n\n    /// @dev Check if a hash has been notarized\n    function verify(bytes32 hash) public view returns (bool) {\n        return proofs[hash].timestamp != 0;\n    }\n\n    /// @dev Check if a hash has been notarized\n    function check(string calldata document) external view returns (bool) {\n        return verify(encode(document));\n    }\n\n    /// @dev Get the notarized Proof\n    function getProof(bytes32 hash) external view returns (Proof memory) {\n        return proofs[hash];\n    }\n}\n\n```",
        "x": 910,
        "y": 1220,
        "wires": []
    },
    {
        "id": "75128402ba2a7b07",
        "type": "comment",
        "z": "8216168554436ffe",
        "name": "Lista Nodi RPC",
        "info": "# Sepolia\n**[Chainlist]https://chainlist.org/chain/11155111?testnets=true**\nhttps://ethereum-sepolia.publicnode.com\nwss://ethereum-sepolia.publicnode.com\nhttps://sepolia.gateway.tenderly.co\nwss://sepolia.gateway.tenderly.co\nhttps://rpc2.sepolia.org/ \n\n# Goerli\n**[Infura](https://infura.io/dashboard/ethereum/5335c51b15474082b174e255701d969f/settings)** (100000 richieste/giorno) (efbrtobrhrdauyhmib@nthrw.com)\nhttps://goerli.infura.io/v3/5335c51b15474082b174e255701d969f\n\n**[RPC Info](https://rpc.info/)** (public)\nhttps://goerli.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161\n\n**[Ankr](https://www.ankr.com/rpc/eth/eth_goerli/)** (public)\nhttps://rpc.ankr.com/eth_goerli\n\n**[Alchemy](https://dashboard.alchemy.com/usage)** (ybwyourptbrsevjdzn@nvhrw.com)\nhttps://eth-goerli.g.alchemy.com/v2/c_o7OYGYQFXHsLYv7GPlT_VAQQYaxQz2\n",
        "x": 900,
        "y": 1260,
        "wires": []
    },
    {
        "id": "5b9c0d0c6a8478e6",
        "type": "http request",
        "z": "8216168554436ffe",
        "name": "http://localhost:8080/verify?json=true",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://localhost:8080/verify?json",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 230,
        "y": 1440,
        "wires": [
            [
                "6189fdf174644bc6"
            ]
        ]
    },
    {
        "id": "6189fdf174644bc6",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "debug 1",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 405,
        "y": 1440,
        "wires": [],
        "l": false
    },
    {
        "id": "0d71a653697fb3d9",
        "type": "http request",
        "z": "8216168554436ffe",
        "name": "http://localhost:8080/notarize?info=abc",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://localhost:8080/notarize?info=abc",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 230,
        "y": 1560,
        "wires": [
            [
                "663337fc8f5ab09c"
            ]
        ]
    },
    {
        "id": "484846ef649911a3",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "debug 2",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 405,
        "y": 1500,
        "wires": [],
        "l": false
    },
    {
        "id": "ab37b2ad8c6de0b0",
        "type": "http request",
        "z": "8216168554436ffe",
        "name": "http://localhost:8080/verify",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://localhost:8080/verify/",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 190,
        "y": 1500,
        "wires": [
            [
                "484846ef649911a3"
            ]
        ]
    },
    {
        "id": "9d9474400a9c1010",
        "type": "inject",
        "z": "8216168554436ffe",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "test",
        "payloadType": "flow",
        "x": 55,
        "y": 1500,
        "wires": [
            [
                "ab37b2ad8c6de0b0"
            ]
        ],
        "l": false
    },
    {
        "id": "b9799ab63e8159bd",
        "type": "inject",
        "z": "8216168554436ffe",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "test",
        "payloadType": "flow",
        "x": 55,
        "y": 1440,
        "wires": [
            [
                "5b9c0d0c6a8478e6"
            ]
        ],
        "l": false
    },
    {
        "id": "54398da7521c6ffb",
        "type": "inject",
        "z": "8216168554436ffe",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "test",
        "payloadType": "flow",
        "x": 55,
        "y": 1560,
        "wires": [
            [
                "0d71a653697fb3d9"
            ]
        ],
        "l": false
    },
    {
        "id": "bd19ee09a329290f",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "$string(payload)",
        "statusType": "jsonata",
        "x": 390,
        "y": 1820,
        "wires": []
    },
    {
        "id": "138b5ceba3def3c3",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "info",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload.events.Notarized.returnValues[\"0\"]",
        "statusType": "msg",
        "x": 370,
        "y": 1740,
        "wires": []
    },
    {
        "id": "ea452a6549a7e3c8",
        "type": "contract-call",
        "z": "8216168554436ffe",
        "name": "certify",
        "smartContract": "3eb81d320b6c1fa6",
        "contractFunction": "certify",
        "senderAccount": "21db029aa1b5a1dd",
        "readonlyFunction": false,
        "weiTransfer": "",
        "onlyEstimateGas": false,
        "useEstimatedGasLimit": true,
        "gasLimit": "46591",
        "usePreviousBlocksGasPrice": true,
        "gasPrice": "46591",
        "fetchFullTransaction": false,
        "x": 250,
        "y": 1700,
        "wires": [
            [
                "16ba455d0e46b35b"
            ],
            [
                "138b5ceba3def3c3"
            ]
        ]
    },
    {
        "id": "86a2ddf3b55f105c",
        "type": "contract-call",
        "z": "8216168554436ffe",
        "name": "check",
        "smartContract": "4644998d391d3c5b",
        "contractFunction": "check",
        "senderAccount": "21db029aa1b5a1dd",
        "readonlyFunction": true,
        "weiTransfer": "",
        "onlyEstimateGas": false,
        "useEstimatedGasLimit": true,
        "gasLimit": "",
        "usePreviousBlocksGasPrice": true,
        "gasPrice": "",
        "fetchFullTransaction": false,
        "x": 250,
        "y": 1780,
        "wires": [
            [],
            [
                "bd19ee09a329290f"
            ]
        ]
    },
    {
        "id": "bd5f08d5f7f1499a",
        "type": "inject",
        "z": "8216168554436ffe",
        "name": "[ flow.test, \"\" ]",
        "props": [
            {
                "p": "topic",
                "v": "test",
                "vt": "flow"
            },
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "[$string(topic), \"\"]",
        "payloadType": "jsonata",
        "x": 110,
        "y": 1700,
        "wires": [
            [
                "ea452a6549a7e3c8"
            ]
        ]
    },
    {
        "id": "f36d0d419dd5a855",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "$string(payload)",
        "statusType": "jsonata",
        "x": 910,
        "y": 1820,
        "wires": []
    },
    {
        "id": "dd556c62dc290f59",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "info",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload.events.Notarized.returnValues[\"0\"]",
        "statusType": "msg",
        "x": 890,
        "y": 1740,
        "wires": []
    },
    {
        "id": "3054db3d98309b95",
        "type": "contract-call",
        "z": "8216168554436ffe",
        "name": "certify",
        "smartContract": "3eb81d320b6c1fa6",
        "contractFunction": "certify",
        "senderAccount": "c936756ac0243b92",
        "readonlyFunction": false,
        "weiTransfer": "",
        "onlyEstimateGas": false,
        "useEstimatedGasLimit": true,
        "gasLimit": "46591",
        "usePreviousBlocksGasPrice": true,
        "gasPrice": "46591",
        "fetchFullTransaction": false,
        "x": 770,
        "y": 1700,
        "wires": [
            [
                "9f93a847835411a5"
            ],
            [
                "dd556c62dc290f59"
            ]
        ]
    },
    {
        "id": "8067826516e6358e",
        "type": "contract-call",
        "z": "8216168554436ffe",
        "name": "check",
        "smartContract": "3eb81d320b6c1fa6",
        "contractFunction": "check",
        "senderAccount": "c936756ac0243b92",
        "readonlyFunction": true,
        "weiTransfer": "",
        "onlyEstimateGas": false,
        "useEstimatedGasLimit": true,
        "gasLimit": "",
        "usePreviousBlocksGasPrice": true,
        "gasPrice": "",
        "fetchFullTransaction": false,
        "x": 770,
        "y": 1780,
        "wires": [
            [],
            [
                "f36d0d419dd5a855"
            ]
        ]
    },
    {
        "id": "0a8471d0cf7ca7b2",
        "type": "inject",
        "z": "8216168554436ffe",
        "name": "flow.test",
        "props": [
            {
                "p": "topic",
                "v": "test",
                "vt": "flow"
            },
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "$string(topic)",
        "payloadType": "jsonata",
        "x": 100,
        "y": 1780,
        "wires": [
            [
                "86a2ddf3b55f105c"
            ]
        ]
    },
    {
        "id": "16ba455d0e46b35b",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "tx",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 370,
        "y": 1660,
        "wires": []
    },
    {
        "id": "9f93a847835411a5",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "tx",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 890,
        "y": 1660,
        "wires": []
    },
    {
        "id": "f84b4e97d83b397c",
        "type": "http request",
        "z": "8216168554436ffe",
        "name": "http://localhost:3000/prove",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://localhost:3000/prove",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 320,
        "y": 1920,
        "wires": [
            [
                "1bda94448c3c790f"
            ]
        ]
    },
    {
        "id": "9c29f3ec49666bbe",
        "type": "http request",
        "z": "8216168554436ffe",
        "name": "http://localhost:3000/register",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://localhost:3000/register",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 320,
        "y": 1980,
        "wires": [
            [
                "e287179553ac0cbf"
            ]
        ]
    },
    {
        "id": "5677abfb0125a6ba",
        "type": "inject",
        "z": "8216168554436ffe",
        "name": "flow.test",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "$string(msg.payload)\t",
        "payloadType": "jsonata",
        "x": 100,
        "y": 1920,
        "wires": [
            [
                "f84b4e97d83b397c"
            ]
        ]
    },
    {
        "id": "1bda94448c3c790f",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 630,
        "y": 1920,
        "wires": []
    },
    {
        "id": "7a4b926a7f4f8f19",
        "type": "inject",
        "z": "8216168554436ffe",
        "name": "flow.test",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "$string(msg.payload)\t",
        "payloadType": "jsonata",
        "x": 100,
        "y": 1980,
        "wires": [
            [
                "9c29f3ec49666bbe"
            ]
        ]
    },
    {
        "id": "e287179553ac0cbf",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 630,
        "y": 1980,
        "wires": []
    },
    {
        "id": "5d982b5f98e50976",
        "type": "comment",
        "z": "8216168554436ffe",
        "name": "Sepolia",
        "info": "",
        "x": 610,
        "y": 1660,
        "wires": []
    },
    {
        "id": "0b582596e0e024c6",
        "type": "comment",
        "z": "8216168554436ffe",
        "name": "Replit",
        "info": "",
        "x": 90,
        "y": 1660,
        "wires": []
    },
    {
        "id": "47bda9953444f4ad",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "tx hash",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "payload.transactionHash",
        "statusType": "msg",
        "x": 920,
        "y": 20,
        "wires": []
    },
    {
        "id": "30c099a218ae1f68",
        "type": "inject",
        "z": "8216168554436ffe",
        "name": "[post] /verify",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "test",
        "payloadType": "flow",
        "x": 110,
        "y": 440,
        "wires": [
            [
                "c9b0df2ea77004cf"
            ]
        ]
    },
    {
        "id": "6432a4e66a1422c2",
        "type": "inject",
        "z": "8216168554436ffe",
        "name": "create",
        "props": [
            {
                "p": "topic",
                "v": "",
                "vt": "date"
            },
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\t    \"sender\": \"0x7efC9d38581c7Cb8372325c349Ec5095D027B3Dd\",\t    \"storedValue\": $random(),\t    \"timestamp\": topic\t}",
        "payloadType": "jsonata",
        "x": 55,
        "y": 20,
        "wires": [
            [
                "58329c5f11c23aa4",
                "58e96070d2c8fda3"
            ]
        ],
        "l": false
    },
    {
        "id": "58329c5f11c23aa4",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "storedValue",
        "active": true,
        "tosidebar": false,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "payload.storedValue",
        "statusType": "msg",
        "x": 150,
        "y": 20,
        "wires": []
    },
    {
        "id": "8b794c20744f1eca",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "block hash",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "payload.blockHash",
        "statusType": "msg",
        "x": 910,
        "y": 200,
        "wires": []
    },
    {
        "id": "b63fda5cd04e4875",
        "type": "change",
        "z": "8216168554436ffe",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "transaction",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 730,
        "y": 20,
        "wires": [
            [
                "47bda9953444f4ad"
            ]
        ]
    },
    {
        "id": "04506c3ff4939fbd",
        "type": "inject",
        "z": "8216168554436ffe",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "transaction",
        "payloadType": "flow",
        "x": 120,
        "y": 140,
        "wires": [
            [
                "607725670e64cefb"
            ]
        ]
    },
    {
        "id": "76fd2912ea822772",
        "type": "catch",
        "z": "8216168554436ffe",
        "name": "",
        "scope": [
            "1e6446c3151b08e9",
            "539f960574b972b7",
            "406af7277dc66283",
            "82fb6c1bb398a281",
            "7d86fde5a0cbb3cb",
            "bed66d3fee15623f",
            "6301982d6ec183d6",
            "c9b0df2ea77004cf",
            "9457823c1a1edc5f",
            "8d7dcf6332b33613",
            "7f98f7da72bd6f24",
            "f78365176ec9ed8a",
            "4d22f6835a24e79f",
            "e5887009f7d7145e",
            "e8ab9670b9d7d7fd"
        ],
        "uncaught": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "765539b56d2aa638",
                "068fe2de184ed84b"
            ]
        ]
    },
    {
        "id": "1e6446c3151b08e9",
        "type": "contract-call",
        "z": "8216168554436ffe",
        "name": "notarize",
        "smartContract": "a4b3ff3023c6a717",
        "contractFunction": "notarize",
        "senderAccount": "4309ab3d92258a66",
        "readonlyFunction": false,
        "weiTransfer": "",
        "onlyEstimateGas": false,
        "useEstimatedGasLimit": true,
        "gasLimit": "46591",
        "usePreviousBlocksGasPrice": true,
        "gasPrice": "46591",
        "fetchFullTransaction": false,
        "x": 480,
        "y": 200,
        "wires": [
            [
                "b63fda5cd04e4875"
            ],
            [
                "56d04839137c5bc2",
                "8b794c20744f1eca",
                "e02323db9b31d7c1",
                "85be153be4d93541",
                "103a25091bfeaeb8"
            ]
        ]
    },
    {
        "id": "da8d7f3d293ad405",
        "type": "function",
        "z": "8216168554436ffe",
        "d": true,
        "name": "set flow.transaction",
        "func": "if (!msg.error) {\n    node.status({ fill: \"green\", shape: \"dot\", \"text\": msg.payload });\n    flow.set(\"transaction\", msg.payload);\n    msg.payload = \"https://goerli.etherscan.io/tx/\" + msg.payload;\n    return msg;\n}\nnode.status({ fill: \"red\", shape: \"dot\", \"text\": msg.error });\n//node.warn(msg.error);\nnode.error(msg.error, msg);\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 730,
        "y": 1820,
        "wires": [
            []
        ]
    },
    {
        "id": "e8c1b9d30c882af2",
        "type": "comment",
        "z": "8216168554436ffe",
        "g": "fde0a01bd296f290",
        "name": "PoE v5",
        "info": "[Remix](https://remix.ethereum.org/)\n\n```solidity\n\n// SPDX-License-Identifier: GPL-3.0\npragma solidity >=0.7.0 <0.9.0;\n\n// On REMIX, use CRTL+SHIFT+S to run @custom:dev-run-script\n/**\n * @title Proof of Existence\n * @author 0x7efC9d38581c7Cb8372325c349Ec5095D027B3Dd\n * @dev Notarization of documents into the Blockchain through the hash of their content.\n * @custom:dev-run-script ./scripts/send_to_replit_(PoE).ts\n */\ncontract ProofOfExistence {\n\n    struct Proof {\n        string description; // unencrypted metadata\n        address provider;  // the sender's address\n        uint timestamp;   // notarization instant\n    }\n\n    /// @dev The contract state\n    mapping (bytes32 => Proof) private proofs;\n\n    event Notarized(bytes32, Proof);\n\n      // ================= //\n     // Utility functions //\n    // ================= //\n\n    /// @dev Calculate the document proof as the SHA-3 hash of its content\n    function createProofHash(string memory document) public pure returns (bytes32 hash) {\n        // hash = sha256(abi.encode(document)); // SHA-2\n        // abi.encodePacked will be deprecated in Solidity v0.9.0 -> Replace with abi.encode, or simple cast:\n        hash = keccak256(bytes(document));\n        // return hash;\n    }\n\n    /// @dev Get the document proof data associated to a notarized hash, if any\n    function getProof(bytes32 hash) external view returns (Proof memory proof) {\n        proof = proofs[hash];\n        // return proof;\n    }\n\n      // ====================== //\n     // Notarization functions //\n    // ====================== //\n\n    /// @dev Calculate and notarize the proof of a document\n    function certify(string calldata document, string calldata desc) external returns (bytes32 hash, Proof memory proof) {\n        hash = createProofHash(document);\n        proof = notarize(hash, desc);\n        // return (hash, proof);\n    }\n\n    /// @dev Store the proof of a dacument in the contract state\n    function notarize(bytes32 hash, string calldata description) public returns (Proof memory proof) {\n        require(proofs[hash].timestamp == 0 , \"Proof already notarized.\");\n        proof = Proof(description, msg.sender, block.timestamp);\n        proofs[hash] = proof;\n        emit Notarized(hash, proof);\n        // return proof;\n    }\n\n      // ====================== //\n     // Verification functions //\n    // ====================== //\n\n    /// @dev Calculate and verify if the proof of a document has been notarized\n    function check(string calldata document) external view returns (bool result) {\n        result = verify(createProofHash(document));\n        // return result;\n    }\n\n    /// @dev Verify if a hash has been notarized as proof of a document\n    function verify(bytes32 hash) public view returns (bool result) {\n        result = proofs[hash].timestamp != 0;\n        // return result;\n    }\n}\n\n```",
        "x": 730,
        "y": 80,
        "wires": []
    },
    {
        "id": "87f6f9a58b4fdbc4",
        "type": "comment",
        "z": "8216168554436ffe",
        "g": "fde0a01bd296f290",
        "name": "PoE v6",
        "info": "[Remix](https://remix.ethereum.org/)\n\n# Address\n0x37F61FAE3Dc0Ca2F6a518bB92b49D74734add547\n\n# Bytecode\n608060405234801561001057600080fd5b506112ab806100206000396000f3fe608060405234801561001057600080fd5b50600436106100885760003560e01c8063a6906e471161005b578063a6906e471461014f578063b6f921ad1461017f578063d0077945146101af578063e8f9d7ff146101df57610088565b80630b4f3f3d1461008d5780631b80bb3a146100be5780637044c63c146100ee57806375e366161461011f575b600080fd5b6100a760048036038101906100a29190610849565b61020f565b6040516100b59291906108c8565b60405180910390f35b6100d860048036038101906100d3919061091d565b610273565b6040516100e59190610a7a565b60405180910390f35b61010860048036038101906101039190610a9c565b610391565b604051610116929190610b1d565b60405180910390f35b6101396004803603810190610134919061091d565b610400565b6040516101469190610b68565b60405180910390f35b6101696004803603810190610164919061091d565b610422565b6040516101769190610b83565b60405180910390f35b61019960048036038101906101949190610849565b61058f565b6040516101a69190610b68565b60405180910390f35b6101c960048036038101906101c49190610b9e565b6105ee565b6040516101d69190610a7a565b60405180910390f35b6101f960048036038101906101f49190610d2e565b610788565b6040516102069190610d77565b60405180910390f35b60008061025f84848080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f82011690508083019250505050505050610788565b915061026a82610422565b90509250929050565b61027b610799565b6000808381526020019081526020016000206040518060600160405290816000820180546102a890610dc1565b80601f01602080910402602001604051908101604052809291908181526020018280546102d490610dc1565b80156103215780601f106102f657610100808354040283529160200191610321565b820191906000526020600020905b81548152906001019060200180831161030457829003601f168201915b505050505081526020016001820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020016002820154815250509050919050565b600061039b610799565b6103e886868080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f82011690508083019250505050505050610788565b91506103f58285856105ee565b905094509492505050565b6000806000808481526020019081526020016000206002015414159050919050565b600080600080848152602001908152602001600020600201540361047b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161047290610e4f565b60405180910390fd5b60008083815260200190815260200160002060010160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161461051e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161051590610ee1565b60405180910390fd5b6000808381526020019081526020016000206002015490506000806000848152602001908152602001600020600201819055507f596281c2b907a3d7852bd3eb382e46737fc30d0cc621b824ef88d3e427253bb282826040516105829291906108c8565b60405180910390a1919050565b60006105e66105e184848080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f82011690508083019250505050505050610788565b610400565b905092915050565b6105f6610799565b6000806000868152602001908152602001600020600201541461064e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161064590610f4d565b60405180910390fd5b604051806060016040528084848080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f8201169050808301925050505050505081526020013373ffffffffffffffffffffffffffffffffffffffff1681526020014281525090508060008086815260200190815260200160002060008201518160000190816106ed9190611119565b5060208201518160010160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550604082015181600201559050507f10034ccfa09b799b8501a7e115aa43d51199a2bfb5b306f530dc27e3782cce5b8484843342604051610779959493929190611227565b60405180910390a19392505050565b600081805190602001209050919050565b604051806060016040528060608152602001600073ffffffffffffffffffffffffffffffffffffffff168152602001600081525090565b6000604051905090565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610809576108086107e4565b5b8235905067ffffffffffffffff811115610826576108256107e9565b5b602083019150836001820283011115610842576108416107ee565b5b9250929050565b600080602083850312156108605761085f6107da565b5b600083013567ffffffffffffffff81111561087e5761087d6107df565b5b61088a858286016107f3565b92509250509250929050565b6000819050919050565b6108a981610896565b82525050565b6000819050919050565b6108c2816108af565b82525050565b60006040820190506108dd60008301856108a0565b6108ea60208301846108b9565b9392505050565b6108fa81610896565b811461090557600080fd5b50565b600081359050610917816108f1565b92915050565b600060208284031215610933576109326107da565b5b600061094184828501610908565b91505092915050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610984578082015181840152602081019050610969565b60008484015250505050565b6000601f19601f8301169050919050565b60006109ac8261094a565b6109b68185610955565b93506109c6818560208601610966565b6109cf81610990565b840191505092915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000610a05826109da565b9050919050565b610a15816109fa565b82525050565b610a24816108af565b82525050565b60006060830160008301518482036000860152610a4782826109a1565b9150506020830151610a5c6020860182610a0c565b506040830151610a6f6040860182610a1b565b508091505092915050565b60006020820190508181036000830152610a948184610a2a565b905092915050565b60008060008060408587031215610ab657610ab56107da565b5b600085013567ffffffffffffffff811115610ad457610ad36107df565b5b610ae0878288016107f3565b9450945050602085013567ffffffffffffffff811115610b0357610b026107df565b5b610b0f878288016107f3565b925092505092959194509250565b6000604082019050610b3260008301856108a0565b8181036020830152610b448184610a2a565b90509392505050565b60008115159050919050565b610b6281610b4d565b82525050565b6000602082019050610b7d6000830184610b59565b92915050565b6000602082019050610b9860008301846108b9565b92915050565b600080600060408486031215610bb757610bb66107da565b5b6000610bc586828701610908565b935050602084013567ffffffffffffffff811115610be657610be56107df565b5b610bf2868287016107f3565b92509250509250925092565b600080fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b610c3b82610990565b810181811067ffffffffffffffff82111715610c5a57610c59610c03565b5b80604052505050565b6000610c6d6107d0565b9050610c798282610c32565b919050565b600067ffffffffffffffff821115610c9957610c98610c03565b5b610ca282610990565b9050602081019050919050565b82818337600083830152505050565b6000610cd1610ccc84610c7e565b610c63565b905082815260208101848484011115610ced57610cec610bfe565b5b610cf8848285610caf565b509392505050565b600082601f830112610d1557610d146107e4565b5b8135610d25848260208601610cbe565b91505092915050565b600060208284031215610d4457610d436107da565b5b600082013567ffffffffffffffff811115610d6257610d616107df565b5b610d6e84828501610d00565b91505092915050565b6000602082019050610d8c60008301846108a0565b92915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680610dd957607f821691505b602082108103610dec57610deb610d92565b5b50919050565b600082825260208201905092915050565b7f50726f6f66206e6f74206e6f746172697a65642e000000000000000000000000600082015250565b6000610e39601483610df2565b9150610e4482610e03565b602082019050919050565b60006020820190508181036000830152610e6881610e2c565b9050919050565b7f4f6e6c79207468652070726f76696465722063616e206e756c6c69667920746860008201527f652070726f6f662e000000000000000000000000000000000000000000000000602082015250565b6000610ecb602883610df2565b9150610ed682610e6f565b604082019050919050565b60006020820190508181036000830152610efa81610ebe565b9050919050565b7f50726f6f6620616c7265616479206e6f746172697a65642e0000000000000000600082015250565b6000610f37601883610df2565b9150610f4282610f01565b602082019050919050565b60006020820190508181036000830152610f6681610f2a565b9050919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b600060088302610fcf7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82610f92565b610fd98683610f92565b95508019841693508086168417925050509392505050565b6000819050919050565b600061101661101161100c846108af565b610ff1565b6108af565b9050919050565b6000819050919050565b61103083610ffb565b61104461103c8261101d565b848454610f9f565b825550505050565b600090565b61105961104c565b611064818484611027565b505050565b5b818110156110885761107d600082611051565b60018101905061106a565b5050565b601f8211156110cd5761109e81610f6d565b6110a784610f82565b810160208510156110b6578190505b6110ca6110c285610f82565b830182611069565b50505b505050565b600082821c905092915050565b60006110f0600019846008026110d2565b1980831691505092915050565b600061110983836110df565b9150826002028217905092915050565b6111228261094a565b67ffffffffffffffff81111561113b5761113a610c03565b5b6111458254610dc1565b61115082828561108c565b600060209050601f8311600181146111835760008415611171578287015190505b61117b85826110fd565b8655506111e3565b601f19841661119186610f6d565b60005b828110156111b957848901518255600182019150602085019450602081019050611194565b868310156111d657848901516111d2601f8916826110df565b8355505b6001600288020188555050505b505050505050565b60006111f78385610df2565b9350611204838584610caf565b61120d83610990565b840190509392505050565b611221816109fa565b82525050565b600060808201905061123c60008301886108a0565b818103602083015261124f8186886111eb565b905061125e6040830185611218565b61126b60608301846108b9565b969550505050505056fea2646970667358221220d980777a918db99ea8416a61b975960a8c593a53e59ab7c686c7b81a0f9c95af64736f6c63430008120033\n\n# ABI\n```json\n[\n    {\n        \"anonymous\": false,\n        \"inputs\": [\n            {\n                \"indexed\": false,\n                \"internalType\": \"bytes32\",\n                \"name\": \"\",\n                \"type\": \"bytes32\"\n            },\n            {\n                \"indexed\": false,\n                \"internalType\": \"string\",\n                \"name\": \"\",\n                \"type\": \"string\"\n            },\n            {\n                \"indexed\": false,\n                \"internalType\": \"address\",\n                \"name\": \"\",\n                \"type\": \"address\"\n            },\n            {\n                \"indexed\": false,\n                \"internalType\": \"uint256\",\n                \"name\": \"\",\n                \"type\": \"uint256\"\n            }\n        ],\n        \"name\": \"Notarized\",\n        \"type\": \"event\"\n    },\n    {\n        \"anonymous\": false,\n        \"inputs\": [\n            {\n                \"indexed\": false,\n                \"internalType\": \"bytes32\",\n                \"name\": \"\",\n                \"type\": \"bytes32\"\n            },\n            {\n                \"indexed\": false,\n                \"internalType\": \"uint256\",\n                \"name\": \"\",\n                \"type\": \"uint256\"\n            }\n        ],\n        \"name\": \"Nullified\",\n        \"type\": \"event\"\n    },\n    {\n        \"inputs\": [\n            {\n                \"internalType\": \"string\",\n                \"name\": \"document\",\n                \"type\": \"string\"\n            }\n        ],\n        \"name\": \"cancel\",\n        \"outputs\": [\n            {\n                \"internalType\": \"bytes32\",\n                \"name\": \"hash\",\n                \"type\": \"bytes32\"\n            },\n            {\n                \"internalType\": \"uint256\",\n                \"name\": \"timestamp\",\n                \"type\": \"uint256\"\n            }\n        ],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n    },\n    {\n        \"inputs\": [\n            {\n                \"internalType\": \"string\",\n                \"name\": \"document\",\n                \"type\": \"string\"\n            },\n            {\n                \"internalType\": \"string\",\n                \"name\": \"info\",\n                \"type\": \"string\"\n            }\n        ],\n        \"name\": \"certify\",\n        \"outputs\": [\n            {\n                \"internalType\": \"bytes32\",\n                \"name\": \"hash\",\n                \"type\": \"bytes32\"\n            },\n            {\n                \"components\": [\n                    {\n                        \"internalType\": \"string\",\n                        \"name\": \"information\",\n                        \"type\": \"string\"\n                    },\n                    {\n                        \"internalType\": \"address\",\n                        \"name\": \"provider\",\n                        \"type\": \"address\"\n                    },\n                    {\n                        \"internalType\": \"uint256\",\n                        \"name\": \"timestamp\",\n                        \"type\": \"uint256\"\n                    }\n                ],\n                \"internalType\": \"struct ProofOfExistence.Proof\",\n                \"name\": \"proof\",\n                \"type\": \"tuple\"\n            }\n        ],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n    },\n    {\n        \"inputs\": [\n            {\n                \"internalType\": \"string\",\n                \"name\": \"document\",\n                \"type\": \"string\"\n            }\n        ],\n        \"name\": \"check\",\n        \"outputs\": [\n            {\n                \"internalType\": \"bool\",\n                \"name\": \"result\",\n                \"type\": \"bool\"\n            }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n    },\n    {\n        \"inputs\": [\n            {\n                \"internalType\": \"string\",\n                \"name\": \"document\",\n                \"type\": \"string\"\n            }\n        ],\n        \"name\": \"digest\",\n        \"outputs\": [\n            {\n                \"internalType\": \"bytes32\",\n                \"name\": \"hash\",\n                \"type\": \"bytes32\"\n            }\n        ],\n        \"stateMutability\": \"pure\",\n        \"type\": \"function\"\n    },\n    {\n        \"inputs\": [\n            {\n                \"internalType\": \"bytes32\",\n                \"name\": \"hash\",\n                \"type\": \"bytes32\"\n            }\n        ],\n        \"name\": \"getProof\",\n        \"outputs\": [\n            {\n                \"components\": [\n                    {\n                        \"internalType\": \"string\",\n                        \"name\": \"information\",\n                        \"type\": \"string\"\n                    },\n                    {\n                        \"internalType\": \"address\",\n                        \"name\": \"provider\",\n                        \"type\": \"address\"\n                    },\n                    {\n                        \"internalType\": \"uint256\",\n                        \"name\": \"timestamp\",\n                        \"type\": \"uint256\"\n                    }\n                ],\n                \"internalType\": \"struct ProofOfExistence.Proof\",\n                \"name\": \"proof\",\n                \"type\": \"tuple\"\n            }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n    },\n    {\n        \"inputs\": [\n            {\n                \"internalType\": \"bytes32\",\n                \"name\": \"hash\",\n                \"type\": \"bytes32\"\n            },\n            {\n                \"internalType\": \"string\",\n                \"name\": \"info\",\n                \"type\": \"string\"\n            }\n        ],\n        \"name\": \"notarize\",\n        \"outputs\": [\n            {\n                \"components\": [\n                    {\n                        \"internalType\": \"string\",\n                        \"name\": \"information\",\n                        \"type\": \"string\"\n                    },\n                    {\n                        \"internalType\": \"address\",\n                        \"name\": \"provider\",\n                        \"type\": \"address\"\n                    },\n                    {\n                        \"internalType\": \"uint256\",\n                        \"name\": \"timestamp\",\n                        \"type\": \"uint256\"\n                    }\n                ],\n                \"internalType\": \"struct ProofOfExistence.Proof\",\n                \"name\": \"proof\",\n                \"type\": \"tuple\"\n            }\n        ],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n    },\n    {\n        \"inputs\": [\n            {\n                \"internalType\": \"bytes32\",\n                \"name\": \"hash\",\n                \"type\": \"bytes32\"\n            }\n        ],\n        \"name\": \"nullify\",\n        \"outputs\": [\n            {\n                \"internalType\": \"uint256\",\n                \"name\": \"timestamp\",\n                \"type\": \"uint256\"\n            }\n        ],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n    },\n    {\n        \"inputs\": [\n            {\n                \"internalType\": \"bytes32\",\n                \"name\": \"hash\",\n                \"type\": \"bytes32\"\n            }\n        ],\n        \"name\": \"verify\",\n        \"outputs\": [\n            {\n                \"internalType\": \"bool\",\n                \"name\": \"result\",\n                \"type\": \"bool\"\n            }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n    }\n]\n```\n\n# Code\n```solidity\n// SPDX-License-Identifier: GPL-3.0\npragma solidity >=0.7.0 <0.9.0;\n\n// On REMIX, use CRTL+SHIFT+S to run @custom:dev-run-script\n/**\n * @title Proof of Existence\n * @author 0x7efC9d38581c7Cb8372325c349Ec5095D027B3Dd\n * @dev Notarization of documents into the Blockchain through the hash of their content, with nullification support.\n * @custom:dev-run-script ./scripts/send_to_replit_(PoE).ts\n */\ncontract ProofOfExistence {\n\n    struct Proof {\n        string information; // unencrypted metadata\n        address provider;  // the sender's address\n        uint timestamp;   // notarization instant\n    }\n\n    /// @dev The contract state\n    mapping (bytes32 => Proof) private proofs;\n\n    event Notarized(bytes32, string, address, uint);\n    event Nullified(bytes32, uint);\n\n//  modifier onlyProvider(bytes32 hash) {\n//      require(\n//          msg.sender == proofs[hash].provider,\n//          \"Only the proof provider is allowed to access this function.\"\n//      );\n//      _;\n//  }\n\n      // ================= //\n     // Utility functions //\n    // ================= //\n\n    /// @dev Calculate the document proof as the SHA-3 hash of its content\n    function digest(string memory document) public pure returns (bytes32 hash) {\n        // hash = sha256(abi.encode(document)); // SHA-2\n        // abi.encodePacked will be deprecated in Solidity v0.9.0 -> Replace with abi.encode, or simple cast:\n        hash = keccak256(bytes(document));\n        // return hash;\n    }\n\n\n    /// @dev Get the document proof data associated to a notarized hash, if any\n    function getProof(bytes32 hash) external view returns (Proof memory proof) {\n        proof = proofs[hash];\n        // return proof;\n    }\n    \n      // ====================== //\n     // Notarization functions //\n    // ====================== //\n\n    /// @dev Calculate and notarize the proof of a document\n    function certify(string calldata document, string calldata info) external returns (bytes32 hash, Proof memory proof) {\n        hash = digest(document);\n        proof = notarize(hash, info);\n        // return (hash, proof);\n    }\n\n    /// @dev Store the proof of a document in the contract state\n    function notarize(bytes32 hash, string calldata info) public returns (Proof memory proof) {\n        require(proofs[hash].timestamp == 0 , \"Proof already notarized.\");\n        proof = Proof(info, msg.sender, block.timestamp);\n        proofs[hash] = proof;\n        emit Notarized(hash, info,  msg.sender, block.timestamp);\n        // return proof;\n    }\n      // ======================= //\n     // Nullification functions //\n    // ======================= //\n\n    /// @dev Calculate and nullify the proof of a document, returning the original notarization hash and timestamp\n    function cancel(string calldata document) external returns (bytes32 hash, uint timestamp) {\n        hash = digest(document);\n        timestamp = nullify(hash);\n        // return (hash, proof);\n    }\n\n    /// @dev Destroy the proof of a document in the contract state, returning the original notarization timestamp\n    function nullify(bytes32 hash) public returns (uint timestamp) {\n        require(proofs[hash].timestamp != 0 , \"Proof not notarized.\");\n        require(msg.sender == proofs[hash].provider, \"Only the provider can nullify the proof.\");\n        timestamp = proofs[hash].timestamp;\n        // delete proofs[hash];\n        proofs[hash].timestamp = 0; // optimises gas execution cost \n        emit Nullified(hash, timestamp);\n        // return proof;\n    }\n\n      // ====================== //\n     // Verification functions //\n    // ====================== //\n\n    /// @dev Calculate and verify if the proof of a document has been notarized\n    function check(string calldata document) external view returns (bool result) {\n        result = verify(digest(document));\n        // return result;\n    }\n\n    /// @dev Find out if a hash has been notarized as proof of a document\n    function verify(bytes32 hash) public view returns (bool result) {\n        result = proofs[hash].timestamp != 0;\n        // return result;\n    }\n}\n\n```",
        "x": 730,
        "y": 80,
        "wires": []
    },
    {
        "id": "e4dda8d7bd430968",
        "type": "http in",
        "z": "8216168554436ffe",
        "name": "",
        "url": "/verify",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 110,
        "y": 440,
        "wires": [
            [
                "c9b0df2ea77004cf"
            ]
        ]
    },
    {
        "id": "399e356c37aa1671",
        "type": "change",
        "z": "8216168554436ffe",
        "name": "push info",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "[payload, req.query.info? req.query.info: \"\"]",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 480,
        "y": 260,
        "wires": [
            [
                "1e6446c3151b08e9"
            ]
        ]
    },
    {
        "id": "539f960574b972b7",
        "type": "function",
        "z": "8216168554436ffe",
        "name": "digest",
        "func": "// return buffer\nmsg.payload = keccak256(JSON.stringify(msg.payload));\n\n// return string\nvar hash = \"0x\" + msg.payload.toString('hex')\n\nnode.status({ fill:\"blue\", shape:\"ring\", text:hash });\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "keccak256",
                "module": "keccak256"
            }
        ],
        "x": 290,
        "y": 260,
        "wires": [
            [
                "399e356c37aa1671"
            ]
        ]
    },
    {
        "id": "881f40ea045ff488",
        "type": "inject",
        "z": "8216168554436ffe",
        "name": "[post] /notarize",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "test",
        "payloadType": "flow",
        "x": 120,
        "y": 260,
        "wires": [
            [
                "539f960574b972b7"
            ]
        ]
    },
    {
        "id": "097066d920516f28",
        "type": "http in",
        "z": "8216168554436ffe",
        "name": "",
        "url": "/notarize",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 120,
        "y": 260,
        "wires": [
            [
                "539f960574b972b7"
            ]
        ]
    },
    {
        "id": "765539b56d2aa638",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "set msg.payload",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 260,
        "y": 80,
        "wires": []
    },
    {
        "id": "8500551254e1e9b5",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "response",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "msg",
        "x": 920,
        "y": 380,
        "wires": []
    },
    {
        "id": "0ecb2935670eedb0",
        "type": "http response",
        "z": "8216168554436ffe",
        "name": "",
        "statusCode": "200",
        "headers": {},
        "x": 920,
        "y": 380,
        "wires": []
    },
    {
        "id": "58e96070d2c8fda3",
        "type": "change",
        "z": "8216168554436ffe",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "test",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 150,
        "y": 20,
        "wires": [
            [
                "7d86fde5a0cbb3cb"
            ]
        ]
    },
    {
        "id": "c8c314b4e1993b38",
        "type": "switch",
        "z": "8216168554436ffe",
        "name": "json?",
        "property": "req.headers.accept",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "application/json",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 490,
        "y": 380,
        "wires": [
            [
                "406af7277dc66283"
            ],
            [
                "9457823c1a1edc5f"
            ]
        ]
    },
    {
        "id": "406af7277dc66283",
        "type": "contract-call",
        "z": "8216168554436ffe",
        "name": "getProof",
        "smartContract": "a4b3ff3023c6a717",
        "contractFunction": "getProof",
        "senderAccount": "4309ab3d92258a66",
        "readonlyFunction": true,
        "weiTransfer": "",
        "onlyEstimateGas": false,
        "useEstimatedGasLimit": true,
        "gasLimit": "",
        "usePreviousBlocksGasPrice": true,
        "gasPrice": "",
        "fetchFullTransaction": false,
        "x": 480,
        "y": 320,
        "wires": [
            [],
            [
                "7ac6c391ab875526",
                "caf4fa5bb3937840"
            ]
        ]
    },
    {
        "id": "56d04839137c5bc2",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "tx hash",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "summary.txHash",
        "statusType": "msg",
        "x": 920,
        "y": 80,
        "wires": []
    },
    {
        "id": "068fe2de184ed84b",
        "type": "change",
        "z": "8216168554436ffe",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "error.message",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 260,
        "y": 80,
        "wires": [
            [
                "99bc165aa8865aa1",
                "2daf0cc398b89afd"
            ]
        ]
    },
    {
        "id": "2daf0cc398b89afd",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "response",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "msg",
        "x": 480,
        "y": 80,
        "wires": []
    },
    {
        "id": "99bc165aa8865aa1",
        "type": "http response",
        "z": "8216168554436ffe",
        "name": "",
        "statusCode": "400",
        "headers": {},
        "x": 480,
        "y": 80,
        "wires": []
    },
    {
        "id": "1a0a8fc99f28b7e6",
        "type": "inject",
        "z": "8216168554436ffe",
        "name": "[get] /proof/:hash",
        "props": [
            {
                "p": "req.params.hash",
                "v": "hash",
                "vt": "flow"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 120,
        "y": 320,
        "wires": [
            [
                "bed66d3fee15623f"
            ]
        ]
    },
    {
        "id": "d114bd98a97b4b27",
        "type": "http in",
        "z": "8216168554436ffe",
        "name": "",
        "url": "/proof/:hash",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 120,
        "y": 320,
        "wires": [
            [
                "bed66d3fee15623f"
            ]
        ]
    },
    {
        "id": "82fb6c1bb398a281",
        "type": "contract-call",
        "z": "8216168554436ffe",
        "name": "nullify",
        "smartContract": "a4b3ff3023c6a717",
        "contractFunction": "nullify",
        "senderAccount": "4309ab3d92258a66",
        "readonlyFunction": false,
        "weiTransfer": "",
        "onlyEstimateGas": false,
        "useEstimatedGasLimit": true,
        "gasLimit": "",
        "usePreviousBlocksGasPrice": true,
        "gasPrice": "",
        "fetchFullTransaction": false,
        "x": 490,
        "y": 500,
        "wires": [
            [],
            [
                "7229528fb7af9278",
                "8dd4110bebf53f27"
            ]
        ]
    },
    {
        "id": "7d86fde5a0cbb3cb",
        "type": "function",
        "z": "8216168554436ffe",
        "name": "digest",
        "func": "// return buffer\nmsg.payload = keccak256(JSON.stringify(msg.payload));\n\n// return string\nmsg.hash = \"0x\" + msg.payload.toString('hex')\n\nnode.status({ fill:\"blue\", shape:\"ring\", text:msg.hash });\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "keccak256",
                "module": "keccak256"
            }
        ],
        "x": 290,
        "y": 20,
        "wires": [
            [
                "faa54808c60ced7f"
            ]
        ]
    },
    {
        "id": "24e6756da1061139",
        "type": "inject",
        "z": "8216168554436ffe",
        "name": "[delete] /proof/:hash",
        "props": [
            {
                "p": "req.params.hash",
                "v": "hash",
                "vt": "flow"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 130,
        "y": 500,
        "wires": [
            [
                "6301982d6ec183d6"
            ]
        ]
    },
    {
        "id": "1caf188c77844a82",
        "type": "http in",
        "z": "8216168554436ffe",
        "name": "",
        "url": "/proof/:hash",
        "method": "delete",
        "upload": false,
        "swaggerDoc": "",
        "x": 130,
        "y": 500,
        "wires": [
            [
                "6301982d6ec183d6"
            ]
        ]
    },
    {
        "id": "bed66d3fee15623f",
        "type": "function",
        "z": "8216168554436ffe",
        "name": "buffer",
        "func": "// return string\nmsg.hash = msg.req.params.hash.replace(/0[xX]/g,\"\");\n\n// return buffer\nmsg.payload = Buffer.from(msg.hash, \"hex\");\n\nvar verify = \"0x\" + msg.payload.toString('hex');\nnode.status({ fill:\"blue\", shape:\"ring\", text:verify });\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "keccak256",
                "module": "keccak256"
            }
        ],
        "x": 290,
        "y": 320,
        "wires": [
            [
                "406af7277dc66283"
            ]
        ]
    },
    {
        "id": "8aef32aa527764cf",
        "type": "http request",
        "z": "8216168554436ffe",
        "name": "http://localhost:8080/notarize?info=xyz",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "http://localhost:8080/notarize?info=xyz",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 750,
        "y": 1440,
        "wires": [
            [
                "8363a7f31ace6426"
            ]
        ]
    },
    {
        "id": "8363a7f31ace6426",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "hash",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "msg",
        "x": 965,
        "y": 1440,
        "wires": [],
        "l": false
    },
    {
        "id": "249b24395ad4cdf6",
        "type": "inject",
        "z": "8216168554436ffe",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "test",
        "payloadType": "flow",
        "x": 575,
        "y": 1500,
        "wires": [
            [
                "5267c3140f1719d7"
            ]
        ],
        "l": false
    },
    {
        "id": "5267c3140f1719d7",
        "type": "http request",
        "z": "8216168554436ffe",
        "name": "http://localhost:8080/verify",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "http://localhost:8080/verify",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "Accept",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            }
        ],
        "x": 710,
        "y": 1500,
        "wires": [
            [
                "8d109afe6bad5c09"
            ]
        ]
    },
    {
        "id": "8d109afe6bad5c09",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "info",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload.information ? payload.information : payload",
        "statusType": "jsonata",
        "x": 965,
        "y": 1500,
        "wires": [],
        "l": false
    },
    {
        "id": "838a552485983f39",
        "type": "inject",
        "z": "8216168554436ffe",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "test",
        "payloadType": "flow",
        "x": 575,
        "y": 1440,
        "wires": [
            [
                "8aef32aa527764cf"
            ]
        ],
        "l": false
    },
    {
        "id": "53a5d01f8bdbcfe7",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "time",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 965,
        "y": 1560,
        "wires": [],
        "l": false
    },
    {
        "id": "21e46df1295eaef6",
        "type": "http request",
        "z": "8216168554436ffe",
        "name": "DELETE http://localhost:8080/proof/{{{hash}}}",
        "method": "DELETE",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "http://localhost:8080/proof/{{{hash}}}",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 770,
        "y": 1560,
        "wires": [
            [
                "53a5d01f8bdbcfe7"
            ]
        ]
    },
    {
        "id": "6970dcf29d83bfa3",
        "type": "inject",
        "z": "8216168554436ffe",
        "name": "",
        "props": [
            {
                "p": "hash",
                "v": "hash",
                "vt": "flow"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 575,
        "y": 1560,
        "wires": [
            [
                "21e46df1295eaef6"
            ]
        ],
        "l": false
    },
    {
        "id": "6301982d6ec183d6",
        "type": "function",
        "z": "8216168554436ffe",
        "name": "buffer",
        "func": "// return string\nmsg.hash = msg.req.params.hash.replace(/0[xX]/g,\"\");\n\n// return buffer\nmsg.payload = Buffer.from(msg.hash, \"hex\");\n\nvar verify = \"0x\" + msg.payload.toString('hex');\nnode.status({ fill:\"blue\", shape:\"ring\", text:verify });\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "keccak256",
                "module": "keccak256"
            }
        ],
        "x": 290,
        "y": 500,
        "wires": [
            [
                "1ce2ed019d453080"
            ]
        ]
    },
    {
        "id": "c9b0df2ea77004cf",
        "type": "function",
        "z": "8216168554436ffe",
        "name": "digest",
        "func": "// return buffer\nmsg.payload = keccak256(JSON.stringify(msg.payload));\n\n// return string\nmsg.hash = \"0x\" + msg.payload.toString('hex')\n\nnode.status({ fill:\"blue\", shape:\"ring\", text:msg.hash });\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "keccak256",
                "module": "keccak256"
            }
        ],
        "x": 290,
        "y": 440,
        "wires": [
            [
                "c8c314b4e1993b38"
            ]
        ]
    },
    {
        "id": "023643ac49b6b7f4",
        "type": "event-listener",
        "z": "8216168554436ffe",
        "name": "Nullified",
        "smartContract": "a4b3ff3023c6a717",
        "contractEvent": "Nullified",
        "filter": "",
        "x": 690,
        "y": 560,
        "wires": [
            [
                "5c248d688b8a467f",
                "a5cbdce91d99f7d9"
            ]
        ]
    },
    {
        "id": "080af97efcf8f80b",
        "type": "comment",
        "z": "8216168554436ffe",
        "g": "fde0a01bd296f290",
        "name": "PoE v7",
        "info": "[Remix](https://remix.ethereum.org/)\n\n```solidity\n// SPDX-License-Identifier: GPL-3.0\npragma solidity >=0.7.0 <0.9.0;\n\n// On REMIX, use CRTL+SHIFT+S to run @custom:dev-run-script\n/**\n * @title Proof of Existence\n * @author 0x7efC9d38581c7Cb8372325c349Ec5095D027B3Dd\n * @dev Notarization of documents into the Blockchain through the hash of their content, with nullification support.\n * @custom:dev-run-script ./scripts/send_to_replit_(PoE).ts\n */\ncontract ProofOfExistence {\n\n    struct Proof {\n        string information; // metadata attached to the proof\n        address provider;  // document proof provider address\n        uint timestamp;   // document proof notarization time\n    }\n\n    /// @dev The contract state\n    mapping (bytes32 => Proof) private proofs;\n\n    event Notarized(bytes32, Proof);\n    event Nullified(bytes32, Proof);\n\n//  modifier onlyProvider(bytes32 hash) {\n//      require(\n//          msg.sender == proofs[hash].provider,\n//          \"Only the proof provider is allowed to access this function.\"\n//      );\n//      _;\n//  }\n\n      // ================= //\n     // Utility functions //\n    // ================= //\n\n    /// @dev Calculate the document proof as the SHA-3 hash of its content\n    function digest(string memory document) public pure returns (bytes32 hash) {\n        // hash = sha256(abi.encode(document)); // SHA-2\n        // abi.encodePacked will be deprecated in Solidity v0.9.0 -> Replace with abi.encode, or simple cast:\n        hash = keccak256(bytes(document));\n        // return hash;\n    }\n\n    /// @dev Get the document proof data registered for a notarized hash, if any\n    function lookup(bytes32 hash) external view returns (Proof memory proof) {\n        require(proofs[hash].timestamp != 0 , \"Proof not notarized.\");\n        proof = proofs[hash];\n        // return proof;\n    }\n\n      // ====================== //\n     // Notarization functions //\n    // ====================== //\n\n    /// @dev Calculate and notarize the proof of a document\n    function certify(string calldata document, string calldata info) external returns (bytes32 hash, Proof memory proof) {\n        hash = digest(document);\n        proof = notarize(hash, info);\n        // return (hash, proof);\n    }\n\n    /// @dev Store the proof of a document in the contract state\n    function notarize(bytes32 hash, string calldata info) public returns (Proof memory proof) {\n        require(proofs[hash].timestamp == 0 , \"Proof already notarized.\");\n        proof = Proof(info, msg.sender, block.timestamp);\n        proofs[hash] = proof;\n        emit Notarized(hash, proof);\n        // return proof;\n    }\n      // ======================= //\n     // Nullification functions //\n    // ======================= //\n\n    /// @dev Calculate and nullify the proof of a document, returning the original notarization hash and timestamp\n    function cancel(string calldata document) external returns (bytes32 hash, Proof memory proof) {\n        hash = digest(document);\n        proof = nullify(hash);\n        // return (hash, proof);\n    }\n\n    /// @dev Destroy the proof of a document in the contract state, returning the original notarization timestamp\n    function nullify(bytes32 hash) public returns (Proof memory proof) {\n        require(proofs[hash].timestamp != 0 , \"Proof not notarized.\");\n        require(msg.sender == proofs[hash].provider, \"Only the provider can nullify the proof.\");\n        proof = proofs[hash];\n        // delete proofs[hash];\n        proofs[hash] = Proof(\"\", address(0), 0); // optimises gas execution cost\n        emit Nullified(hash, proof);\n        // return proof;\n    }\n\n      // ====================== //\n     // Verification functions //\n    // ====================== //\n\n    /// @dev Calculate and verify if the proof of a document has been notarized\n    function check(string calldata document) external view returns (bool result) {\n        result = verify(digest(document));\n        // return result;\n    }\n\n    /// @dev Find out if a hash has been notarized as proof of a document\n    function verify(bytes32 hash) public view returns (bool result) {\n        result = proofs[hash].timestamp != 0;\n        // return result;\n    }\n}\n```",
        "x": 730,
        "y": 80,
        "wires": []
    },
    {
        "id": "49eece6522f02a54",
        "type": "function",
        "z": "8216168554436ffe",
        "name": "set info",
        "func": "if (!msg.req.query.info)\n    msg.req.query.info = JSON.stringify(msg.payload);\n\nvar info = msg.req.query.info;\n\nnode.status({ fill:\"blue\", shape:\"ring\", text:info });\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "keccak256",
                "module": "keccak256"
            }
        ],
        "x": 280,
        "y": 200,
        "wires": [
            [
                "539f960574b972b7"
            ]
        ]
    },
    {
        "id": "8a321d3732f809c2",
        "type": "inject",
        "z": "8216168554436ffe",
        "name": "[post] /proof",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "req.query",
                "v": "{}",
                "vt": "json"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "test",
        "payloadType": "flow",
        "x": 110,
        "y": 200,
        "wires": [
            [
                "49eece6522f02a54"
            ]
        ]
    },
    {
        "id": "c0c01f4b88db4d04",
        "type": "http in",
        "z": "8216168554436ffe",
        "name": "",
        "url": "/proof",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 110,
        "y": 200,
        "wires": [
            [
                "49eece6522f02a54"
            ]
        ]
    },
    {
        "id": "bb194602fd20395f",
        "type": "http in",
        "z": "8216168554436ffe",
        "name": "",
        "url": "/test",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 100,
        "y": 2140,
        "wires": [
            [
                "bb71ee4c7cdf0339",
                "71e15d1e27cbf6ba",
                "2fab1b9a79d47ca7"
            ]
        ]
    },
    {
        "id": "0351843d68075fc5",
        "type": "http request",
        "z": "8216168554436ffe",
        "name": "POST /test",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://localhost:8080/test",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 270,
        "y": 2080,
        "wires": [
            [
                "9de8da3c3a041a17",
                "0246f68533e88ef5"
            ]
        ]
    },
    {
        "id": "5f42d4f2aa41b0d7",
        "type": "inject",
        "z": "8216168554436ffe",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 100,
        "y": 2080,
        "wires": [
            [
                "0351843d68075fc5"
            ]
        ]
    },
    {
        "id": "71e15d1e27cbf6ba",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "payload",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "payload",
        "statusType": "msg",
        "x": 620,
        "y": 2140,
        "wires": []
    },
    {
        "id": "c304540692f2ca4b",
        "type": "inject",
        "z": "8216168554436ffe",
        "name": "[ flow.test, \"\" ]",
        "props": [
            {
                "p": "topic",
                "v": "test",
                "vt": "flow"
            },
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "[$string(topic), \"\"]",
        "payloadType": "jsonata",
        "x": 630,
        "y": 1700,
        "wires": [
            [
                "3054db3d98309b95"
            ]
        ]
    },
    {
        "id": "68b57cc1dd3a7ce3",
        "type": "inject",
        "z": "8216168554436ffe",
        "name": "flow.test",
        "props": [
            {
                "p": "topic",
                "v": "test",
                "vt": "flow"
            },
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "$string(topic)",
        "payloadType": "jsonata",
        "x": 620,
        "y": 1780,
        "wires": [
            [
                "8067826516e6358e"
            ]
        ]
    },
    {
        "id": "4d22f6835a24e79f",
        "type": "function",
        "z": "8216168554436ffe",
        "name": "digest",
        "func": "// return buffer\nmsg.payload = keccak256(JSON.stringify(msg.payload));\n\n// return string\nmsg.hash = \"0x\" + msg.payload.toString('hex')\n\nnode.status({ fill:\"blue\", shape:\"ring\", text:msg.hash });\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "keccak256",
                "module": "keccak256"
            }
        ],
        "x": 490,
        "y": 620,
        "wires": [
            [
                "1ce2ed019d453080"
            ]
        ]
    },
    {
        "id": "faa54808c60ced7f",
        "type": "change",
        "z": "8216168554436ffe",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "hash",
                "pt": "flow",
                "to": "hash",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 470,
        "y": 20,
        "wires": [
            []
        ]
    },
    {
        "id": "e02323db9b31d7c1",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "block num",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "payload.blockNumber",
        "statusType": "msg",
        "x": 910,
        "y": 140,
        "wires": []
    },
    {
        "id": "607725670e64cefb",
        "type": "transaction-reader",
        "z": "8216168554436ffe",
        "name": "",
        "ethereumClient": "151efd3e17f2a2d1",
        "queryReceipt": false,
        "getByTxHash": true,
        "fromBlock": "-9",
        "toBlock": "latest",
        "filterFrom": "",
        "filterTo": "",
        "x": 450,
        "y": 140,
        "wires": [
            [
                "8b794c20744f1eca",
                "e02323db9b31d7c1"
            ]
        ]
    },
    {
        "id": "b70a9429d2618578",
        "type": "event-listener",
        "z": "8216168554436ffe",
        "name": "Notarized",
        "smartContract": "a4b3ff3023c6a717",
        "contractEvent": "Notarized",
        "filter": "",
        "x": 700,
        "y": 500,
        "wires": [
            [
                "5c248d688b8a467f",
                "a5cbdce91d99f7d9"
            ]
        ]
    },
    {
        "id": "5c248d688b8a467f",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "notification",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload.returnValues[\"0\"]",
        "statusType": "msg",
        "x": 910,
        "y": 500,
        "wires": []
    },
    {
        "id": "928fa5ae72d6aa05",
        "type": "comment",
        "z": "8216168554436ffe",
        "g": "fde0a01bd296f290",
        "name": "PoE v9",
        "info": "```solidity\n// SPDX-License-Identifier: MIT\npragma solidity >=0.8.24 <0.9.0;\n\n// On REMIX, use CRTL+SHIFT+S to run @custom:dev-run-script\n\n/**\n * @title Proof of Existence (PoE) - Extended Version\n * @author 0x7efC9d38581c7Cb8372325c349Ec5095D027B3Dd\n * @dev Notarization of documents, with nullify and get support, custom metadata and state change history.\n * @custom:dev-run-script ./scripts/deploy_with_ethers_(PoE).ts\n */\ncontract ProofOfExistence {\n    // bytes32 private constant EMPTY_STRING = 0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470;\n\n    /// @dev Proof of Existence (PoE) of a document.\n    struct Proof {\n        string description; // unencrypted public metadata attached (optional)\n        address provider; // the address of the original tx sender (tx.origin)\n        uint256 timestamp; // tx instant (obtained from each containing block)\n        uint256 blockNumber; // to find tx info via explorer (e.g., Etherscan)\n        bool isNotarized; // proof state (true = notarized, false = nullified)\n    }\n\n    /// @dev List of all registered proofs of existence.\n    mapping(bytes32 => Proof[]) proofs;\n\n    /// @dev Notifies the notarization of each document.\n    event Notarized(bytes32, Proof);\n\n    /// @dev Notifies the nullifications of every proof.\n    event Nullified(bytes32, Proof);\n\n    modifier onlyNotarized(bytes32 hash) {\n        require(getProof(hash).isNotarized, \"Not notarized.\");\n        _;\n    }\n\n    modifier onlyNotNotarized(bytes32 hash) {\n        require(!getProof(hash).isNotarized, \"Already notarized.\");\n        _;\n    }\n\n    modifier onlyNotEmpty(string calldata document) {\n        require(bytes(document).length != 0, \"Empty string not allowed.\");\n        _;\n    }\n\n    modifier onlyNotNull(bytes32 hash) {\n        require(hash.length != 0, \"Null hash not allowed.\");\n        _;\n    }\n\n    modifier onlyOriginalSender(bytes32 hash) {\n        require(getProof(hash).provider == tx.origin, \"Only original sender allowed.\");\n        _;\n    }\n\n    // ==================== //\n    //  EXTERNAL FUNCTIONS  //\n    // ==================== //\n\n    /// @dev Calculate the hash from the content and register the proof of a document with metadata.\n    /// @param document The content of the document\n    /// @param metadata Unencrypted custom description attached to the proof\n    /// @return hash The hash of the document\n    /// @return proof The proof of the document\n    function certify(string calldata document, string calldata metadata) external\n        returns (bytes32 hash, Proof memory proof)\n    {\n        hash = digest(document);\n        proof = notarize(hash, metadata);\n        return (hash, proof);\n    }\n\n    /// @dev Calculate the hash from the content and register the proof of a document.\n    /// @param document The content of the document\n    /// @return hash The hash of the document\n    /// @return proof The proof of the document\n    function certifyDocumentOnly(string calldata document) external onlyNotEmpty(document)\n        returns (bytes32 hash, Proof memory proof)\n    {\n        hash = digest(document);\n        proof = notarizeHashOnly(hash);\n        return (hash, proof);\n    }\n\n    /// @dev Calculate the hash from the content and deregister the proof of a notarized document with metadata.\n    /// @param document The content of the document\n    /// @param metadata Unencrypted custom description attached to the proof\n    /// @return hash The hash of the document\n    /// @return proof The proof of the document\n    function cancel(string calldata document, string calldata metadata) external onlyNotEmpty(document)\n        returns (bytes32 hash, Proof memory proof)\n    {\n        hash = digest(document);\n        proof = nullify(hash, metadata);\n        return (hash, proof);\n    }\n\n    /// @dev Calculate the hash from the content and deregister the proof of a notarized document.\n    /// @param document The content of the document\n    /// @return hash The hash of the document\n    /// @return proof The proof of the document\n    function cancelDocumentOnly(string calldata document) external onlyNotEmpty(document)\n        returns (bytes32 hash, Proof memory proof)\n    {\n        hash = digest(document);\n        proof = nullifyHashOnly(hash);\n        return (hash, proof);\n    }\n\n    // ======================== //\n    //  EXTERNAL VIEW FUNCTIONS //\n    // ======================== //\n\n    /// @dev Calculate the hash from the content and check the state of the proof of a document.\n    /// @param document The content of the document\n    /// @return state Latest state of the proof (`true` = notarized, `false` = nullified)\n    function check(string calldata document) external view onlyNotEmpty(document)\n        returns (bool state)\n    {\n        state = verify(digest(document));\n        return state;\n    }\n\n    // ================== //\n    //  PUBLIC FUNCTIONS  //\n    // ================== //\n\n    /// @dev Register the proof of a document throgh its hash with metadata.\n    /// @param hash The hash of the document\n    /// @param metadata Unencrypted custom description attached to the proof\n    /// @return proof The proof of the document\n    function notarize(bytes32 hash, string calldata metadata) public onlyNotNotarized(hash)\n        returns (Proof memory proof)\n    {\n        proof = register(hash, metadata, tx.origin, true);\n        emit Notarized(hash, proof);\n        return proof;\n    }\n\n    /// @dev Register the proof of a document throgh its hash.\n    /// @param hash The hash of the document\n    /// @return proof The proof of the document\n    function notarizeHashOnly(bytes32 hash) public onlyNotNotarized(hash)\n        returns (Proof memory proof)\n    {\n        proof = register(hash, tx.origin, true);\n        emit Notarized(hash, proof);\n        return proof;\n    }\n\n    /// @dev Deregister the proof of a notarized document throgh its hash with metadata.\n    /// @param hash The hash of the document\n    /// @param metadata Unencrypted custom description attached to the proof\n    /// @return proof The proof of the document\n    function nullify(bytes32 hash, string calldata metadata) public onlyNotarized(hash) onlyOriginalSender(hash)\n        returns (Proof memory proof)\n    {\n        proof = register(hash, metadata, tx.origin, false);\n        emit Nullified(hash, proof);\n        return proof;\n    }\n\n    /// @dev Deregister the proof of a notarized document throgh its hash.\n    /// @param hash The hash of the document\n    /// @return proof The proof of the document\n    function nullifyHashOnly(bytes32 hash) public onlyNotarized(hash) onlyOriginalSender(hash)\n        returns (Proof memory proof)\n    {\n        proof = register(hash, tx.origin, false);\n        emit Nullified(hash, proof);\n        return proof;\n    }\n\n    // ====================== //\n    //  PUBLIC VIEW FUNCTIONS //\n    // ====================== //\n\n    /// @dev Return the change history of the proof of a document throgh its hash.\n    /// @param hash The hash of the document\n    /// @return history The list of proof changes\n    function getHistory(bytes32 hash) public view\n        returns (Proof[] memory history)\n    {\n        history = proofs[hash];\n        return history;\n    }\n\n    /// @dev Return the proof of a document throgh its hash.\n    /// @param hash The hash of the document\n    /// @return proof The proof of the document\n    function getProof(bytes32 hash) public view\n        returns (Proof memory proof)\n    {\n        if (proofs[hash].length > 0)\n            proof = proofs[hash][proofs[hash].length - 1];\n        return proof;\n    }\n\n    /// @dev Return the state of the proof of a document throgh its hash.\n    /// @param hash The hash of the document\n    /// @return state Latest state of the proof (`true` = notarized, `false` = nullified)\n    function verify(bytes32 hash) public view\n        returns (bool state)\n    {\n        state = getProof(hash).isNotarized;\n        return state;\n    }\n\n    // ====================== //\n    //  PUBLIC PURE FUNCTIONS //\n    // ====================== //\n\n    /// @dev Calculate the hash of a document from its content (legacy).\n    /// @param document The content of the document\n    /// @return hash The hash of the document\n    function createProofHash(string memory document) public pure \n        returns (bytes32 hash)\n    {\n        // hash = sha256(abi.encode(content)); // SHA-2\n        // hash = keccak256(abi.encodePacked(content)); // https://github.com/ethereum/solidity/issues/11593\n        hash = keccak256(bytes(document)); // SHA-3\n        return hash;\n    }\n\n    // ==================== //\n    //  INTERNAL FUNCTIONS  //\n    // ==================== //\n\n    /// @dev Store the proof of a document throgh its hash with metadata and its state.\n    /// @param hash The hash of the document\n    /// @param metadata Unencrypted custom description attached to the proof\n    /// @param value The state of the proof\n    /// @param provider The address of the proof state updater\n    /// @return proof The proof of the document\n    function register(bytes32 hash, string calldata metadata, address provider, bool value) internal onlyNotNull(hash)\n        returns (Proof memory proof)\n    {\n        // if (bytes(description).length != 0)\n        proof.description = metadata;\n        // else proof.description = getProof(hash).description;\n        proof.provider = provider;\n        proof.timestamp = uint32(block.timestamp);\n        proof.blockNumber = block.number;\n        proof.isNotarized = value;\n        proofs[hash].push(proof);\n        return proof;\n    }\n\n    /// @dev Store the proof of a document throgh its hash with metadata and its state.\n    /// @param hash The hash of the document\n    /// @param value The state of the proof\n    /// @param provider The address of the proof state updater\n    /// @return proof The proof of the document\n    function register(bytes32 hash, address provider, bool value) internal onlyNotNull(hash)\n        returns (Proof memory proof)\n    {\n        proof.description = getProof(hash).description;\n        proof.provider = provider;\n        proof.timestamp = uint32(block.timestamp);\n        proof.blockNumber = block.number;\n        proof.isNotarized = value;\n        proofs[hash].push(proof);\n        return proof;\n    }\n\n    // ========================= //\n    //  INTERNAL PURE FUNCTIONS  //\n    // ========================= //\n\n    /// @dev Calculate the hash of a document from its content (optimised version).\n    /// @param document The content of the document\n    /// @return hash The hash of the document\n    function digest(string calldata document) internal pure\n        returns (bytes32 hash)\n    {\n        // hash = sha256(abi.encode(content)); // SHA-2\n        // hash = keccak256(abi.encodePacked(content)); // https://github.com/ethereum/solidity/issues/11593\n        hash = keccak256(bytes(document)); // SHA-3\n        return hash;\n    }\n}\n    // ============ //\n    //  REFERENCES  //\n    // ============ //\n\n    // Style Guide — Solidity documentation:\n    // https://docs.soliditylang.org/en/latest/style-guide.html\n```",
        "x": 730,
        "y": 80,
        "wires": []
    },
    {
        "id": "7f98f7da72bd6f24",
        "type": "function",
        "z": "8216168554436ffe",
        "name": "digest",
        "func": "// return buffer\nmsg.payload = keccak256(JSON.stringify(msg.payload));\n\n// return string\nmsg.hash = \"0x\" + msg.payload.toString('hex')\n\nnode.status({ fill:\"blue\", shape:\"ring\", text:msg.hash });\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "keccak256",
                "module": "keccak256"
            }
        ],
        "x": 290,
        "y": 740,
        "wires": [
            [
                "8d7dcf6332b33613"
            ]
        ]
    },
    {
        "id": "8d7dcf6332b33613",
        "type": "contract-call",
        "z": "8216168554436ffe",
        "name": "getHistory",
        "smartContract": "a4b3ff3023c6a717",
        "contractFunction": "getHistory",
        "senderAccount": "4309ab3d92258a66",
        "readonlyFunction": true,
        "weiTransfer": "",
        "onlyEstimateGas": false,
        "useEstimatedGasLimit": true,
        "gasLimit": "",
        "usePreviousBlocksGasPrice": true,
        "gasPrice": "",
        "fetchFullTransaction": false,
        "x": 480,
        "y": 680,
        "wires": [
            [],
            [
                "7ac6c391ab875526",
                "caf4fa5bb3937840"
            ]
        ]
    },
    {
        "id": "bfb50bfc2aa80e6e",
        "type": "inject",
        "z": "8216168554436ffe",
        "name": "[get] /history/:hash",
        "props": [
            {
                "p": "req.params.hash",
                "v": "hash",
                "vt": "flow"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 130,
        "y": 680,
        "wires": [
            [
                "f78365176ec9ed8a"
            ]
        ]
    },
    {
        "id": "250c03e27890ee17",
        "type": "http in",
        "z": "8216168554436ffe",
        "name": "",
        "url": "/history/:hash",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 130,
        "y": 680,
        "wires": [
            [
                "f78365176ec9ed8a"
            ]
        ]
    },
    {
        "id": "f78365176ec9ed8a",
        "type": "function",
        "z": "8216168554436ffe",
        "name": "buffer",
        "func": "// return string\nmsg.hash = msg.req.params.hash.replace(/0[xX]/g,\"\");\n\n// return buffer\nmsg.payload = Buffer.from(msg.hash, \"hex\");\n\nvar verify = \"0x\" + msg.payload.toString('hex');\nnode.status({ fill:\"blue\", shape:\"ring\", text:verify });\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "keccak256",
                "module": "keccak256"
            }
        ],
        "x": 290,
        "y": 680,
        "wires": [
            [
                "8d7dcf6332b33613"
            ]
        ]
    },
    {
        "id": "e1d9d0518ff84b06",
        "type": "inject",
        "z": "8216168554436ffe",
        "name": "[get] /nullify/:hash",
        "props": [
            {
                "p": "req.params.hash",
                "v": "hash",
                "vt": "flow"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 120,
        "y": 560,
        "wires": [
            [
                "e5887009f7d7145e"
            ]
        ]
    },
    {
        "id": "8a28c65abbe070e9",
        "type": "http in",
        "z": "8216168554436ffe",
        "name": "",
        "url": "/nullify/:hash",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 120,
        "y": 560,
        "wires": [
            [
                "e5887009f7d7145e"
            ]
        ]
    },
    {
        "id": "e5887009f7d7145e",
        "type": "function",
        "z": "8216168554436ffe",
        "name": "buffer",
        "func": "// return string\nmsg.hash = msg.req.params.hash.replace(/0[xX]/g,\"\");\n\n// return buffer\nmsg.payload = Buffer.from(msg.hash, \"hex\");\n\nvar verify = \"0x\" + msg.payload.toString('hex');\nnode.status({ fill:\"blue\", shape:\"ring\", text:verify });\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "keccak256",
                "module": "keccak256"
            }
        ],
        "x": 290,
        "y": 560,
        "wires": [
            [
                "1ce2ed019d453080"
            ]
        ]
    },
    {
        "id": "bf39c980e163f2d6",
        "type": "inject",
        "z": "8216168554436ffe",
        "name": "[get] /verify/:hash",
        "props": [
            {
                "p": "req.params.hash",
                "v": "hash",
                "vt": "flow"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 120,
        "y": 380,
        "wires": [
            [
                "e8ab9670b9d7d7fd"
            ]
        ]
    },
    {
        "id": "ee62c35504fdf5a7",
        "type": "http in",
        "z": "8216168554436ffe",
        "name": "",
        "url": "/verify/:hash",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 120,
        "y": 380,
        "wires": [
            [
                "e8ab9670b9d7d7fd"
            ]
        ]
    },
    {
        "id": "e8ab9670b9d7d7fd",
        "type": "function",
        "z": "8216168554436ffe",
        "name": "buffer",
        "func": "// return string\nmsg.hash = msg.req.params.hash.replace(/0[xX]/g,\"\");\n\n// return buffer\nmsg.payload = Buffer.from(msg.hash, \"hex\");\n\nvar verify = \"0x\" + msg.payload.toString('hex');\nnode.status({ fill:\"blue\", shape:\"ring\", text:verify });\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "keccak256",
                "module": "keccak256"
            }
        ],
        "x": 290,
        "y": 380,
        "wires": [
            [
                "c8c314b4e1993b38"
            ]
        ]
    },
    {
        "id": "9457823c1a1edc5f",
        "type": "contract-call",
        "z": "8216168554436ffe",
        "name": "verify",
        "smartContract": "a4b3ff3023c6a717",
        "contractFunction": "verify",
        "senderAccount": "4309ab3d92258a66",
        "readonlyFunction": true,
        "weiTransfer": "",
        "onlyEstimateGas": false,
        "useEstimatedGasLimit": true,
        "gasLimit": "",
        "usePreviousBlocksGasPrice": true,
        "gasPrice": "",
        "fetchFullTransaction": false,
        "x": 490,
        "y": 440,
        "wires": [
            [],
            [
                "7ac6c391ab875526",
                "caf4fa5bb3937840"
            ]
        ]
    },
    {
        "id": "8154c52108506517",
        "type": "inject",
        "z": "8216168554436ffe",
        "name": "[post] /hash",
        "props": [
            {
                "p": "req.params.hash",
                "v": "hash",
                "vt": "flow"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 710,
        "y": 620,
        "wires": [
            [
                "c1885e386d78e0d9"
            ]
        ]
    },
    {
        "id": "fefc61cf475a57cb",
        "type": "http in",
        "z": "8216168554436ffe",
        "name": "",
        "url": "/hash",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 710,
        "y": 620,
        "wires": [
            [
                "c1885e386d78e0d9"
            ]
        ]
    },
    {
        "id": "c1885e386d78e0d9",
        "type": "function",
        "z": "8216168554436ffe",
        "name": "digest",
        "func": "// return buffer\nmsg.payload = keccak256(JSON.stringify(msg.payload));\n\n// return string\nmsg.hash = \"0x\" + msg.payload.toString('hex')\n\nnode.status({ fill:\"blue\", shape:\"ring\", text:msg.hash });\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "keccak256",
                "module": "keccak256"
            }
        ],
        "x": 930,
        "y": 620,
        "wires": [
            [
                "85883bb489f63d76",
                "6ff55d3af21e225d"
            ]
        ]
    },
    {
        "id": "85be153be4d93541",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "Notarized return",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 720,
        "y": 320,
        "wires": []
    },
    {
        "id": "103a25091bfeaeb8",
        "type": "change",
        "z": "8216168554436ffe",
        "name": "Notarized return",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.events.Notarized.returnValues[\"0\"]",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 720,
        "y": 320,
        "wires": [
            [
                "c2c8d2dfcdd73eea",
                "3cc01b60d2703829"
            ]
        ]
    },
    {
        "id": "c2c8d2dfcdd73eea",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "response",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "msg",
        "x": 920,
        "y": 320,
        "wires": []
    },
    {
        "id": "3cc01b60d2703829",
        "type": "http response",
        "z": "8216168554436ffe",
        "name": "",
        "statusCode": "200",
        "headers": {},
        "x": 920,
        "y": 320,
        "wires": []
    },
    {
        "id": "7229528fb7af9278",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "Nullified return",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 720,
        "y": 440,
        "wires": []
    },
    {
        "id": "8dd4110bebf53f27",
        "type": "change",
        "z": "8216168554436ffe",
        "name": "Nullified return",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.events.Nullified.returnValues[\"1\"]",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 720,
        "y": 440,
        "wires": [
            [
                "86cd9fbf6cddab7b",
                "b672b1bf01ae8c9b"
            ]
        ]
    },
    {
        "id": "86cd9fbf6cddab7b",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "response",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "msg",
        "x": 920,
        "y": 440,
        "wires": []
    },
    {
        "id": "b672b1bf01ae8c9b",
        "type": "http response",
        "z": "8216168554436ffe",
        "name": "",
        "statusCode": "200",
        "headers": {},
        "x": 920,
        "y": 440,
        "wires": []
    },
    {
        "id": "10d8acf78f35613e",
        "type": "http in",
        "z": "8216168554436ffe",
        "name": "",
        "url": "/test/:a",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 110,
        "y": 2260,
        "wires": [
            [
                "f3c3cf2737029bb7",
                "4d73636c2365abbc",
                "c5790a32e0f612a4"
            ]
        ]
    },
    {
        "id": "069bcd774c04e8e3",
        "type": "http request",
        "z": "8216168554436ffe",
        "name": "GET /test/{payload}",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://localhost:8080/test/{{payload}}",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 290,
        "y": 2200,
        "wires": [
            [
                "a7b5b7abab37b063",
                "25f679fe58fc155a"
            ]
        ]
    },
    {
        "id": "7278c9a904818db4",
        "type": "inject",
        "z": "8216168554436ffe",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 100,
        "y": 2200,
        "wires": [
            [
                "069bcd774c04e8e3"
            ]
        ]
    },
    {
        "id": "eaf27f3ce89afdf8",
        "type": "http request",
        "z": "8216168554436ffe",
        "name": "GET /test?a={payload}",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://localhost:8080/test?a={{payload}}",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 300,
        "y": 2320,
        "wires": [
            [
                "b22f60fb61971fd3",
                "0a247c51523ba093"
            ]
        ]
    },
    {
        "id": "8f557f4461dd9045",
        "type": "inject",
        "z": "8216168554436ffe",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 100,
        "y": 2320,
        "wires": [
            [
                "eaf27f3ce89afdf8"
            ]
        ]
    },
    {
        "id": "bb71ee4c7cdf0339",
        "type": "http response",
        "z": "8216168554436ffe",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 290,
        "y": 2140,
        "wires": []
    },
    {
        "id": "f3c3cf2737029bb7",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "req.params.a",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "req.params.a",
        "statusType": "msg",
        "x": 630,
        "y": 2260,
        "wires": []
    },
    {
        "id": "4d73636c2365abbc",
        "type": "http response",
        "z": "8216168554436ffe",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 330,
        "y": 2260,
        "wires": []
    },
    {
        "id": "bcac1b530053cc3e",
        "type": "http in",
        "z": "8216168554436ffe",
        "name": "",
        "url": "/test",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 100,
        "y": 2380,
        "wires": [
            [
                "cf243a12aebb1722",
                "4ad030b0c26333a6",
                "7037ee14a3791ef3"
            ]
        ]
    },
    {
        "id": "cf243a12aebb1722",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "req.query.a",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "req.query.a",
        "statusType": "msg",
        "x": 630,
        "y": 2380,
        "wires": []
    },
    {
        "id": "4ad030b0c26333a6",
        "type": "http response",
        "z": "8216168554436ffe",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 350,
        "y": 2380,
        "wires": []
    },
    {
        "id": "9de8da3c3a041a17",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 610,
        "y": 2080,
        "wires": []
    },
    {
        "id": "a7b5b7abab37b063",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 610,
        "y": 2200,
        "wires": []
    },
    {
        "id": "b22f60fb61971fd3",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 610,
        "y": 2320,
        "wires": []
    },
    {
        "id": "7037ee14a3791ef3",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "req.headers",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "req.headers",
        "targetType": "msg",
        "statusVal": "req.headers",
        "statusType": "msg",
        "x": 910,
        "y": 2380,
        "wires": []
    },
    {
        "id": "c5790a32e0f612a4",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "req.headers",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "req.headers",
        "targetType": "msg",
        "statusVal": "req.headers",
        "statusType": "msg",
        "x": 910,
        "y": 2260,
        "wires": []
    },
    {
        "id": "2fab1b9a79d47ca7",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "req.headers",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "req.headers",
        "targetType": "msg",
        "statusVal": "req.headers",
        "statusType": "msg",
        "x": 910,
        "y": 2140,
        "wires": []
    },
    {
        "id": "0246f68533e88ef5",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "headers",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "headers",
        "targetType": "msg",
        "statusVal": "headers",
        "statusType": "msg",
        "x": 900,
        "y": 2080,
        "wires": []
    },
    {
        "id": "25f679fe58fc155a",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "headers",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "headers",
        "targetType": "msg",
        "statusVal": "headers",
        "statusType": "msg",
        "x": 900,
        "y": 2200,
        "wires": []
    },
    {
        "id": "0a247c51523ba093",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "headers",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "headers",
        "targetType": "msg",
        "statusVal": "headers",
        "statusType": "msg",
        "x": 900,
        "y": 2320,
        "wires": []
    },
    {
        "id": "a22457e99ef11a1d",
        "type": "http request",
        "z": "8216168554436ffe",
        "name": "GET /test",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "http://localhost:8080/test",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "Accept",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            },
            {
                "keyType": "other",
                "keyValue": "X-Custom-B",
                "valueType": "other",
                "valueValue": "Zelda"
            }
        ],
        "x": 340,
        "y": 2440,
        "wires": [
            [
                "33a179e6d71acaed",
                "a47fe658f3739fc4"
            ]
        ]
    },
    {
        "id": "b114b4581c1b72bb",
        "type": "inject",
        "z": "8216168554436ffe",
        "name": "headers.x-custom-a",
        "props": [
            {
                "p": "headers.x-custom-a",
                "v": "Inter",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 130,
        "y": 2440,
        "wires": [
            [
                "a22457e99ef11a1d"
            ]
        ]
    },
    {
        "id": "33a179e6d71acaed",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 610,
        "y": 2440,
        "wires": []
    },
    {
        "id": "a47fe658f3739fc4",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "headers",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "headers",
        "targetType": "msg",
        "statusVal": "headers",
        "statusType": "msg",
        "x": 900,
        "y": 2440,
        "wires": []
    },
    {
        "id": "97ba9d0a05e744fd",
        "type": "ethers-events",
        "z": "8216168554436ffe",
        "name": "Notarized",
        "contract": "e57d43c9f8204433",
        "rpc": "f48988c5bc162b95",
        "event": "Notarized",
        "contractAddress": "poeAddress",
        "contractAddressType": "flow",
        "contractCreationTx": "poeCreationTx",
        "contractCreationTxType": "flow",
        "params": "[]",
        "paramsType": "json",
        "output": "payload",
        "outputType": "msg",
        "blockFrom": "",
        "blockFromType": "num",
        "blockTo": "",
        "blockToType": "num",
        "blockRange": "",
        "blockRangeType": "num",
        "x": 300,
        "y": 1340,
        "wires": [
            [
                "9fc58fcdc856d827"
            ]
        ]
    },
    {
        "id": "0a25ca76dfc70f08",
        "type": "inject",
        "z": "8216168554436ffe",
        "name": "",
        "props": [],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 90,
        "y": 1340,
        "wires": [
            [
                "97ba9d0a05e744fd"
            ]
        ]
    },
    {
        "id": "9fc58fcdc856d827",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "ethers-node",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "payload",
        "statusType": "msg",
        "x": 630,
        "y": 1340,
        "wires": []
    },
    {
        "id": "b4e8aa4151e11245",
        "type": "change",
        "z": "8216168554436ffe",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "poeAddress",
                "pt": "flow",
                "to": "payload.contractAddress",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 840,
        "wires": [
            [
                "f888ec453c87513f"
            ]
        ]
    },
    {
        "id": "a7bc9573ce585cae",
        "type": "change",
        "z": "8216168554436ffe",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "poeCreationTx",
                "pt": "flow",
                "to": "payload.transactionHash",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 920,
        "wires": [
            [
                "6f327f98ae7a491a"
            ]
        ]
    },
    {
        "id": "653e589cc29cdc09",
        "type": "inject",
        "z": "8216168554436ffe",
        "name": "PoE v7",
        "props": [
            {
                "p": "payload.contractAddress",
                "v": "0x71CC7f2efE44A426948eAB3476C2fb2bBf7E2ece",
                "vt": "str"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "0xa951b31af44de083437c9c620f5f86868b37e3a375f5ee1ae10ef577cb875e99",
        "x": 90,
        "y": 880,
        "wires": [
            [
                "b4e8aa4151e11245",
                "a7bc9573ce585cae"
            ]
        ]
    },
    {
        "id": "20392b4ac1573b0b",
        "type": "ethers-deploy",
        "z": "8216168554436ffe",
        "name": "PoE v7",
        "contract": "5a57ea1de491190d",
        "ethCredentials": "63ac671491a13a4b",
        "hierarchicalDeterministicWalletIndex": 0,
        "hierarchicalDeterministicWalletIndexType": "num",
        "params": "[]",
        "paramsType": "json",
        "output": "payload",
        "outputType": "msg",
        "x": 300,
        "y": 1060,
        "wires": [
            [
                "b4e8aa4151e11245",
                "a7bc9573ce585cae"
            ]
        ]
    },
    {
        "id": "4d0aa23e766b077c",
        "type": "inject",
        "z": "8216168554436ffe",
        "name": "Deploy",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 90,
        "y": 1120,
        "wires": [
            [
                "eefd38b0581184e0"
            ]
        ]
    },
    {
        "id": "b77e16ddcc6e7ea3",
        "type": "inject",
        "z": "8216168554436ffe",
        "name": "Deploy",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 90,
        "y": 1060,
        "wires": [
            [
                "20392b4ac1573b0b"
            ]
        ]
    },
    {
        "id": "5ff78a341285b75c",
        "type": "inject",
        "z": "8216168554436ffe",
        "name": "Deploy",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 90,
        "y": 1000,
        "wires": [
            [
                "66afd50db05663c9"
            ]
        ]
    },
    {
        "id": "6f327f98ae7a491a",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "COPIA IN Inject node - msg.payload.transactionHash",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload.transactionHash",
        "targetType": "msg",
        "statusVal": "payload.transactionHash",
        "statusType": "auto",
        "x": 760,
        "y": 1020,
        "wires": []
    },
    {
        "id": "2702ed6af1662bca",
        "type": "inject",
        "z": "8216168554436ffe",
        "name": "PoE v5",
        "props": [
            {
                "p": "payload.contractAddress",
                "v": "0x37F61FAE3Dc0Ca2F6a518bB92b49D74734add547",
                "vt": "str"
            },
            {
                "p": "payload.transactionHash",
                "v": "0x6ca79996c4c3c0370a37fb463d4a247155b0a829d5979a7c58dd917c78c849c2",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 90,
        "y": 920,
        "wires": [
            [
                "b4e8aa4151e11245",
                "a7bc9573ce585cae"
            ]
        ]
    },
    {
        "id": "6737d52d345a10d5",
        "type": "inject",
        "z": "8216168554436ffe",
        "name": "PoE v9",
        "props": [
            {
                "p": "payload.contractAddress",
                "v": "0xe1db7c5eAEfe7C82912Cd1116684135B44202196",
                "vt": "str"
            },
            {
                "p": "payload.transactionHash",
                "v": "0x9165e910775480edbc0e7f29ba8c0c0a60ceef36e04b03b825803f165fc08b33",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "x": 100,
        "y": 840,
        "wires": [
            [
                "b4e8aa4151e11245",
                "a7bc9573ce585cae"
            ]
        ]
    },
    {
        "id": "eefd38b0581184e0",
        "type": "ethers-deploy",
        "z": "8216168554436ffe",
        "name": "PoE v5",
        "contract": "f75517d86e7efbf3",
        "ethCredentials": "63ac671491a13a4b",
        "hierarchicalDeterministicWalletIndex": 0,
        "hierarchicalDeterministicWalletIndexType": "num",
        "params": "[]",
        "paramsType": "json",
        "output": "payload",
        "outputType": "msg",
        "x": 300,
        "y": 1120,
        "wires": [
            [
                "b4e8aa4151e11245",
                "a7bc9573ce585cae"
            ]
        ]
    },
    {
        "id": "66afd50db05663c9",
        "type": "ethers-deploy",
        "z": "8216168554436ffe",
        "name": "PoE v9",
        "contract": "e57d43c9f8204433",
        "ethCredentials": "63ac671491a13a4b",
        "hierarchicalDeterministicWalletIndex": 0,
        "hierarchicalDeterministicWalletIndexType": "num",
        "params": "[]",
        "paramsType": "json",
        "output": "payload",
        "outputType": "msg",
        "x": 300,
        "y": 1000,
        "wires": [
            [
                "a7bc9573ce585cae",
                "b4e8aa4151e11245"
            ]
        ]
    },
    {
        "id": "c6e970e7fe675009",
        "type": "comment",
        "z": "8216168554436ffe",
        "name": "smart-contract node (a4b3ff3023c6a717)",
        "info": "",
        "x": 720,
        "y": 800,
        "wires": []
    },
    {
        "id": "21f23f030e17b1e0",
        "type": "comment",
        "z": "8216168554436ffe",
        "name": "Inject node (fa168e30edcc8ae8)",
        "info": "",
        "x": 690,
        "y": 960,
        "wires": []
    },
    {
        "id": "f888ec453c87513f",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "COPIA IN smart-contract node - Address",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload.contractAddress",
        "targetType": "msg",
        "statusVal": "payload.contractAddress",
        "statusType": "auto",
        "x": 720,
        "y": 740,
        "wires": []
    },
    {
        "id": "7f90c5942671f412",
        "type": "ethers-write-contract",
        "z": "8216168554436ffe",
        "name": "certify",
        "contract": "5a57ea1de491190d",
        "ethCredentials": "63ac671491a13a4b",
        "method": "certify",
        "contractAddress": "poeAddress",
        "contractAddressType": "flow",
        "params": "payload",
        "paramsType": "msg",
        "payment": "",
        "paymentType": "str",
        "hierarchicalDeterministicWalletIndex": 0,
        "hierarchicalDeterministicWalletIndexType": "num",
        "output": "payload",
        "outputType": "msg",
        "x": 290,
        "y": 1280,
        "wires": [
            [
                "904f5dafdc4a0aa7"
            ]
        ]
    },
    {
        "id": "c7130976bcd3cea7",
        "type": "ethers-read-contract",
        "z": "8216168554436ffe",
        "name": "check",
        "contract": "e57d43c9f8204433",
        "rpc": "f48988c5bc162b95",
        "method": "check",
        "contractAddress": "poeAddress",
        "contractAddressType": "flow",
        "params": "payload",
        "paramsType": "msg",
        "output": "payload",
        "outputType": "msg",
        "x": 290,
        "y": 1220,
        "wires": [
            [
                "e62daa6e6be44cde"
            ]
        ]
    },
    {
        "id": "e62daa6e6be44cde",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "result",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "payload",
        "statusType": "msg",
        "x": 610,
        "y": 1220,
        "wires": []
    },
    {
        "id": "904f5dafdc4a0aa7",
        "type": "change",
        "z": "8216168554436ffe",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "transaction",
                "pt": "flow",
                "to": "payload.transactionHash",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 650,
        "y": 1280,
        "wires": [
            []
        ]
    },
    {
        "id": "f35f15669d9382e5",
        "type": "inject",
        "z": "8216168554436ffe",
        "name": "[ flow.test, \"\" ]",
        "props": [
            {
                "p": "topic",
                "v": "test",
                "vt": "flow"
            },
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "[ $string(topic), \"\" ]",
        "payloadType": "jsonata",
        "x": 110,
        "y": 1280,
        "wires": [
            [
                "7f90c5942671f412"
            ]
        ]
    },
    {
        "id": "13cd10a1e5c74602",
        "type": "inject",
        "z": "8216168554436ffe",
        "name": "[ flow.test ]",
        "props": [
            {
                "p": "topic",
                "v": "test",
                "vt": "flow"
            },
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "[$string(topic)]",
        "payloadType": "jsonata",
        "x": 100,
        "y": 1220,
        "wires": [
            [
                "c7130976bcd3cea7"
            ]
        ]
    },
    {
        "id": "db8b4dfec09d334c",
        "type": "template",
        "z": "8216168554436ffe",
        "name": "sample result",
        "field": "payload",
        "fieldType": "msg",
        "format": "json",
        "syntax": "mustache",
        "template": "{\n    \"_msgid\": \"06ba71824fc60399\",\n    \"payload\": {\n        \"blockHash\": \"0x9b1afb5b2e37aefe6ee3411064eaec7ac082727354d94a9bfe8bc664dff24df5\",\n        \"blockNumber\": 12952138,\n        \"contractAddress\": null,\n        \"cumulativeGasUsed\": 2610890,\n        \"effectiveGasPrice\": 1070000007,\n        \"from\": \"0x7efc9d38581c7cb8372325c349ec5095d027b3dd\",\n        \"gasUsed\": 46830,\n        \"logsBloom\": \"0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\",\n        \"status\": true,\n        \"to\": \"0xe1989a90127a449bd22176299104cf6d2cb5ba86\",\n        \"transactionHash\": \"0x8f263d464d41833aab773550d0f16e67958debd264ad3b942796c7268d3bbe7d\",\n        \"transactionIndex\": 12,\n        \"type\": \"0x0\",\n        \"events\": {}\n    },\n    \"topic\": \"\",\n    \"summary\": {\n        \"function\": \"notarize\",\n        \"args\": [\n            \"{\\\"sender\\\":\\\"0x7efC9d38581c7Cb8372325c349Ec5095D027B3Dd\\\",\\\"storedValue\\\":0.8997582773418946,\\\"timestamp\\\":1662672346100}\"\n        ],\n        \"options\": {\n            \"from\": \"0x7efc9d38581c7cb8372325c349ec5095d027b3dd\",\n            \"data\": \"0x7183616c000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000727b2273656e646572223a22307837656643396433383538316337436238333732333235633334394563353039354430323742334464222c2273746f72656456616c7565223a302e383939373538323737333431383934362c2274696d657374616d70223a313636323637323334363130307d0000000000000000000000000000\",\n            \"gasPrice\": \"0x3fc6e787\",\n            \"gas\": \"0xb6ee\",\n            \"to\": \"0xe1989a90127a449bd22176299104cf6d2cb5ba86\",\n            \"nonce\": \"0x17\"\n        },\n        \"txHash\": \"0x8f263d464d41833aab773550d0f16e67958debd264ad3b942796c7268d3bbe7d\",\n        \"result\": {\n            \"blockHash\": \"0x9b1afb5b2e37aefe6ee3411064eaec7ac082727354d94a9bfe8bc664dff24df5\",\n            \"blockNumber\": 12952138,\n            \"contractAddress\": null,\n            \"cumulativeGasUsed\": 2610890,\n            \"effectiveGasPrice\": 1070000007,\n            \"from\": \"0x7efc9d38581c7cb8372325c349ec5095d027b3dd\",\n            \"gasUsed\": 46830,\n            \"logsBloom\": \"0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\",\n            \"status\": true,\n            \"to\": \"0xe1989a90127a449bd22176299104cf6d2cb5ba86\",\n            \"transactionHash\": \"0x8f263d464d41833aab773550d0f16e67958debd264ad3b942796c7268d3bbe7d\",\n            \"transactionIndex\": 12,\n            \"type\": \"0x0\",\n            \"events\": {}\n        }\n    }\n}",
        "output": "str",
        "x": 890,
        "y": 920,
        "wires": [
            []
        ]
    },
    {
        "id": "034847580fdf67ff",
        "type": "template",
        "z": "8216168554436ffe",
        "name": "sample tx",
        "field": "payload",
        "fieldType": "msg",
        "format": "json",
        "syntax": "mustache",
        "template": "{\n    \"_msgid\": \"06ba71824fc60399\",\n    \"payload\": \"0x8f263d464d41833aab773550d0f16e67958debd264ad3b942796c7268d3bbe7d\",\n    \"topic\": \"\",\n    \"summary\": {\n        \"function\": \"notarize\",\n        \"args\": [\n            \"{\\\"sender\\\":\\\"0x7efC9d38581c7Cb8372325c349Ec5095D027B3Dd\\\",\\\"storedValue\\\":0.8997582773418946,\\\"timestamp\\\":1662672346100}\"\n        ],\n        \"options\": {\n            \"from\": \"0x7efc9d38581c7cb8372325c349ec5095d027b3dd\",\n            \"data\": \"0x7183616c000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000727b2273656e646572223a22307837656643396433383538316337436238333732333235633334394563353039354430323742334464222c2273746f72656456616c7565223a302e383939373538323737333431383934362c2274696d657374616d70223a313636323637323334363130307d0000000000000000000000000000\",\n            \"gasPrice\": \"0x3fc6e787\",\n            \"gas\": \"0xb6ee\",\n            \"to\": \"0xe1989a90127a449bd22176299104cf6d2cb5ba86\",\n            \"nonce\": \"0x17\"\n        },\n        \"txHash\": \"0x8f263d464d41833aab773550d0f16e67958debd264ad3b942796c7268d3bbe7d\"\n    }\n}",
        "output": "str",
        "x": 900,
        "y": 840,
        "wires": [
            []
        ]
    },
    {
        "id": "6ff55d3af21e225d",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "get msg.hash",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 720,
        "y": 680,
        "wires": []
    },
    {
        "id": "85883bb489f63d76",
        "type": "change",
        "z": "8216168554436ffe",
        "name": "get msg.hash",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "hash",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 720,
        "y": 680,
        "wires": [
            [
                "ebe5e1fb24c6b6f6",
                "26563763794eb648"
            ]
        ]
    },
    {
        "id": "ebe5e1fb24c6b6f6",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "response",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "msg",
        "x": 920,
        "y": 680,
        "wires": []
    },
    {
        "id": "26563763794eb648",
        "type": "http response",
        "z": "8216168554436ffe",
        "name": "",
        "statusCode": "200",
        "headers": {},
        "x": 920,
        "y": 680,
        "wires": []
    },
    {
        "id": "7d0624303360a04e",
        "type": "change",
        "z": "8216168554436ffe",
        "d": true,
        "name": "stringify",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "$type(payload)=\"boolean\"?$string(payload):payload",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 760,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "7ac6c391ab875526",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "stringify",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 700,
        "y": 380,
        "wires": []
    },
    {
        "id": "caf4fa5bb3937840",
        "type": "function",
        "z": "8216168554436ffe",
        "name": "stringifly",
        "func": "msg.payload = typeof msg.payload == \"boolean\" ?\n        JSON.stringify(msg.payload) :\n        msg.payload ;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 700,
        "y": 380,
        "wires": [
            [
                "8500551254e1e9b5",
                "0ecb2935670eedb0"
            ]
        ]
    },
    {
        "id": "815d75abc7e4d8b4",
        "type": "comment",
        "z": "8216168554436ffe",
        "name": "VERIFICATION",
        "info": "",
        "x": 120,
        "y": 300,
        "wires": []
    },
    {
        "id": "60278780e9ce5b5f",
        "type": "comment",
        "z": "8216168554436ffe",
        "name": "NOTARIZATION",
        "info": "",
        "x": 120,
        "y": 180,
        "wires": []
    },
    {
        "id": "fcee27b713049f9e",
        "type": "comment",
        "z": "8216168554436ffe",
        "name": "NULLIFICATION",
        "info": "",
        "x": 120,
        "y": 480,
        "wires": []
    },
    {
        "id": "1ce2ed019d453080",
        "type": "change",
        "z": "8216168554436ffe",
        "name": "push info",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "[payload, req.query.info? req.query.info: \"\"]",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 480,
        "y": 560,
        "wires": [
            [
                "82fb6c1bb398a281"
            ]
        ]
    },
    {
        "id": "f5a154b3f80783c6",
        "type": "function",
        "z": "8216168554436ffe",
        "name": "set info",
        "func": "if (!msg.req.query.info)\n    msg.req.query.info = JSON.stringify(msg.payload);\n\nvar info = msg.req.query.info;\n\nnode.status({ fill:\"blue\", shape:\"ring\", text:info });\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "keccak256",
                "module": "keccak256"
            }
        ],
        "x": 280,
        "y": 620,
        "wires": [
            [
                "4d22f6835a24e79f"
            ]
        ]
    },
    {
        "id": "a5cbdce91d99f7d9",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "complete",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 920,
        "y": 560,
        "wires": []
    },
    {
        "id": "86580d3f55d8bf5a",
        "type": "inject",
        "z": "8216168554436ffe",
        "name": "[post] /nullify",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "req.query",
                "v": "{}",
                "vt": "json"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "test",
        "payloadType": "flow",
        "x": 110,
        "y": 620,
        "wires": [
            [
                "f5a154b3f80783c6"
            ]
        ]
    },
    {
        "id": "aa4644977ca396f9",
        "type": "http in",
        "z": "8216168554436ffe",
        "name": "",
        "url": "/nullify",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 110,
        "y": 620,
        "wires": [
            [
                "f5a154b3f80783c6"
            ]
        ]
    },
    {
        "id": "e960a6744bf16860",
        "type": "comment",
        "z": "8216168554436ffe",
        "name": "HISTORY",
        "info": "",
        "x": 100,
        "y": 660,
        "wires": []
    },
    {
        "id": "73973bdbf212b670",
        "type": "inject",
        "z": "8216168554436ffe",
        "name": "[post] /history",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "test",
        "payloadType": "flow",
        "x": 110,
        "y": 740,
        "wires": [
            [
                "7f98f7da72bd6f24"
            ]
        ]
    },
    {
        "id": "726bbd5454f0abde",
        "type": "http in",
        "z": "8216168554436ffe",
        "name": "",
        "url": "/history",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 110,
        "y": 740,
        "wires": [
            [
                "7f98f7da72bd6f24"
            ]
        ]
    },
    {
        "id": "663337fc8f5ab09c",
        "type": "debug",
        "z": "8216168554436ffe",
        "name": "debug 3",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 405,
        "y": 1560,
        "wires": [],
        "l": false
    },
    {
        "id": "1a39da4cc408a630",
        "type": "comment",
        "z": "8216168554436ffe",
        "name": "ALREADY DEPLOYED",
        "info": "Contract address:\n0x71CC7f2efE44A426948eAB3476C2fb2bBf7E2ece",
        "x": 120,
        "y": 1120,
        "wires": []
    },
    {
        "id": "f51302a67e786aa8",
        "type": "comment",
        "z": "8216168554436ffe",
        "name": "ALREADY DEPLOYED",
        "info": "Contract address:\n0x71CC7f2efE44A426948eAB3476C2fb2bBf7E2ece",
        "x": 120,
        "y": 1060,
        "wires": []
    },
    {
        "id": "92f354023b07a0d4",
        "type": "comment",
        "z": "8216168554436ffe",
        "name": "ALREADY DEPLOYED",
        "info": "Contract address:\n0x71CC7f2efE44A426948eAB3476C2fb2bBf7E2ece",
        "x": 120,
        "y": 1000,
        "wires": []
    },
    {
        "id": "114d8f213dc35b5a",
        "type": "comment",
        "z": "8216168554436ffe",
        "g": "d02f3c31e2484257",
        "name": "PoE v9",
        "info": "## Address\n``0xD2B4BE223D92788706284F7f097fa883eEF64977``\n## Creator\n0x7efC9d38581c7Cb8372325c349Ec5095D027B3Dd\n## Etherscan\nhttps://sepolia.etherscan.io/address/0xd2b4be223d92788706284f7f097fa883eef64977",
        "x": 730,
        "y": 260,
        "wires": []
    },
    {
        "id": "d82001d3b5da9077",
        "type": "change",
        "z": "2835520133019989",
        "g": "163a853d334c2fd4",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "auto",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 410,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "17144426a7e34011",
        "type": "ui_slider",
        "z": "2835520133019989",
        "g": "163a853d334c2fd4",
        "name": "TT001",
        "label": "<b class=\"fa fa-2x fa-thermometer\"/>",
        "tooltip": "",
        "group": "034f76c56f2d3e30",
        "order": 5,
        "width": 3,
        "height": 1,
        "passthru": true,
        "outs": "end",
        "topic": "topic",
        "topicType": "msg",
        "min": "-25",
        "max": "150",
        "step": "1",
        "className": "",
        "x": 110,
        "y": 180,
        "wires": [
            [
                "dedf9af496c727fd"
            ]
        ]
    },
    {
        "id": "bd4942206847a1f1",
        "type": "ui_button",
        "z": "2835520133019989",
        "g": "163a853d334c2fd4",
        "name": "",
        "group": "034f76c56f2d3e30",
        "order": 8,
        "width": 3,
        "height": 1,
        "passthru": true,
        "label": "Send",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "email",
        "payload": "measurements",
        "payloadType": "flow",
        "topic": "topic",
        "topicType": "msg",
        "x": 670,
        "y": 360,
        "wires": [
            [
                "da5619d6c248edc5"
            ]
        ]
    },
    {
        "id": "a3e4a46d1ac76e31",
        "type": "inject",
        "z": "2835520133019989",
        "g": "163a853d334c2fd4",
        "name": "every 5s",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "TT002",
        "payload": "$round(175*$random())-25",
        "payloadType": "jsonata",
        "x": 120,
        "y": 240,
        "wires": [
            [
                "e967196d554755d6"
            ]
        ]
    },
    {
        "id": "53504fe8a3958a71",
        "type": "ui_chart",
        "z": "2835520133019989",
        "g": "163a853d334c2fd4",
        "name": "",
        "group": "034f76c56f2d3e30",
        "order": 7,
        "width": 0,
        "height": 0,
        "label": "",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "60",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 670,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "8b27aea867042be3",
        "type": "ui_slider",
        "z": "2835520133019989",
        "g": "163a853d334c2fd4",
        "name": "TT002",
        "label": "<strong class=\"fa fa-2x fa-thermometer\"/>",
        "tooltip": "",
        "group": "034f76c56f2d3e30",
        "order": 6,
        "width": 3,
        "height": 1,
        "passthru": true,
        "outs": "end",
        "topic": "topic",
        "topicType": "msg",
        "min": "-25",
        "max": "150",
        "step": "1",
        "className": "",
        "x": 110,
        "y": 300,
        "wires": [
            [
                "7d68d812f6c8a3e6"
            ]
        ]
    },
    {
        "id": "0c56506e984d1260",
        "type": "inject",
        "z": "2835520133019989",
        "g": "163a853d334c2fd4",
        "name": "every 1s",
        "props": [
            {
                "p": "timeinstant",
                "v": "$now()",
                "vt": "jsonata"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": "5",
        "topic": "",
        "x": 120,
        "y": 360,
        "wires": [
            [
                "f3db2288d49e787b"
            ]
        ]
    },
    {
        "id": "08369715890d9f1b",
        "type": "inject",
        "z": "2835520133019989",
        "g": "163a853d334c2fd4",
        "name": "every 5s",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "TT001",
        "payload": "$round(175*$random())-25",
        "payloadType": "jsonata",
        "x": 120,
        "y": 120,
        "wires": [
            [
                "b9f65ffccc50adf9"
            ]
        ]
    },
    {
        "id": "bfc7b3464ed96b73",
        "type": "switch",
        "z": "2835520133019989",
        "g": "163a853d334c2fd4",
        "name": "auto?",
        "property": "auto",
        "propertyType": "flow",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 390,
        "y": 120,
        "wires": [
            [
                "17144426a7e34011"
            ]
        ]
    },
    {
        "id": "f727a63929e72d53",
        "type": "link out",
        "z": "2835520133019989",
        "name": "link out 1",
        "mode": "link",
        "links": [
            "41cd9aa4099b72f5",
            "ec00d6b901c362d6",
            "460a5149f518619d"
        ],
        "x": 815,
        "y": 420,
        "wires": []
    },
    {
        "id": "41cd9aa4099b72f5",
        "type": "link in",
        "z": "2835520133019989",
        "g": "ae95b855fca41e1f",
        "name": "link in 1",
        "links": [
            "f727a63929e72d53",
            "3f62d43724c15ed1"
        ],
        "x": 55,
        "y": 1900,
        "wires": [
            [
                "c74c71f238da619a"
            ]
        ]
    },
    {
        "id": "1331049f46a60c30",
        "type": "comment",
        "z": "2835520133019989",
        "g": "163a853d334c2fd4",
        "name": "NGSI Agent (IoT)",
        "info": "",
        "x": 660,
        "y": 60,
        "wires": []
    },
    {
        "id": "76a0f9d7adf29ec3",
        "type": "http request",
        "z": "2835520133019989",
        "name": "GET",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "{{{orion}}}/v2/subscriptions/",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "authtoken"
            }
        ],
        "x": 410,
        "y": 2080,
        "wires": [
            [
                "85630e70033d7ec9",
                "78bb37a30775fa1d"
            ]
        ]
    },
    {
        "id": "0c0750c4b7941854",
        "type": "inject",
        "z": "2835520133019989",
        "name": "list subs",
        "props": [],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 120,
        "y": 2080,
        "wires": [
            [
                "bcef8d2a185d5290"
            ]
        ]
    },
    {
        "id": "d06b5bc8a198b0ee",
        "type": "debug",
        "z": "2835520133019989",
        "name": "get flow.latest",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload.id",
        "statusType": "msg",
        "x": 740,
        "y": 2120,
        "wires": []
    },
    {
        "id": "ad3ab4e7ab6e2f7b",
        "type": "inject",
        "z": "2835520133019989",
        "name": "unsub all",
        "props": [
            {
                "p": "orion",
                "v": "orion",
                "vt": "flow"
            },
            {
                "p": "x-auth-token",
                "v": "token",
                "vt": "flow"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 680,
        "y": 2040,
        "wires": [
            [
                "71e27a665ab40ec8"
            ]
        ]
    },
    {
        "id": "71e27a665ab40ec8",
        "type": "http request",
        "z": "2835520133019989",
        "name": "GET /v2/subscriptions/",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "{{{orion}}}/v2/subscriptions/",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "x-auth-token"
            }
        ],
        "x": 180,
        "y": 1980,
        "wires": [
            [
                "43991fcb57cabd99",
                "01a871811dc27cf8"
            ]
        ]
    },
    {
        "id": "f57d00e34a0ebb40",
        "type": "http request",
        "z": "2835520133019989",
        "name": "DELETE /v2/subscriptions/{{id}}",
        "method": "DELETE",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "{{{orion}}}/v2/subscriptions/{{payload.id}}",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "Authorization",
                "keyValue": "",
                "valueType": "msg",
                "valueValue": "bearer"
            }
        ],
        "x": 730,
        "y": 1980,
        "wires": [
            [
                "6bcdef4175778be5",
                "775932cbe28b2eca"
            ]
        ]
    },
    {
        "id": "78bb37a30775fa1d",
        "type": "debug",
        "z": "2835520133019989",
        "name": "split",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "$count(payload) & \" subs\"",
        "statusType": "jsonata",
        "x": 550,
        "y": 2080,
        "wires": []
    },
    {
        "id": "85630e70033d7ec9",
        "type": "split",
        "z": "2835520133019989",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 550,
        "y": 2080,
        "wires": [
            [
                "4888ded9731f24bb"
            ]
        ]
    },
    {
        "id": "01a871811dc27cf8",
        "type": "debug",
        "z": "2835520133019989",
        "name": "split",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "$count(payload) & \" subs\"",
        "statusType": "jsonata",
        "x": 350,
        "y": 1980,
        "wires": []
    },
    {
        "id": "43991fcb57cabd99",
        "type": "split",
        "z": "2835520133019989",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 350,
        "y": 1980,
        "wires": [
            [
                "7da893bccdea441b"
            ]
        ]
    },
    {
        "id": "6bcdef4175778be5",
        "type": "join",
        "z": "2835520133019989",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 350,
        "y": 2040,
        "wires": [
            []
        ]
    },
    {
        "id": "1c2390e33b90f8e2",
        "type": "NGSI-Subscription",
        "z": "2835520133019989",
        "name": "",
        "endpoint": "15d84497.52381b",
        "protocol": "v2",
        "ldContext": "https://schema.lab.fiware.org/ld/context",
        "entityType": "TemperatureSensor",
        "watchedAttributes": "",
        "q": "temperature>75",
        "notificationMode": "normalized",
        "notificationEndpoint": "https://fiware.zeldalegends.repl.co/notify",
        "notificationAttributes": "",
        "mimeType": "application/ld+json",
        "x": 330,
        "y": 2220,
        "wires": [
            [
                "cf32562831f57c58"
            ]
        ]
    },
    {
        "id": "bcfe3c20fb082d2e",
        "type": "http in",
        "z": "2835520133019989",
        "name": "",
        "url": "/notify",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 310,
        "y": 2260,
        "wires": [
            [
                "11807373bd7fc655"
            ]
        ]
    },
    {
        "id": "a8e5b8cfb072fcc6",
        "type": "inject",
        "z": "2835520133019989",
        "name": "ADS",
        "props": [],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 130,
        "y": 2220,
        "wires": [
            [
                "1c2390e33b90f8e2"
            ]
        ]
    },
    {
        "id": "11807373bd7fc655",
        "type": "debug",
        "z": "2835520133019989",
        "name": "notification",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload.data[0].temperature.value",
        "statusType": "msg",
        "x": 610,
        "y": 2260,
        "wires": []
    },
    {
        "id": "c997036d8e6e8d19",
        "type": "debug",
        "z": "2835520133019989",
        "name": "subscription",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload.statusCode",
        "statusType": "msg",
        "x": 730,
        "y": 2220,
        "wires": []
    },
    {
        "id": "4888ded9731f24bb",
        "type": "change",
        "z": "2835520133019989",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "latest",
                "pt": "flow",
                "to": "payload.id",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 740,
        "y": 2120,
        "wires": [
            []
        ]
    },
    {
        "id": "d0a4cea0bc5a87a6",
        "type": "http request",
        "z": "2835520133019989",
        "name": "DELETE /v2/subscriptions/{{id}}",
        "method": "DELETE",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "{{{orion}}}/v2/subscriptions/{{id}}",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "authtoken"
            }
        ],
        "x": 370,
        "y": 2140,
        "wires": [
            [
                "ebc4bc2e8da1de39",
                "76a0f9d7adf29ec3"
            ]
        ]
    },
    {
        "id": "2eca018d31faaa85",
        "type": "exec",
        "z": "2835520133019989",
        "command": "curl -iX DELETE --url 'http://localhost:1026/v2/subscriptions/'",
        "addpay": "",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "winHide": false,
        "oldrc": false,
        "name": "",
        "x": 440,
        "y": 2440,
        "wires": [
            [
                "55e1125a9af0f8c5"
            ],
            [
                "55e1125a9af0f8c5"
            ],
            []
        ]
    },
    {
        "id": "5bc2d1846b3f5093",
        "type": "inject",
        "z": "2835520133019989",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 120,
        "y": 2440,
        "wires": [
            [
                "2eca018d31faaa85"
            ]
        ]
    },
    {
        "id": "55e1125a9af0f8c5",
        "type": "debug",
        "z": "2835520133019989",
        "name": "debug 6",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 640,
        "y": 2520,
        "wires": []
    },
    {
        "id": "22f4674dfd8b7609",
        "type": "exec",
        "z": "2835520133019989",
        "command": "curl -X --url 'http://orion.lab.fiware.org:1026/v2/subscriptions' -H 'X-Auth-token: i4qvewZfsjehPTDteCahnmPXsvbS2k'",
        "addpay": "",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "winHide": false,
        "oldrc": false,
        "name": "",
        "x": 610,
        "y": 2320,
        "wires": [
            [
                "ed889580ea1ecfae"
            ],
            [
                "ed889580ea1ecfae"
            ],
            []
        ]
    },
    {
        "id": "681049d47916cd85",
        "type": "inject",
        "z": "2835520133019989",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 120,
        "y": 2320,
        "wires": [
            [
                "22f4674dfd8b7609"
            ]
        ]
    },
    {
        "id": "ed889580ea1ecfae",
        "type": "debug",
        "z": "2835520133019989",
        "name": "debug 7",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 620,
        "y": 2380,
        "wires": []
    },
    {
        "id": "b5fc2e0aee8c3430",
        "type": "inject",
        "z": "2835520133019989",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 120,
        "y": 2520,
        "wires": [
            [
                "55e1125a9af0f8c5"
            ]
        ]
    },
    {
        "id": "775932cbe28b2eca",
        "type": "debug",
        "z": "2835520133019989",
        "name": "debug 8",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 520,
        "y": 2040,
        "wires": []
    },
    {
        "id": "7da893bccdea441b",
        "type": "change",
        "z": "2835520133019989",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "bearer",
                "pt": "msg",
                "to": "\"Bearer \" & token",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 500,
        "y": 1980,
        "wires": [
            [
                "f57d00e34a0ebb40"
            ]
        ]
    },
    {
        "id": "cf32562831f57c58",
        "type": "change",
        "z": "2835520133019989",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 540,
        "y": 2220,
        "wires": [
            [
                "c997036d8e6e8d19"
            ]
        ]
    },
    {
        "id": "ca97a70289c5301e",
        "type": "comment",
        "z": "2835520133019989",
        "g": "ae95b855fca41e1f",
        "name": "Context Broker",
        "info": "",
        "x": 660,
        "y": 1900,
        "wires": []
    },
    {
        "id": "7d68d812f6c8a3e6",
        "type": "change",
        "z": "2835520133019989",
        "g": "163a853d334c2fd4",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "measurements.Sensor:002",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 340,
        "y": 300,
        "wires": [
            [
                "53504fe8a3958a71",
                "4cdde665e0c797c9"
            ]
        ]
    },
    {
        "id": "dedf9af496c727fd",
        "type": "change",
        "z": "2835520133019989",
        "g": "163a853d334c2fd4",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "measurements.Sensor:001",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 340,
        "y": 180,
        "wires": [
            [
                "53504fe8a3958a71",
                "97d93f02a47ef417"
            ]
        ]
    },
    {
        "id": "bfc70665473a63fc",
        "type": "switch",
        "z": "2835520133019989",
        "g": "163a853d334c2fd4",
        "name": "auto?",
        "property": "auto",
        "propertyType": "flow",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 390,
        "y": 360,
        "wires": [
            [
                "b4781f68ded14f8b"
            ]
        ]
    },
    {
        "id": "f96e3fad8a4b2326",
        "type": "debug",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "name": "set flow.authtoken",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "payload",
        "statusType": "msg",
        "x": 610,
        "y": 1260,
        "wires": []
    },
    {
        "id": "044144fe96059c80",
        "type": "change",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "authtoken",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 610,
        "y": 1260,
        "wires": [
            []
        ],
        "icon": "font-awesome/fa-ticket"
    },
    {
        "id": "959f0d477e6a63b5",
        "type": "http request",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "name": "POST /oauth2/token",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "{{{keyrock}}}/oauth2/token",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "Authorization",
                "keyValue": "",
                "valueType": "msg",
                "valueValue": "authorization"
            },
            {
                "keyType": "Content-Type",
                "keyValue": "",
                "valueType": "msg",
                "valueValue": "content-type"
            }
        ],
        "x": 360,
        "y": 1200,
        "wires": [
            [
                "d420a0a4b53fba4f",
                "b8ee46b807a3b5b4",
                "44ed83480cd91188"
            ]
        ]
    },
    {
        "id": "681e4e8a74d1f258",
        "type": "change",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "name": "set msg.headers",
        "rules": [
            {
                "t": "set",
                "p": "authorization",
                "pt": "msg",
                "to": "\"Basic \" & clientCredentials",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "content-type",
                "pt": "msg",
                "to": "application/x-www-form-urlencoded",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 610,
        "y": 1140,
        "wires": [
            [
                "503adc64135b4058"
            ]
        ]
    },
    {
        "id": "f85c232a76a4c03b",
        "type": "change",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "clientCredentials",
                "pt": "msg",
                "to": "clientId & \":\" & clientSecret",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 170,
        "y": 1140,
        "wires": [
            [
                "1e6023c9b749b822"
            ]
        ]
    },
    {
        "id": "5f0a91483b30fa59",
        "type": "inject",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "name": "INIT",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.1",
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 110,
        "y": 600,
        "wires": [
            [
                "d59a29718da6b51c",
                "c7ac4d1a45d58707"
            ]
        ]
    },
    {
        "id": "d64b4ec7587b45e4",
        "type": "http request",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "name": "GET /v2/entities/",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "{{{orion}}}/v2/entities/",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "payload"
            }
        ],
        "x": 380,
        "y": 1380,
        "wires": [
            [
                "328cc84743ca3128"
            ]
        ]
    },
    {
        "id": "328cc84743ca3128",
        "type": "debug",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "name": "orion db",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "$count(payload) & \" entities\"\t",
        "statusType": "jsonata",
        "x": 580,
        "y": 1380,
        "wires": []
    },
    {
        "id": "04b823ff432d6864",
        "type": "debug",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "name": "orion version",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload.orion.version",
        "statusType": "msg",
        "x": 590,
        "y": 1320,
        "wires": []
    },
    {
        "id": "1e6023c9b749b822",
        "type": "base64",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "name": "",
        "action": "str",
        "property": "clientCredentials",
        "x": 400,
        "y": 1140,
        "wires": [
            [
                "681e4e8a74d1f258"
            ]
        ]
    },
    {
        "id": "503adc64135b4058",
        "type": "template",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "name": "set msg.payload",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "username={{username}}&password={{password}}&grant_type=password",
        "output": "str",
        "x": 140,
        "y": 1200,
        "wires": [
            [
                "959f0d477e6a63b5"
            ]
        ]
    },
    {
        "id": "847885d49ce80b35",
        "type": "http request",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "name": "GET /version",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "{{{orion}}}/version",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": true,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "payload"
            }
        ],
        "x": 390,
        "y": 1320,
        "wires": [
            [
                "04b823ff432d6864"
            ]
        ]
    },
    {
        "id": "2cd1f8e7896af830",
        "type": "ui_text_input",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "name": "",
        "label": "Client ID",
        "tooltip": "",
        "group": "776e063e75a19d4d",
        "order": 8,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 400,
        "y": 960,
        "wires": [
            [
                "d8d4807bf2d208fd"
            ]
        ]
    },
    {
        "id": "347c40e21bcdd664",
        "type": "ui_text_input",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "name": "",
        "label": "Client Secret",
        "tooltip": "",
        "group": "776e063e75a19d4d",
        "order": 9,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 390,
        "y": 1020,
        "wires": [
            [
                "a4e4937289e1ae67"
            ]
        ]
    },
    {
        "id": "376e723fa615d072",
        "type": "change",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "name": "flow.fiware.clientId",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "fiware.clientId",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 150,
        "y": 960,
        "wires": [
            [
                "2cd1f8e7896af830",
                "e3e544b0661083a2"
            ]
        ]
    },
    {
        "id": "91b76b15b6e22c04",
        "type": "change",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "name": "flow.fiware.clientSecret",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "fiware.clientSecret",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 160,
        "y": 1020,
        "wires": [
            [
                "347c40e21bcdd664",
                "c52a1b07e4612d3b"
            ]
        ]
    },
    {
        "id": "62ee7fd3504063e2",
        "type": "ui_button",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "name": "",
        "group": "776e063e75a19d4d",
        "order": 11,
        "width": 3,
        "height": 1,
        "passthru": true,
        "label": "Generate token",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "fa-ticket",
        "payload": "settings",
        "payloadType": "flow",
        "topic": "topic",
        "topicType": "msg",
        "x": 380,
        "y": 1080,
        "wires": [
            [
                "451a1609b31cc04c"
            ]
        ]
    },
    {
        "id": "18d68432b70391cb",
        "type": "ui_text_input",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "name": "",
        "label": "Username",
        "tooltip": "",
        "group": "776e063e75a19d4d",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "email",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 390,
        "y": 840,
        "wires": [
            [
                "51437996a0e5d92a"
            ]
        ]
    },
    {
        "id": "faf9e34a7214d9b0",
        "type": "ui_text_input",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "name": "",
        "label": "Password",
        "tooltip": "",
        "group": "776e063e75a19d4d",
        "order": 7,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "password",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 400,
        "y": 900,
        "wires": [
            [
                "e956725a02dc480d"
            ]
        ]
    },
    {
        "id": "2d7e49ca90b1eed1",
        "type": "change",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "name": "flow.fiware.username",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "fiware.username",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 160,
        "y": 840,
        "wires": [
            [
                "18d68432b70391cb",
                "ef80eeb8ddc16f5a"
            ]
        ]
    },
    {
        "id": "2e85ad851bd880f7",
        "type": "change",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "name": "flow.fiware.password",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "fiware.password",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 160,
        "y": 900,
        "wires": [
            [
                "faf9e34a7214d9b0",
                "521a5d5342e60af4"
            ]
        ]
    },
    {
        "id": "ee377e03d9c6bf1c",
        "type": "change",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "name": "flow.fiware.orion",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "fiware.orion",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 140,
        "y": 720,
        "wires": [
            [
                "0fbca4a98c9682da",
                "34494e3c8d984bc2",
                "44af20af11cbc163"
            ]
        ]
    },
    {
        "id": "2daaee1bd1c0b7c1",
        "type": "change",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "name": "flow.fiware.keyrock",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "fiware.keyrock",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 150,
        "y": 780,
        "wires": [
            [
                "6521f0f79ca9f189",
                "14e64137c37dea14",
                "1c8ccc2e4afcc7c0"
            ]
        ]
    },
    {
        "id": "49d7dfae1bf0d692",
        "type": "comment",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "name": "Orion PEP Proxy",
        "info": "",
        "x": 660,
        "y": 600,
        "wires": []
    },
    {
        "id": "0fbca4a98c9682da",
        "type": "ui_text",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "group": "776e063e75a19d4d",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Orion",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "x": 410,
        "y": 720,
        "wires": []
    },
    {
        "id": "6521f0f79ca9f189",
        "type": "ui_text",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "group": "776e063e75a19d4d",
        "order": 5,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Keyrock",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "x": 400,
        "y": 780,
        "wires": []
    },
    {
        "id": "34494e3c8d984bc2",
        "type": "debug",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "name": "set flow.orion",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 590,
        "y": 720,
        "wires": []
    },
    {
        "id": "14e64137c37dea14",
        "type": "debug",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "name": "set flow.keyrock",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 600,
        "y": 780,
        "wires": []
    },
    {
        "id": "ef80eeb8ddc16f5a",
        "type": "debug",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "name": "set flow.username",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 610,
        "y": 840,
        "wires": []
    },
    {
        "id": "521a5d5342e60af4",
        "type": "debug",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "name": "set flow.password",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "$pad(\"\",$length(payload),\"*\")\t",
        "statusType": "jsonata",
        "x": 610,
        "y": 900,
        "wires": []
    },
    {
        "id": "e3e544b0661083a2",
        "type": "debug",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "name": "set flow.clientId",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 600,
        "y": 960,
        "wires": []
    },
    {
        "id": "c52a1b07e4612d3b",
        "type": "debug",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "name": "set flow.clientSecrets",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 620,
        "y": 1020,
        "wires": []
    },
    {
        "id": "9d9aa766086fbc1a",
        "type": "delay",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "name": "",
        "pauseType": "delay",
        "timeout": "250",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 130,
        "y": 1080,
        "wires": [
            [
                "62ee7fd3504063e2"
            ]
        ]
    },
    {
        "id": "51437996a0e5d92a",
        "type": "change",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "username",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 610,
        "y": 840,
        "wires": [
            []
        ]
    },
    {
        "id": "e956725a02dc480d",
        "type": "change",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "password",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 610,
        "y": 900,
        "wires": [
            []
        ]
    },
    {
        "id": "a4e4937289e1ae67",
        "type": "change",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "clientSecret",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 620,
        "y": 1020,
        "wires": [
            []
        ]
    },
    {
        "id": "d8d4807bf2d208fd",
        "type": "change",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "clientId",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 960,
        "wires": [
            []
        ]
    },
    {
        "id": "44af20af11cbc163",
        "type": "change",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "orion",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 590,
        "y": 720,
        "wires": [
            []
        ]
    },
    {
        "id": "1c8ccc2e4afcc7c0",
        "type": "change",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "keyrock",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 780,
        "wires": [
            []
        ]
    },
    {
        "id": "97d93f02a47ef417",
        "type": "ui_gauge",
        "z": "2835520133019989",
        "g": "163a853d334c2fd4",
        "name": "",
        "group": "034f76c56f2d3e30",
        "order": 3,
        "width": 3,
        "height": 2,
        "gtype": "gage",
        "title": "TT001",
        "label": "°C",
        "format": "{{value}}",
        "min": "-25",
        "max": "150",
        "colors": [
            "#e6e600",
            "#00b500",
            "#ca3838"
        ],
        "seg1": "25",
        "seg2": "75",
        "className": "",
        "x": 670,
        "y": 180,
        "wires": []
    },
    {
        "id": "47de5e40f3ae0be4",
        "type": "ui_template",
        "z": "2835520133019989",
        "g": "163a853d334c2fd4",
        "group": "034f76c56f2d3e30",
        "name": "HYPERRIDE",
        "order": 1,
        "width": 6,
        "height": 2,
        "format": "<img style=\"height: 96px;\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXcAAACGCAMAAAARpzrEAAABL1BMVEX////5sjNpb3T5sS8okM/4rSz2ohobfMD0mAonjs75ryXzkgEsqOArm9f6uVD81qLExsf5rRj7y4T6xXb1nRL1mwD3piBxdnsoltT96c8AjtK20+v+8uT5vmWf0e73slT4v4KArNYlg8WIt974qA397NsSc7kaot761bGlqKvzjgDa29wAesLs7O3b5fHx9vq9v8HNz9D+9/H94r75yZn2r2aJjZGfoqViaW5vdXl+g4cAb7iws7WTl5oAaLXT5vT2pTyqw9+butv71qdisOD3q0Bqnc3yhgBVnNJyteFpmcrS3u395cf7zY35tUGIweb0my/6vFn1qFT4wo9NjcY8gb8AW7CJrdP4tV+QxOf70JL4wIX1nyb61LP5zKSs1u9luOXCqorbzr3Ew7ilo5HL9TceAAAQuklEQVR4nO2cC1/ayBqHI1jRoFVKKeClLRa1CBhABQng3Va3Vqvb3dqb3T17vv9nOHO/ZRISoGrPzv/XCplMJpMnb2beeWeCZRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGf0/qLFCtKjdTfeu8G8rjVGde3ElWIF5PLVw9jb29jbof/6x53hODPYh7eEDN3ykqbJvXqR3lvdcPsoXU1hL2t0XZG9xcYlmLKbDlt1Pj5KTGVGTXEmgdYj25XpS0jpXcv/la4H+8zVFM0S5XO748odIZHl8HqmCthaW4fdlQQmgCtTU6asFCWWhs7rakbXL9Oen8NeeT40hxfXcH8fx7tRiwx4jSq30LbXRaJwDzc5+mQWCX0GKN9vi6xuAewLrqaok4j7plXAX3l6zyjyfFqXyB+z32Hnnc1jzaGthfhxoSha/B5WPC7zGhYSoSmJV0O5vIZlDheZuHZGcY/HH/sUt5mcXrbRd9CpTfHaSnj3Kq/jzX59mMk8H5A70disUd4j+bBDuQJUp1uQEcO/8EQF7BO7WWJwa/KYu68rRk8epYhHclCX7kapnWJD/s5Ovr+XOZGULoh+QOwPfl/tM7ngw7oD8QV/u0bBH4Z5nBj+mZmu8vyqmbDsejxdBxiUPdsodayKTUa1+5asXfUjuybcrIbnP5H4MyJ2B9+Xe2Q3dpUblDtoP9N0uXqnOz1IK54vb763+3AF51Dent8SeIn8zmRmIe/I6LPeZ3KDclzsbfbhHwx6JeyMFydrvPS4nfxIeWSL3Z1ILL4JHBv8CdKrp17yYxta3ScGzWZe4yz6NbPCLEncdcMp9IZD7vIg7oZCXuVdWoWfDfZuI2CNxt2ZTqYsjTa4LueWn3O33R4K+pE8ynDvE/QL2ppnMzSZvdc5voY6OwP9b1G4z7tu3ora2rzn79VuR+9pfPySdHec497Mg7qcLB6JeFaYqHH5lQeReKUhZD3W+/ui4W2ltj7rJzP3KErkXVYdz8cUEbWheEu4Q/WTev36Ue/K7uqfByaOGhnF/7inkc05uaHy4v/Ic6BxWmPl/hAmU++qCJ280ReNO1fgiDp6oZx8nuRh3L88XlPuJxbhPZAIGBIz7a+++fWbxcCuAu3VJuWPSoblb1gYDj5qSe+WeX0rZqXO2+Z5yt7/ghADuedrKZ6zhuX+nBv8WbgVxd6jB59DgKQJ3a6EiNjR3zB25h0SbY9B5iV/Q7UXWytgkJYC7RZv4zOLw3BuMO+wggrhbg3O3aF9bObTumnvqgln3ecrGtyJFO9g0NXc2nArifjJC7tZb2rFCqwjkfjw490PStybeWHfL3U6J1xynvostF0A7VesOuX+4C+7vKkLHenfc46n3UgpzXkhrTnuAMd4UheK+8qtwdyj3hHWH3FOesSkDnYKtqnoboIK4pye4Ax+Ke/Jfyf2Cttl8aLNYpKShL0lvwlicHxTK3s/DcbdeTyb7c+/brz5c7oGzGedjgtUzvxE4l1/Yd+5XjrR9t+DUR79+ta8f+YC5X+VVnVNsjaWU5L9TG49fNVinKj4ukbnDWRGv2DErH5J9/Ei4FcidjVfRgH4E3A8cEpFxRGkL0Iq7IylFbD5vthiXx01sBsS+ktp6qlD+u9CvToiTfJAj+vNNOGorqeN+Trnvw61Q46bI41Uf7onOKg7JHOwK+lNbgFaMuyLbJtDyF/aYGidgXSvzKWfF3VHHq9p5vgyCSfuVxv6tt+7btHnfhltB3H8Q7rkZtDk8984bvLOwK830aQvQyod7ihp7GkfWZe4rRTk3H7wiBXB//Cwi95fXlLynrFtq7uuobwngvseGq5/R9tDcO2Qa5GNndZTc40XixpzHbdaFimJjVLJXBuwbj8yfUHOfuLFCck8mtyyvGo3v2ywcOYmSGPcfCre9Mx6OxC3wkNwrCdzGOKuKhuRuXxDjIsbu5d6QjlJ9UBZ/X0qLOhGmPjIwyhCKO2jxv5H7910IuQtTH555PnkxB4++z+TIozAcd9rGvOvI6wmG5Z56QnbFuVUr3HnXinYqbQCf53vmJ+jOhOUOyH/FBTe2ldU0CDuJzPef55u/tEbAvUNcyE+7iVFwj9tYKRreSsOZaj/ufHGB2qlaoeZXX1iW4s+Iq5aQV/ONc+cmfw5HUQL09bfXtGb9uOem2QKaIbh3PuKmylnelRctDejPxK/ON7HIdeTh9/MLP+78OVE61VDc8UiJ+e+bizoJ3Ccn14nJW19Fk9++5Y9aMPdjccHYENxJh7pwEHZlXz/u+vGqz3wTUJo1/R6vpS/3DI4hR4mLATsnuRavRfLXbP6vn71P8/52cO5En3bvZ57P4tMdmtVjfbhPZMgYKBJ3YPIvSdr3SYH8+j4x+f7rxXLUHgfjXqEpG8urnV+Me7GYyTyhbUM07hAyHbRuiR3rOk7T+zPyuiUCfhDuiU6BJBx27m1e2wrHXVweCfX4xZMjoVWKxP3DPtCHbZLcENYJ4+Eq99+njyVNC44kHq4OMu/B1khufFy9v/UEVijunnGTokjzHuo6DsGnxAbvN26ynEs+bsIuTSTuCwlAfZkukITG/uC5B6yLgRpyvmmRku8bJ3jOuA8QJwAuO5rSxhurI44D21H9mfvnDsmjCPz673AjKC42TbnjFcGRuFcqBb4x6vi7faXf/bC5I/LrSezo/KR45GGBOv4/Yd0SDQ149NC5W3Agtd5vnR6Pv0fnTqm/QyuCR8vdF/uvwN2ybvvG360h5j2QNk4raEHwSLn7Y3/Y3BelSv1E7s5pJZFAfesouQdgvxvuT09e6LQPDw/inhfeKoPv8w3LffyUa/wVi+c4hQ50JdF3Ns/3Uas/Qt+OfMrG2PU2dyfceQhYeq0yCd3DQO6gS73m6xj2LsFIdRju7FWPyukBo/6ugBbBE1eSv+8BX7MU3m7qoHcQdg8059YqX8SezKbeobkb7rr4+9OnYbgDJ/KDMPO6d7m2NiT35eVx4S2Cd6ckSoBf9wh8jxIG4MNzx9g2i/c4bhqKO5x7+l1I3LtUx6tQIbnPS9CthSkaE1sm9j8y7pjnZvE+x6tDcqcvlgWpL3fIfPnsQAjSb7xib9kkpmj6yLgjbRbvNU4wGu57OjunCuY+NT8/dXywJ+R3DsbZix7LHe7ojJQ7XJZhj5K7HZ27h/rTySTyZwLWpVLuZNy0tna5582ENa/jPk64qz9CAFL4a02VxCthJ+hkGXOxX0V962qEfrUBF5ra8bgP9wv4LjCQjjveY3um+QB3rL7cMxMaN0bxZyJwh4H3v/SeHA4SzORk7seanM7CaYK9xfemcCDP3RUq+AcjZG+GvU4ZsZ0xMjIyMjIyMjIyMvoldPH4LnQSWvuR9IHrb3nZzPT0MQ7HH4uryE7DSx9gF0Ltf8D/ihKhx01k1DkqPXoUl9aJ2bpF2BOKlAXYiiZleRdi4zHr32v61WLSr//kZnKSxpGm1F9bWlaVWE6o8oxYo8Xf5Rc3hhSDH7g+MhR9EqPRS8tdWh45redO1kly7oR8/9+5IktTFfaDx8VS9k8QeyVQr4lMUR+R0Vq5j4HjyDvX33CuadrP0nMybYp7Cv+81fw8/ANYq7hVA5dCMx1Vu7vhuc/ej7ZGrv88j6LP6A8S+jhEv1Z1iP4Mo3dhuRsZGRkZGRkZGRkNoicBSivvYW8GZVZ+SbWR9s/6Un3H4Tz90lfb50rmbX22fy6BPit5f1xq9ArrTJkBdwowFf4paKQU/EmXp1B4E9p/DxqvFpVFBLMBmZVff7MaRZD4LCXEBdBIFfyDC4CVShwFDFk9Cwne6get/0XxGSXvpU98AC3iUNbzbSzrQzNYSsEfNYsJRhafURdvzAZktj3cA+IzXu7+8RkP93V9fMaHu398ZlzL3S8+o3IfPj7jH1z02rt/Xr29+0TDwtk7Nnkvd32Uxs/e1/QmP+5j77qAGCDs4b5KYjTSj5FHsPd0gJYU7ptBmZXfJ28sBeS9USqxebN9c7Ot143avl/r8/3zF9Clkvf5mb+OlfZ94/jsTGqrJSkFS3t/+w3+Rxr2dQQjIyMjIyMjIyMjIyMjI6N/n8pzWDXwvV5HSfijjtPrLGcNJ5Qtq1ojKVV+/BzZBoJZLKcmHC3koQLFV6WdZblGVb6FCnFw4ThbeY7Xp+45hFWWFEmrS1PEKuMv+H29snDdVXKkwwqgR9X5hcK85Bx1/OnUxEoEqRvLIu2A770WSsIfTZTc7tGMDs4YK4Eq7ODq7ICT1XByuw0SdjBmtwt3tlHuLKqHi/O47KzVbKznxrroe5aVi1XC27gurZjbjLmwkDbK3W6iusFakRO36CFtcgivLD7Qqu8gqu1sCxdFLhlVB3+LIYsoobJ7QnXKO1X2USJHwUw7KL/jwovAJ222qxhJWO5QMWKWLcIdnbPZlTM5MW6RMQyPpiifbg3trOKrYCmi0O2cw5ebnZP3dVHp5TZM7rbh4+VCQi34p5xtswrz+lglZB1zMfZw4spWm+hO11GBWXhxTonuJ3zwybtoE5fSKuFj6vwiyiR3lR6FT+S6DszYxdfZlHKEUoxc+YDcHT13/EyjD5U7JmG1UF2zys4u2YlsussKmYPJ3Wa2TDl4uOMHTawSPjs6m1B9oer05O0aK4VAyKKHNog7Se0iy+o1szXrAXHHFVG547pilH7cIYUqsWD4gQp0a70uPTwEd1w24l4N5l63FO5tAaOe+xx69EDpMLHXRc/MQ+COatDUtjPdJqkyunRtO2NlS/wy0HUCquBMNdB0NFvC2aBoO8NSvNxBTeqcCefubWd6VaAS6piCuWcJDNjZAXNwmwNzz8agspg73NiJsUxOtgmFuvYw3EFvFWu3XdKvwrJ4typxd11YLu8Tu9kuUDZbVbiDbq+eRUmkX2jDQtFxJVh+NsYtRcPd6YE8TdIDMO6wZu0sMnfKHUHAKWHsnXGvxmoD2zu81VVi7yW0wS+lXasDla2Q3EH2sktQu125LJl7iZZLdmbp/ZW5g9yQTLtOUmN1VmipWa+jLphV1ssdFlcvkUvl3MHJW1nsR9J2Btk77pij2Dt8an52O1MVU/zbmbqYIqiL70dgO2NZcvsOWcGsrRa5YLWdyfZ4GXruFvGKlHbGIQ+K1L43S1ZYe8ftO7zM5s/lznyVqrwH9UVgc47lcbFhq9znSNeJIPj0q7hmNeF8bg86yXMuGWao3OeEa3Zor878GaKayh05Mm1eCoWA3MlyCH+mhv2ZLkrB3UJYReVOcPZcZU8JVQF3UvSSMTEFbRUNS8p4KBTEvQddZKuFuXSz8IRgQEYeArVfJTdZqFIPHYj9SHxtbo9UQORODN7rR5JniDaXMncHDUKqOEsPl5CNxH2HcJfHq80a7N9YI+Ds8OusxtxuLUvrzvaAAVy31sSlVXEirrLbQ2VxwLVYs1aKufzSBZUE7rDErktOVG9jg2jj5jjWQoVyD7AsjptKtW7Jxb0jGq9W2zApSy13R+Qu+zPwukvEISi3XdLF46OqIrB6260B0iiliQdkbjsK9xapRA0TqGHfqoTEobTEIru9Zrfq3VNjyQ5OLKOySVklfny11GyRW1riISCkuZa4xUsERaJ61kkxJV7BOVzLEn9E0S5yYLlFynV7NINDq4xPXi2hWA3aW5Muu9pt9rr055aq9CgCDO4kGYl9lltRuBsZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGT1g/Q99OvQnTFEyFwAAAABJRU5ErkJggg==\"/>\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 650,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "6a698585041a836e",
        "type": "inject",
        "z": "2835520133019989",
        "g": "163a853d334c2fd4",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.1",
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 110,
        "y": 60,
        "wires": [
            [
                "ed5c957b6445056b"
            ]
        ]
    },
    {
        "id": "ed5c957b6445056b",
        "type": "ui_switch",
        "z": "2835520133019989",
        "g": "163a853d334c2fd4",
        "name": "",
        "label": "Auto",
        "tooltip": "",
        "group": "034f76c56f2d3e30",
        "order": 9,
        "width": 3,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "d82001d3b5da9077"
            ]
        ]
    },
    {
        "id": "d420a0a4b53fba4f",
        "type": "change",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.access_token",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 140,
        "y": 1260,
        "wires": [
            [
                "a27d63c77fb7b64b"
            ]
        ]
    },
    {
        "id": "a27d63c77fb7b64b",
        "type": "ui_text_input",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "name": "",
        "label": "OAuth2 Access Token",
        "tooltip": "",
        "group": "776e063e75a19d4d",
        "order": 10,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": "0",
        "topic": "topic",
        "sendOnBlur": true,
        "className": "token",
        "topicType": "msg",
        "x": 360,
        "y": 1260,
        "wires": [
            [
                "044144fe96059c80",
                "f96e3fad8a4b2326",
                "847885d49ce80b35",
                "d64b4ec7587b45e4"
            ]
        ]
    },
    {
        "id": "a4c6b1d34edf5a8f",
        "type": "ui_template",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "group": "034f76c56f2d3e30",
        "name": "CSS",
        "order": 10,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .token input {\n        color: blue !important;\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 110,
        "y": 1380,
        "wires": [
            []
        ]
    },
    {
        "id": "b4781f68ded14f8b",
        "type": "rbe",
        "z": "2835520133019989",
        "g": "163a853d334c2fd4",
        "name": "new?",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 510,
        "y": 360,
        "wires": [
            [
                "bd4942206847a1f1"
            ]
        ]
    },
    {
        "id": "f3db2288d49e787b",
        "type": "change",
        "z": "2835520133019989",
        "g": "163a853d334c2fd4",
        "name": "get flow",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "measurements",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 260,
        "y": 360,
        "wires": [
            [
                "bfc70665473a63fc"
            ]
        ]
    },
    {
        "id": "aad8a5b8b4b529ee",
        "type": "switch",
        "z": "2835520133019989",
        "g": "163a853d334c2fd4",
        "name": "auto?",
        "property": "auto",
        "propertyType": "flow",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 390,
        "y": 240,
        "wires": [
            [
                "8b27aea867042be3"
            ]
        ]
    },
    {
        "id": "b8ee46b807a3b5b4",
        "type": "debug",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "name": "statusCode",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "statusCode",
        "statusType": "msg",
        "x": 590,
        "y": 1200,
        "wires": []
    },
    {
        "id": "1686797546b94e79",
        "type": "inject",
        "z": "2835520133019989",
        "name": "random 75...150",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": "0.1",
        "topic": "",
        "payload": "$random()*75+75",
        "payloadType": "jsonata",
        "x": 890,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "484a606ee97f6fcf",
        "type": "inject",
        "z": "2835520133019989",
        "name": "random -25...25",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "2",
        "crontab": "",
        "once": true,
        "onceDelay": "0.1",
        "topic": "",
        "payload": "$random()*50-25",
        "payloadType": "jsonata",
        "x": 890,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "44ed83480cd91188",
        "type": "link out",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "name": "link out 2",
        "mode": "link",
        "links": [
            "460a5149f518619d",
            "37e9d7b01e23e35a"
        ],
        "x": 715,
        "y": 1200,
        "wires": []
    },
    {
        "id": "ade44908eb00efd4",
        "type": "debug",
        "z": "2835520133019989",
        "g": "163a853d334c2fd4",
        "name": "status",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "statusCode",
        "statusType": "msg",
        "x": 670,
        "y": 420,
        "wires": []
    },
    {
        "id": "c74c71f238da619a",
        "type": "change",
        "z": "2835520133019989",
        "g": "ae95b855fca41e1f",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"options\":\"keyValues\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 160,
        "y": 1900,
        "wires": [
            [
                "24da90dfda12dec6"
            ]
        ]
    },
    {
        "id": "24da90dfda12dec6",
        "type": "http request",
        "z": "2835520133019989",
        "g": "ae95b855fca41e1f",
        "name": "GET /v2/entities",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "query",
        "url": "{{{orion}}}/v2/entities",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "authtoken"
            }
        ],
        "x": 340,
        "y": 1900,
        "wires": [
            [
                "b5a11d884b2b1a33"
            ]
        ]
    },
    {
        "id": "7fa6eb6671ce559f",
        "type": "http request",
        "z": "2835520133019989",
        "g": "163a853d334c2fd4",
        "name": "POST /v2/op/update",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "{{{orion}}}/v2/op/update",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "authtoken"
            },
            {
                "keyType": "Content-Type",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            }
        ],
        "x": 440,
        "y": 420,
        "wires": [
            [
                "ade44908eb00efd4",
                "f727a63929e72d53"
            ]
        ]
    },
    {
        "id": "da5619d6c248edc5",
        "type": "split",
        "z": "2835520133019989",
        "g": "163a853d334c2fd4",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "topic",
        "x": 110,
        "y": 420,
        "wires": [
            [
                "2fe6671abf93b4db"
            ]
        ]
    },
    {
        "id": "2fe6671abf93b4db",
        "type": "template",
        "z": "2835520133019989",
        "g": "163a853d334c2fd4",
        "name": "entity",
        "field": "payload",
        "fieldType": "msg",
        "format": "json",
        "syntax": "mustache",
        "template": "{\n    \"id\": \"urn:ngsi-ld:Temperature{{topic}}\",\n    \"type\": \"TemperatureSensor\",\n    \"category\": {\n        \"type\": \"Text\",\n        \"value\": \"sensor\"\n    },\n    \"temperature\": {\n        \"type\": \"Integer\",\n        \"value\": {{payload}},\n        \"metadata\": {\n            \"unitCode\": {\n                \"type\": \"Text\",\n                \"value\": \"CEL\"\n            }\n        }\n    },\n    \"TimeInstant\": {\n        \"type\": \"Text\",\n        \"value\": \"{{timeinstant}}\"\n    }\n}",
        "output": "json",
        "x": 250,
        "y": 420,
        "wires": [
            [
                "4432d68f1ecae6ec",
                "60bc68ce166f5958"
            ]
        ],
        "icon": "node-red-contrib-letsfiware-ngsi/fiware-non-free.svg"
    },
    {
        "id": "4432d68f1ecae6ec",
        "type": "NGSI-Update",
        "z": "2835520133019989",
        "d": true,
        "g": "163a853d334c2fd4",
        "name": "",
        "endpoint": "15d84497.52381b",
        "protocol": "v2",
        "updateMode": "upsert-replace",
        "updateModev2": "append",
        "ldContext": "https://uri.etsi.org/ngsi-ld/v1/ngsi-ld-core-context.jsonld",
        "mimeType": "application/ld+json",
        "x": 410,
        "y": 480,
        "wires": [
            [
                "96bc4b433fabb229",
                "f727a63929e72d53"
            ]
        ]
    },
    {
        "id": "96bc4b433fabb229",
        "type": "debug",
        "z": "2835520133019989",
        "d": true,
        "g": "163a853d334c2fd4",
        "name": "status",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "payload",
        "statusType": "msg",
        "x": 670,
        "y": 480,
        "wires": []
    },
    {
        "id": "525d4439257a9101",
        "type": "json",
        "z": "2835520133019989",
        "d": true,
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 470,
        "y": 1440,
        "wires": [
            [
                "9f177ffa2b33c5a2"
            ]
        ]
    },
    {
        "id": "e39c7ef076455938",
        "type": "NGSI-Entity",
        "z": "2835520133019989",
        "d": true,
        "name": "",
        "endpoint": "",
        "protocol": "v2",
        "ldContext": "https://uri.etsi.org/ngsi-ld/v1/ngsi-ld-core-context.jsonld",
        "mode": "normalized",
        "mimeType": "application/ld+json",
        "attrs": "",
        "x": 330,
        "y": 1440,
        "wires": [
            [
                "525d4439257a9101"
            ]
        ]
    },
    {
        "id": "1d86014bf1bcf80c",
        "type": "debug",
        "z": "2835520133019989",
        "g": "bfc8e3a59536fac2",
        "name": "TT001",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "entity.temperature.value",
        "statusType": "msg",
        "x": 310,
        "y": 1660,
        "wires": []
    },
    {
        "id": "c7f29357bd37b8f4",
        "type": "debug",
        "z": "2835520133019989",
        "g": "bfc8e3a59536fac2",
        "name": "TT002",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "entity.temperature.value",
        "statusType": "msg",
        "x": 310,
        "y": 1740,
        "wires": []
    },
    {
        "id": "460a5149f518619d",
        "type": "link in",
        "z": "2835520133019989",
        "g": "bfc8e3a59536fac2",
        "name": "link in 2",
        "links": [
            "44ed83480cd91188",
            "f727a63929e72d53",
            "3f62d43724c15ed1"
        ],
        "x": 55,
        "y": 1520,
        "wires": [
            [
                "142baa976015d7f6"
            ]
        ]
    },
    {
        "id": "47e4cdd31c5e5186",
        "type": "ui_template",
        "z": "2835520133019989",
        "g": "bfc8e3a59536fac2",
        "group": "efac37e36504e95b",
        "name": "IDS",
        "order": 2,
        "width": 3,
        "height": 1,
        "format": "<h3>\n    <font color=\"{{msg.payload ? 'green' : 'red'}}\">\n        <strong>{{msg.payload ? 'Authorized' : 'Unauthorized'}}</strong>\n    </font>\n</h3>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 310,
        "y": 1540,
        "wires": [
            [
                "b1b937f8b67914f4"
            ]
        ]
    },
    {
        "id": "6258ca244c4a64aa",
        "type": "comment",
        "z": "2835520133019989",
        "g": "bfc8e3a59536fac2",
        "name": "Naive IDS & ADS",
        "info": "",
        "x": 660,
        "y": 1500,
        "wires": []
    },
    {
        "id": "b1b937f8b67914f4",
        "type": "switch",
        "z": "2835520133019989",
        "g": "bfc8e3a59536fac2",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 385,
        "y": 1540,
        "wires": [
            [
                "bc52acbb14d1d6e9"
            ]
        ],
        "l": false
    },
    {
        "id": "8fbf748a35e909d4",
        "type": "switch",
        "z": "2835520133019989",
        "g": "bfc8e3a59536fac2",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "jsonata_exp",
                "v": "$not(payload)",
                "vt": "jsonata"
            },
            {
                "t": "eq",
                "v": "2",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 225,
        "y": 1700,
        "wires": [
            [
                "1d86014bf1bcf80c",
                "6e8dcce41959b65f"
            ],
            [
                "d98d85e2593568ea"
            ],
            [
                "a439ebc60f41d8ed"
            ]
        ],
        "l": false
    },
    {
        "id": "142baa976015d7f6",
        "type": "change",
        "z": "2835520133019989",
        "g": "bfc8e3a59536fac2",
        "name": "ids",
        "rules": [
            {
                "t": "set",
                "p": "entity",
                "pt": "msg",
                "to": "payload",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "statusCode < 300",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 150,
        "y": 1520,
        "wires": [
            [
                "5339e9b6e72d6a36",
                "47e4cdd31c5e5186"
            ]
        ]
    },
    {
        "id": "fc45756368f33da2",
        "type": "change",
        "z": "2835520133019989",
        "g": "bfc8e3a59536fac2",
        "name": "ads",
        "rules": [
            {
                "t": "set",
                "p": "entity",
                "pt": "msg",
                "to": "payload",
                "tot": "msg",
                "dc": true
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "25 < entity.temperature.value and entity.temperature.value < 75",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 150,
        "y": 1700,
        "wires": [
            [
                "8fbf748a35e909d4"
            ]
        ]
    },
    {
        "id": "2fc47dbc32227813",
        "type": "debug",
        "z": "2835520133019989",
        "g": "bfc8e3a59536fac2",
        "name": "write",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "statusCode",
        "statusType": "msg",
        "x": 670,
        "y": 1760,
        "wires": []
    },
    {
        "id": "451a1609b31cc04c",
        "type": "change",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "name": "get oauth2 settings",
        "rules": [
            {
                "t": "set",
                "p": "orion",
                "pt": "msg",
                "to": "orion",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "keyrock",
                "pt": "msg",
                "to": "keyrock",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "username",
                "pt": "msg",
                "to": "username",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "password",
                "pt": "msg",
                "to": "password",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "clientId",
                "pt": "msg",
                "to": "clientId",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "clientSecret",
                "pt": "msg",
                "to": "clientSecret",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "authtoken",
                "pt": "msg",
                "to": "authtoken",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 610,
        "y": 1080,
        "wires": [
            [
                "f85c232a76a4c03b"
            ]
        ],
        "icon": "node-red-contrib-fiware_official/fiware.png"
    },
    {
        "id": "bc52acbb14d1d6e9",
        "type": "change",
        "z": "2835520133019989",
        "g": "bfc8e3a59536fac2",
        "name": "entity",
        "rules": [
            {
                "t": "set",
                "p": "entity.relationship",
                "pt": "msg",
                "to": "{\t    \"type\": \"Text\",\t    \"value\": entity.id\t}",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "entity.id",
                "pt": "msg",
                "to": "\"urn:ngsi-ld:IDS\" & $toMillis($now())",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "entity.type",
                "pt": "msg",
                "to": "Event",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "entity.category",
                "pt": "msg",
                "to": "{\"type\":\"Text\",\"value\":\"Intrusion\"}",
                "tot": "json"
            },
            {
                "t": "set",
                "p": "entity.TimeInstant",
                "pt": "msg",
                "to": "$now()",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 1540,
        "wires": [
            [
                "af24ca3138dcd29f"
            ]
        ],
        "icon": "node-red-contrib-letsfiware-ngsi/fiware-non-free.svg"
    },
    {
        "id": "60bc68ce166f5958",
        "type": "change",
        "z": "2835520133019989",
        "g": "163a853d334c2fd4",
        "name": "get orion and token",
        "rules": [
            {
                "t": "set",
                "p": "orion",
                "pt": "msg",
                "to": "orion",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "authtoken",
                "pt": "msg",
                "to": "authtoken",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 75,
        "y": 480,
        "wires": [
            [
                "5ee9287c85961a10"
            ]
        ],
        "icon": "node-red-contrib-fiware_official/fiware.png",
        "l": false
    },
    {
        "id": "0f3967d1bee3cfb2",
        "type": "inject",
        "z": "2835520133019989",
        "name": "manual send",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "0.1",
        "topic": "",
        "payload": "measurements",
        "payloadType": "flow",
        "x": 870,
        "y": 360,
        "wires": [
            [
                "da5619d6c248edc5"
            ]
        ]
    },
    {
        "id": "5ee9287c85961a10",
        "type": "change",
        "z": "2835520133019989",
        "g": "163a853d334c2fd4",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\t    \"actionType\": \"append\",\t    \"entities\": [payload]\t}",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 220,
        "y": 480,
        "wires": [
            [
                "7fa6eb6671ce559f"
            ]
        ]
    },
    {
        "id": "0a9ff4ed6c0d26ed",
        "type": "change",
        "z": "2835520133019989",
        "name": "get orion and token",
        "rules": [
            {
                "t": "set",
                "p": "orion",
                "pt": "msg",
                "to": "orion",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "keyrock",
                "pt": "msg",
                "to": "keyrock",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "username",
                "pt": "msg",
                "to": "username",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "password",
                "pt": "msg",
                "to": "password",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "clientId",
                "pt": "msg",
                "to": "clientId",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "clientSecret",
                "pt": "msg",
                "to": "clientSecret",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "authtoken",
                "pt": "msg",
                "to": "authtoken",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 935,
        "y": 1660,
        "wires": [
            [
                "9e95979e9b7ba4dc"
            ]
        ],
        "icon": "node-red-contrib-fiware_official/fiware.png",
        "l": false
    },
    {
        "id": "29c323c503792f52",
        "type": "change",
        "z": "2835520133019989",
        "name": "entity",
        "rules": [
            {
                "t": "set",
                "p": "entity",
                "pt": "msg",
                "to": "{\t   \"id\": \"urn:ngsi-ld:ADS\",\t   \"type\": \"Event\",\t   \"category\": {\t       \"type\": \"Text\",\t       \"value\": \"anomaly\"\t    },\t   \"temperature\": {\t       \"type\": \"Integer\",\t       \"value\": entity.payload,\t       \"metadata\": {\t           \"unitCode\": {\t               \"type\": \"Text\",\t               \"value\": \"CEL\"\t            }\t        }\t    },\t   \"relationship\": {\t       \"type\": \"Text\",\t       \"value\": entity.id & \"\"\t    },\t   \"TimeInstant\": {\t       \"type\": \"Text\",\t       \"value\": $now() & \"\"\t    }\t}\t",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 850,
        "y": 1740,
        "wires": [
            [
                "142d2bab782b2ceb"
            ]
        ],
        "icon": "node-red-contrib-letsfiware-ngsi/fiware-non-free.svg"
    },
    {
        "id": "42ab185347a6cc40",
        "type": "change",
        "z": "2835520133019989",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\t    \"actionType\": \"append\",\t    \"entities\": [entity]\t}",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1040,
        "y": 1740,
        "wires": [
            [
                "08aaa41b0c211dd2"
            ]
        ]
    },
    {
        "id": "08aaa41b0c211dd2",
        "type": "http request",
        "z": "2835520133019989",
        "name": "POST /v2/op/update",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "{{{orion}}}/v2/op/update",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "authtoken"
            },
            {
                "keyType": "Content-Type",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            }
        ],
        "x": 1260,
        "y": 1700,
        "wires": [
            []
        ]
    },
    {
        "id": "af24ca3138dcd29f",
        "type": "change",
        "z": "2835520133019989",
        "g": "bfc8e3a59536fac2",
        "name": "get orion and token",
        "rules": [
            {
                "t": "set",
                "p": "orion",
                "pt": "msg",
                "to": "orion",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "authtoken",
                "pt": "msg",
                "to": "authtoken",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 555,
        "y": 1660,
        "wires": [
            [
                "2944d634ea25547e"
            ]
        ],
        "icon": "node-red-contrib-fiware_official/fiware.png",
        "l": false
    },
    {
        "id": "d98d85e2593568ea",
        "type": "change",
        "z": "2835520133019989",
        "g": "bfc8e3a59536fac2",
        "name": "entity",
        "rules": [
            {
                "t": "set",
                "p": "entity",
                "pt": "msg",
                "to": "{\t   \"id\": \"urn:ngsi-ld:ADS\" & $substring(entity.id, 30, 3),\t   \"type\": \"Event\",\t   \"category\": {\t       \"type\": \"Text\",\t       \"value\": \"anomaly\"\t    },\t   \"temperature\": {\t       \"type\": \"Integer\",\t       \"value\": entity.temperature.value,\t       \"metadata\": {\t           \"unitCode\": {\t               \"type\": \"Text\",\t               \"value\": \"CEL\"\t            }\t        }\t    },\t   \"relationship\": {\t       \"type\": \"Text\",\t       \"value\": entity.id & \"\"\t    },\t   \"TimeInstant\": {\t       \"type\": \"Text\",\t       \"value\": $now() & \"\"\t    }\t}\t",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 430,
        "y": 1700,
        "wires": [
            [
                "af24ca3138dcd29f",
                "ffea82fb60577f01"
            ]
        ],
        "icon": "node-red-contrib-letsfiware-ngsi/fiware-non-free.svg"
    },
    {
        "id": "2944d634ea25547e",
        "type": "change",
        "z": "2835520133019989",
        "g": "bfc8e3a59536fac2",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\t    \"actionType\": \"append\",\t    \"entities\": [entity]\t}",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 1660,
        "wires": [
            [
                "6dd552d7b692f8c7"
            ]
        ]
    },
    {
        "id": "6dd552d7b692f8c7",
        "type": "http request",
        "z": "2835520133019989",
        "g": "bfc8e3a59536fac2",
        "name": "POST /v2/op/update",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "{{{orion}}}/v2/op/update",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "authtoken"
            },
            {
                "keyType": "Content-Type",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            }
        ],
        "x": 640,
        "y": 1700,
        "wires": [
            [
                "2fc47dbc32227813"
            ]
        ]
    },
    {
        "id": "4cdde665e0c797c9",
        "type": "ui_gauge",
        "z": "2835520133019989",
        "g": "163a853d334c2fd4",
        "name": "",
        "group": "034f76c56f2d3e30",
        "order": 4,
        "width": 3,
        "height": 2,
        "gtype": "gage",
        "title": "TT002",
        "label": "°C",
        "format": "{{value}}",
        "min": "-25",
        "max": "150",
        "colors": [
            "#e6e600",
            "#00b500",
            "#ca3838"
        ],
        "seg1": "25",
        "seg2": "75",
        "className": "",
        "x": 670,
        "y": 300,
        "wires": []
    },
    {
        "id": "2d66c2388265d860",
        "type": "change",
        "z": "2835520133019989",
        "g": "bfc8e3a59536fac2",
        "name": "get orion and token",
        "rules": [
            {
                "t": "set",
                "p": "orion",
                "pt": "msg",
                "to": "orion",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "authtoken",
                "pt": "msg",
                "to": "authtoken",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 255,
        "y": 1600,
        "wires": [
            [
                "19b7a7b8ad31ac15"
            ]
        ],
        "icon": "node-red-contrib-fiware_official/fiware.png",
        "l": false
    },
    {
        "id": "19b7a7b8ad31ac15",
        "type": "http request",
        "z": "2835520133019989",
        "g": "bfc8e3a59536fac2",
        "name": "GET /v2/entities/{id}",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "{{{orion}}}/v2/entities/{{{payload}}}",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "authtoken"
            }
        ],
        "x": 370,
        "y": 1600,
        "wires": [
            [
                "9f177ffa2b33c5a2",
                "34f9cf655c72f8cd"
            ]
        ]
    },
    {
        "id": "9f177ffa2b33c5a2",
        "type": "rbe",
        "z": "2835520133019989",
        "g": "bfc8e3a59536fac2",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 55,
        "y": 1700,
        "wires": [
            [
                "fc45756368f33da2"
            ]
        ],
        "l": false
    },
    {
        "id": "c799269c29c1ac34",
        "type": "change",
        "z": "2835520133019989",
        "g": "bfc8e3a59536fac2",
        "name": "#001",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "urn:ngsi-ld:TemperatureSensor:001",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 150,
        "y": 1580,
        "wires": [
            [
                "e39c7ef076455938",
                "2d66c2388265d860"
            ]
        ]
    },
    {
        "id": "4699c370b714faa3",
        "type": "change",
        "z": "2835520133019989",
        "g": "bfc8e3a59536fac2",
        "name": "#002",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "urn:ngsi-ld:TemperatureSensor:002",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "2",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 150,
        "y": 1620,
        "wires": [
            [
                "e39c7ef076455938",
                "2d66c2388265d860"
            ]
        ]
    },
    {
        "id": "ec00d6b901c362d6",
        "type": "link in",
        "z": "2835520133019989",
        "g": "bfc8e3a59536fac2",
        "name": "link in 3",
        "links": [
            "f727a63929e72d53",
            "3f62d43724c15ed1"
        ],
        "x": 55,
        "y": 1600,
        "wires": [
            [
                "c799269c29c1ac34",
                "4699c370b714faa3"
            ]
        ]
    },
    {
        "id": "34f9cf655c72f8cd",
        "type": "debug",
        "z": "2835520133019989",
        "g": "bfc8e3a59536fac2",
        "name": "read",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "statusCode",
        "statusType": "msg",
        "x": 670,
        "y": 1600,
        "wires": []
    },
    {
        "id": "0e9494cdb2de9eb7",
        "type": "change",
        "z": "2835520133019989",
        "name": "get oauth2 settings",
        "rules": [
            {
                "t": "set",
                "p": "orion",
                "pt": "msg",
                "to": "orion",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "keyrock",
                "pt": "msg",
                "to": "keyrock",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "username",
                "pt": "msg",
                "to": "username",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "password",
                "pt": "msg",
                "to": "password",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "clientId",
                "pt": "msg",
                "to": "clientId",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "clientSecret",
                "pt": "msg",
                "to": "clientSecret",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "authtoken",
                "pt": "msg",
                "to": "authtoken",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 890,
        "y": 1600,
        "wires": [
            []
        ],
        "icon": "node-red-contrib-fiware_official/fiware.png"
    },
    {
        "id": "957928ed02520602",
        "type": "template",
        "z": "2835520133019989",
        "name": "entity",
        "field": "payload",
        "fieldType": "msg",
        "format": "json",
        "syntax": "mustache",
        "template": "{\n    \"id\": \"urn:ngsi-ld:Temperature{{topic}}\",\n    \"type\": \"TemperatureSensor\",\n    \"category\": {\n        \"type\": \"Text\",\n        \"value\": \"sensor\"\n    },\n    \"temperature\": {\n        \"type\": \"Integer\",\n        \"value\": {{payload}},\n        \"metadata\": {\n            \"unitCode\": {\n                \"type\": \"Text\",\n                \"value\": \"CEL\"\n            }\n        }\n    },\n    \"TimeInstant\": {\n        \"type\": \"Text\",\n        \"value\": {{timeinstant}}\n    }\n}",
        "output": "json",
        "x": 850,
        "y": 1660,
        "wires": [
            [
                "0a9ff4ed6c0d26ed"
            ]
        ],
        "icon": "node-red-contrib-letsfiware-ngsi/fiware-non-free.svg"
    },
    {
        "id": "9e95979e9b7ba4dc",
        "type": "change",
        "z": "2835520133019989",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\t    \"actionType\": \"append\",\t    \"entities\": [payload]\t}",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1040,
        "y": 1660,
        "wires": [
            [
                "08aaa41b0c211dd2"
            ]
        ]
    },
    {
        "id": "142d2bab782b2ceb",
        "type": "change",
        "z": "2835520133019989",
        "name": "get orion and token",
        "rules": [
            {
                "t": "set",
                "p": "orion",
                "pt": "msg",
                "to": "orion",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "keyrock",
                "pt": "msg",
                "to": "keyrock",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "username",
                "pt": "msg",
                "to": "username",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "password",
                "pt": "msg",
                "to": "password",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "clientId",
                "pt": "msg",
                "to": "clientId",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "clientSecret",
                "pt": "msg",
                "to": "clientSecret",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "authtoken",
                "pt": "msg",
                "to": "authtoken",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 935,
        "y": 1740,
        "wires": [
            [
                "42ab185347a6cc40"
            ]
        ],
        "icon": "node-red-contrib-fiware_official/fiware.png",
        "l": false
    },
    {
        "id": "edc8f0d2a9b6c406",
        "type": "inject",
        "z": "2835520133019989",
        "g": "163a853d334c2fd4",
        "name": "thr#1",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": "5",
        "topic": "Threshold 1",
        "payload": "25",
        "payloadType": "str",
        "x": 510,
        "y": 220,
        "wires": [
            [
                "53504fe8a3958a71"
            ]
        ]
    },
    {
        "id": "77faedee7289021e",
        "type": "inject",
        "z": "2835520133019989",
        "g": "163a853d334c2fd4",
        "name": "thr#2",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": "5",
        "topic": "Threshold 2",
        "payload": "75",
        "payloadType": "str",
        "x": 510,
        "y": 260,
        "wires": [
            [
                "53504fe8a3958a71"
            ]
        ]
    },
    {
        "id": "122c657b4f2d7049",
        "type": "debug",
        "z": "2835520133019989",
        "name": "debug 9",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 300,
        "y": 2180,
        "wires": []
    },
    {
        "id": "987a1cf0867a8bb9",
        "type": "inject",
        "z": "2835520133019989",
        "name": "flow.latest",
        "props": [
            {
                "p": "id",
                "v": "latest",
                "vt": "flow"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 120,
        "y": 2140,
        "wires": [
            [
                "bcd21c775b4ae20b"
            ]
        ]
    },
    {
        "id": "bcd21c775b4ae20b",
        "type": "change",
        "z": "2835520133019989",
        "name": "get orion and token",
        "rules": [
            {
                "t": "set",
                "p": "orion",
                "pt": "msg",
                "to": "orion",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "authtoken",
                "pt": "msg",
                "to": "authtoken",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 205,
        "y": 2140,
        "wires": [
            [
                "d0a4cea0bc5a87a6",
                "122c657b4f2d7049"
            ]
        ],
        "icon": "node-red-contrib-fiware_official/fiware.png",
        "l": false
    },
    {
        "id": "bcef8d2a185d5290",
        "type": "change",
        "z": "2835520133019989",
        "name": "get orion and token",
        "rules": [
            {
                "t": "set",
                "p": "orion",
                "pt": "msg",
                "to": "orion",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "authtoken",
                "pt": "msg",
                "to": "authtoken",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 205,
        "y": 2080,
        "wires": [
            [
                "76a0f9d7adf29ec3"
            ]
        ],
        "icon": "node-red-contrib-fiware_official/fiware.png",
        "l": false
    },
    {
        "id": "ebc4bc2e8da1de39",
        "type": "debug",
        "z": "2835520133019989",
        "name": "debug 10",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 580,
        "y": 2140,
        "wires": []
    },
    {
        "id": "264643a3dfd5a27c",
        "type": "inject",
        "z": "2835520133019989",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 120,
        "y": 2600,
        "wires": [
            [
                "917caba804fee94e"
            ]
        ]
    },
    {
        "id": "1224aa5ce49f4445",
        "type": "debug",
        "z": "2835520133019989",
        "name": "debug 11",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 720,
        "y": 2600,
        "wires": []
    },
    {
        "id": "917caba804fee94e",
        "type": "template",
        "z": "2835520133019989",
        "name": "",
        "field": "payload",
        "fieldType": "msg",
        "format": "json",
        "syntax": "mustache",
        "template": "{\n  \"description\": \"subscription for node-red\",\n  \"notification\": {\n    \"attrs\": [\n      \"temperature\"\n    ],\n    \"http\": {\n      \"url\": \"https://hyperride.zeldalegends.repl.co/letsfiware\"\n    }\n  },\n  \"subject\": {\n    \"condition\": {\n      \"attrs\": [\n        \"temperature\"\n      ],\n      \"expression\": {\n        \"q\": \"temperature>10\"\n      }\n    },\n    \"entities\": [\n      {\n        \"idPattern\": \".*\",\n        \"type\": \"TemperatureSensor\"\n      }\n    ]\n  },\n  \"expires\": \"2030-04-05T14:00:00.00Z\",\n  \"throttling\": 5\n}\n",
        "output": "json",
        "x": 300,
        "y": 2600,
        "wires": [
            [
                "1f8b66769c5505f9",
                "1907adbc45a40444"
            ]
        ]
    },
    {
        "id": "3c6d0bc048adcaae",
        "type": "http in",
        "z": "2835520133019989",
        "name": "",
        "url": "/letsfiware",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 140,
        "y": 2660,
        "wires": [
            [
                "ea92f901677dbc78"
            ]
        ]
    },
    {
        "id": "5440c3365a5ffaef",
        "type": "http in",
        "z": "2835520133019989",
        "name": "",
        "url": "/letsfiware",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 140,
        "y": 2720,
        "wires": [
            [
                "5d84ff8c514956d4"
            ]
        ]
    },
    {
        "id": "ccaae7a326198251",
        "type": "debug",
        "z": "2835520133019989",
        "name": "get",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "payload",
        "statusType": "msg",
        "x": 470,
        "y": 2660,
        "wires": []
    },
    {
        "id": "11b27ac319fe4b28",
        "type": "debug",
        "z": "2835520133019989",
        "name": "post",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "payload",
        "statusType": "msg",
        "x": 470,
        "y": 2720,
        "wires": []
    },
    {
        "id": "ea92f901677dbc78",
        "type": "function",
        "z": "2835520133019989",
        "name": "count",
        "func": "var count = count || 0;\ncount++;\nnode.status({text:count});\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 310,
        "y": 2660,
        "wires": [
            [
                "ccaae7a326198251"
            ]
        ]
    },
    {
        "id": "5d84ff8c514956d4",
        "type": "function",
        "z": "2835520133019989",
        "name": "count",
        "func": "var count = count || 0;\ncount++;\nnode.status({text:count});\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 310,
        "y": 2720,
        "wires": [
            [
                "11b27ac319fe4b28"
            ]
        ]
    },
    {
        "id": "1f8b66769c5505f9",
        "type": "debug",
        "z": "2835520133019989",
        "name": "debug 12",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 720,
        "y": 2660,
        "wires": []
    },
    {
        "id": "c0af5852fbebad72",
        "type": "ui_template",
        "z": "2835520133019989",
        "group": "abf93112e16b2254",
        "name": "Open in Gitpod",
        "order": 2,
        "width": 4,
        "height": 1,
        "format": "<a href=\"https://gitpod.io/#https://github.com/zeldalegends/tutorials.PEP-Proxy\">\n    <input type=\"image\" src=\"https://gitpod.io/button/open-in-gitpod.svg\" alt=\"Open in Gitpod\"/>\n</a>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 880,
        "y": 1920,
        "wires": [
            []
        ]
    },
    {
        "id": "4299604368061a8d",
        "type": "http request",
        "z": "2835520133019989",
        "name": "",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://localhost:1880/flows",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 770,
        "y": 2960,
        "wires": [
            [
                "e2145a46870ab7af"
            ]
        ]
    },
    {
        "id": "e2145a46870ab7af",
        "type": "debug",
        "z": "2835520133019989",
        "name": "debug",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 910,
        "y": 2960,
        "wires": []
    },
    {
        "id": "9354e640e76bbc65",
        "type": "change",
        "z": "2835520133019989",
        "d": true,
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "headers",
                "pt": "msg",
                "to": "{\"Node-RED-Deployment-Type\":\"full\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 550,
        "y": 2960,
        "wires": [
            [
                "4299604368061a8d"
            ]
        ]
    },
    {
        "id": "adb966c75e00d1ab",
        "type": "comment",
        "z": "2835520133019989",
        "name": "Warm reboot",
        "info": "",
        "x": 330,
        "y": 3120,
        "wires": []
    },
    {
        "id": "eddc0f97753a2628",
        "type": "function",
        "z": "2835520133019989",
        "name": "Request Token",
        "func": "msg.payload = {\n    \"client_id\": \"node-red-editor\",\n    \"grant_type\": \"password\",\n    \"scope\": \"*\",\n    \"username\": \"engineer\",\n    \"password\": \"Pa$$w0rd\"\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 3170,
        "wires": [
            [
                "e05dd08026f18cf6"
            ]
        ]
    },
    {
        "id": "6275a5e30279c79d",
        "type": "inject",
        "z": "2835520133019989",
        "name": "Manual reload",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "",
        "payload": "",
        "payloadType": "str",
        "x": 130,
        "y": 3170,
        "wires": [
            [
                "eddc0f97753a2628"
            ]
        ]
    },
    {
        "id": "e05dd08026f18cf6",
        "type": "http request",
        "z": "2835520133019989",
        "name": "Token",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://localhost:1880/auth/token",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 490,
        "y": 3170,
        "wires": [
            [
                "df128491f04950b5"
            ]
        ],
        "info": "Note:\nEnsure the path is correct\nif httpAdminRoot: '/admin' is activated then \nthis needs to be added to\nhttp://localhost:1880/"
    },
    {
        "id": "df128491f04950b5",
        "type": "function",
        "z": "2835520133019989",
        "name": "Confirm token",
        "func": "// get the status of the request\nvar status = msg.statusCode;\n\nvar token = '';\nmsg.headers ={};\n\n//let node = feedback;\n\nswitch(status){\n    case 200:\n        node.log(\"Secure restart\");\n        token = JSON.parse(msg.payload);\n        token = 'Bearer '+token.access_token;\n        msg.headers = {\n            \"Authorization\": token,\n            \"Node-RED-Deployment-Type\":\"reload\"\n        }\n//msg.payload =\"\";\n        break;\n    case 204:\n        node.log(\"Secure without restart\");\n        break;\n    case 400:\n        node.warn(\"Bad request\");\n        break;\n    case 401:\n        node.warn(\"Not authorized\");\n        break;\n    case 403:\n        node.warn(\"Forbidden\");\n        break;\n    case 404:\n        node.log(\"Unsecure restart\");\n        msg.headers = {\n            \"Node-RED-Deployment-Type\":\"reload\"\n        }\n        break;\n    case 409:\n        node.warn(\"Version mismatch\");\n        break;\n    case 500:\n        node.error(\"Server Error\");\n        break;\n    default:\n        node.warn(\"Unknown Error\");\n       break;\n}\n\nmsg.payload = \"\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 640,
        "y": 3170,
        "wires": [
            [
                "7c5745c9436db4ab"
            ]
        ],
        "info": "Restart of Node-Red flows.\nWill check if the action needs security or not.\nNote: if the first 5 attemps return a statuscode 403 'forbidden'\nthen the server will break and only way to recover is then to\nrestart the service"
    },
    {
        "id": "7c5745c9436db4ab",
        "type": "http request",
        "z": "2835520133019989",
        "name": "Restart",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://localhost:1880/flows",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 800,
        "y": 3170,
        "wires": [
            []
        ],
        "info": "Note:\nEnsure the path is correct\nif httpAdminRoot: '/admin' is activated then \nthis needs to be added to\nhttp://localhost:1880/"
    },
    {
        "id": "eac53dd02619d34f",
        "type": "change",
        "z": "2835520133019989",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "headers",
                "pt": "msg",
                "to": "{\"Node-RED-Deployment-Type\":\"reload\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 550,
        "y": 2900,
        "wires": [
            [
                "4299604368061a8d"
            ]
        ]
    },
    {
        "id": "b5c2d297253ef23b",
        "type": "inject",
        "z": "2835520133019989",
        "name": "Deploy (Reload)",
        "props": [],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 140,
        "y": 2900,
        "wires": [
            [
                "eac53dd02619d34f"
            ]
        ]
    },
    {
        "id": "9aa88dc75b28bc6e",
        "type": "inject",
        "z": "2835520133019989",
        "name": "INIT",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 850,
        "y": 480,
        "wires": [
            [
                "0b39bd724cd6fc76"
            ]
        ]
    },
    {
        "id": "0b39bd724cd6fc76",
        "type": "change",
        "z": "2835520133019989",
        "name": "set flow.fiwarelab",
        "rules": [
            {
                "t": "set",
                "p": "fiwarelab.orion",
                "pt": "flow",
                "to": "https://smartdatamodels.org:1026",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "fiwarelab.keyrock",
                "pt": "flow",
                "to": "https://account.lab.fiware.org",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "fiwarelab.username",
                "pt": "flow",
                "to": "FIWARE_EMAIL",
                "tot": "env"
            },
            {
                "t": "set",
                "p": "fiwarelab.password",
                "pt": "flow",
                "to": "FIWARE_PASSWORD",
                "tot": "env"
            },
            {
                "t": "set",
                "p": "fiwarelab.clientId",
                "pt": "flow",
                "to": "FIWARE_CLIENT_ID",
                "tot": "env"
            },
            {
                "t": "set",
                "p": "fiwarelab.clientSecret",
                "pt": "flow",
                "to": "FIWARE_CLIENT_SECRET",
                "tot": "env"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 890,
        "y": 520,
        "wires": [
            [
                "1cb64fec6aab5453"
            ]
        ]
    },
    {
        "id": "76a817b0bccd2410",
        "type": "change",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "name": "flow.fiware = fiwarelab",
        "rules": [
            {
                "t": "set",
                "p": "fiware",
                "pt": "flow",
                "to": "fiwarelab",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Logo/FIWARE Lab_RGB.png",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 600,
        "wires": [
            [
                "ee377e03d9c6bf1c",
                "2daaee1bd1c0b7c1",
                "2d7e49ca90b1eed1",
                "2e85ad851bd880f7",
                "376e723fa615d072",
                "91b76b15b6e22c04",
                "9d9aa766086fbc1a",
                "35757f0e6a4a61c7"
            ]
        ]
    },
    {
        "id": "d59a29718da6b51c",
        "type": "ui_button",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "name": "",
        "group": "abf93112e16b2254",
        "order": 3,
        "width": 2,
        "height": 1,
        "passthru": true,
        "label": "FIWARE Lab",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 270,
        "y": 600,
        "wires": [
            [
                "76a817b0bccd2410"
            ]
        ]
    },
    {
        "id": "b5a11d884b2b1a33",
        "type": "ui_template",
        "z": "2835520133019989",
        "g": "ae95b855fca41e1f",
        "group": "abf93112e16b2254",
        "name": "Viewer",
        "order": 5,
        "width": 6,
        "height": 8,
        "format": "<ul>\n <li ng-repeat=\"x in msg.payload\">\n <font color=\"blue\">{{x.id}}</font>\n    <ul>\n        <li ng-repeat=\"(k, v) in x\"><b>{{k}}</b>: {{v}}</li>\n    </ul>\n </li>\n</ul>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 510,
        "y": 1900,
        "wires": [
            []
        ]
    },
    {
        "id": "303bc596a6fc18fd",
        "type": "file in",
        "z": "2835520133019989",
        "name": "",
        "filename": "filename",
        "filenameType": "msg",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "allProps": false,
        "x": 460,
        "y": 3020,
        "wires": [
            [
                "f1696b37c073a48d"
            ]
        ]
    },
    {
        "id": "c09789ae6cb74bab",
        "type": "change",
        "z": "2835520133019989",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "filename",
                "pt": "msg",
                "to": "./flows.json",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 290,
        "y": 3020,
        "wires": [
            [
                "303bc596a6fc18fd"
            ]
        ]
    },
    {
        "id": "b5be6c2a1296a6d3",
        "type": "inject",
        "z": "2835520133019989",
        "name": "Full deploy",
        "props": [],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 120,
        "y": 3020,
        "wires": [
            [
                "c09789ae6cb74bab"
            ]
        ]
    },
    {
        "id": "f1696b37c073a48d",
        "type": "json",
        "z": "2835520133019989",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 590,
        "y": 3020,
        "wires": [
            [
                "4299604368061a8d",
                "9354e640e76bbc65"
            ]
        ]
    },
    {
        "id": "2b64bd56df7e07ae",
        "type": "ui_button",
        "z": "2835520133019989",
        "name": "",
        "group": "776e063e75a19d4d",
        "order": 12,
        "width": 3,
        "height": 1,
        "passthru": false,
        "label": "Restart Flows",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "settings_backup_restore",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 540,
        "y": 2840,
        "wires": [
            [
                "eac53dd02619d34f"
            ]
        ]
    },
    {
        "id": "05889c440b116b18",
        "type": "function",
        "z": "2835520133019989",
        "name": "Sample analysis",
        "func": "// initialise to empty array if it doesn't exist already\nvar row = {}\nrow.time = msg.entity.TimeInstant.value.substring(11,19)\nrow.device = msg.entity.id.replace(\"urn:ngsi-ld:ADS\",\"\")\nvar temp = msg.entity.temperature.value\nif (temp > 75)\n    row.analysis = 'Device ' + row.device + ': possible short-circuit.';\nif (temp < 25)\n    row.analysis = 'Is the device ' + row.device + ' shut down?';\n\nvar table = context.get('table') || [];\nnode.status(row.analysis)\n\ntable.push(row);\nif (table.length == 14){ //20\n    table.shift();\n} \n\n// store the value back\ncontext.set('table',table);\n// make it part of the outgoing msg object\nmsg = {};\nmsg.payload = table;\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 880,
        "y": 1820,
        "wires": [
            [
                "0e949811e621f1cc"
            ]
        ]
    },
    {
        "id": "86a9be7db6096fed",
        "type": "link in",
        "z": "2835520133019989",
        "name": "link in 5",
        "links": [
            "ffea82fb60577f01"
        ],
        "x": 635,
        "y": 1820,
        "wires": [
            [
                "05889c440b116b18"
            ]
        ]
    },
    {
        "id": "ffea82fb60577f01",
        "type": "link out",
        "z": "2835520133019989",
        "g": "bfc8e3a59536fac2",
        "name": "link out 4",
        "mode": "link",
        "links": [
            "86a9be7db6096fed"
        ],
        "x": 555,
        "y": 1760,
        "wires": []
    },
    {
        "id": "d2cc18bc550b843b",
        "type": "ui_table",
        "z": "2835520133019989",
        "group": "8bf6217eeefd1458",
        "name": "",
        "order": 4,
        "width": 6,
        "height": "7",
        "columns": [
            {
                "field": "time",
                "title": "Time",
                "width": "25%",
                "align": "left",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "analysis",
                "title": "Analysis",
                "width": "",
                "align": "left",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            }
        ],
        "outputs": 0,
        "cts": false,
        "x": 1230,
        "y": 1820,
        "wires": []
    },
    {
        "id": "0e949811e621f1cc",
        "type": "trigger",
        "z": "2835520133019989",
        "name": "",
        "op1": "[]",
        "op2": "",
        "op1type": "json",
        "op2type": "payl",
        "duration": "1",
        "extend": false,
        "overrideDelay": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1070,
        "y": 1820,
        "wires": [
            [
                "d2cc18bc550b843b"
            ]
        ]
    },
    {
        "id": "8539f56d6079a57a",
        "type": "change",
        "z": "2835520133019989",
        "name": "set flow.fiwarelab",
        "rules": [
            {
                "t": "set",
                "p": "fiwarelab.orion",
                "pt": "flow",
                "to": "http://orion.lab.fiware.org:1026",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "fiwarelab.keyrock",
                "pt": "flow",
                "to": "https://account.lab.fiware.org",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "fiwarelab.username",
                "pt": "flow",
                "to": "FIWARE_EMAIL",
                "tot": "env"
            },
            {
                "t": "set",
                "p": "fiwarelab.password",
                "pt": "flow",
                "to": "FIWARE_PASSWORD",
                "tot": "env"
            },
            {
                "t": "set",
                "p": "fiwarelab.clientId",
                "pt": "flow",
                "to": "FIWARE_CLIENT_ID",
                "tot": "env"
            },
            {
                "t": "set",
                "p": "fiwarelab.clientSecret",
                "pt": "flow",
                "to": "FIWARE_CLIENT_SECRET",
                "tot": "env"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 910,
        "y": 880,
        "wires": [
            []
        ]
    },
    {
        "id": "b9f65ffccc50adf9",
        "type": "smooth",
        "z": "2835520133019989",
        "g": "163a853d334c2fd4",
        "name": "",
        "property": "payload",
        "action": "mean",
        "count": "10",
        "round": "",
        "mult": "single",
        "reduce": false,
        "x": 260,
        "y": 120,
        "wires": [
            [
                "bfc7b3464ed96b73"
            ]
        ]
    },
    {
        "id": "e967196d554755d6",
        "type": "smooth",
        "z": "2835520133019989",
        "g": "163a853d334c2fd4",
        "name": "",
        "property": "payload",
        "action": "mean",
        "count": "10",
        "round": "",
        "mult": "single",
        "reduce": false,
        "x": 260,
        "y": 240,
        "wires": [
            [
                "aad8a5b8b4b529ee"
            ]
        ]
    },
    {
        "id": "a439ebc60f41d8ed",
        "type": "ui_led",
        "z": "2835520133019989",
        "g": "bfc8e3a59536fac2",
        "order": 2,
        "group": "160ddf0a.756f41",
        "width": 2,
        "height": 1,
        "label": "#002",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ffa500",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "#808080",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "ADS 2",
        "x": 310,
        "y": 1740,
        "wires": []
    },
    {
        "id": "5339e9b6e72d6a36",
        "type": "ui_led",
        "z": "2835520133019989",
        "g": "bfc8e3a59536fac2",
        "order": 1,
        "group": "160ddf0a.756f41",
        "width": 3,
        "height": 1,
        "label": "<b style=\"color:rgb(0,148,206);\">IDS</b>",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "#008000",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "IDS",
        "x": 310,
        "y": 1500,
        "wires": []
    },
    {
        "id": "6e8dcce41959b65f",
        "type": "ui_led",
        "z": "2835520133019989",
        "g": "bfc8e3a59536fac2",
        "order": 1,
        "group": "160ddf0a.756f41",
        "width": 3,
        "height": 1,
        "label": "<b style=\"color:rgb(0,148,206);\">ADS</b></>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#001",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ffa500",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "#808080",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "ADS 1",
        "x": 310,
        "y": 1660,
        "wires": []
    },
    {
        "id": "c6b9c87a06a3aefc",
        "type": "ui_media",
        "z": "2835520133019989",
        "group": "160ddf0a.756f41",
        "name": "Orion logo",
        "width": 2,
        "height": 2,
        "order": 1,
        "category": "",
        "file": "orion-logo.png",
        "layout": "adjust",
        "showcontrols": true,
        "loop": true,
        "onstart": false,
        "scope": "local",
        "tooltip": "",
        "x": 870,
        "y": 1880,
        "wires": [
            []
        ]
    },
    {
        "id": "35757f0e6a4a61c7",
        "type": "ui_media",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "group": "160ddf0a.756f41",
        "name": "banner",
        "width": 6,
        "height": 2,
        "order": 2,
        "category": "",
        "file": "FW_Smart_ENERGY_MAIN.png",
        "layout": "adjust",
        "showcontrols": true,
        "loop": true,
        "onstart": false,
        "scope": "local",
        "tooltip": "",
        "x": 680,
        "y": 660,
        "wires": [
            []
        ]
    },
    {
        "id": "1907adbc45a40444",
        "type": "NGSI subscription",
        "z": "2835520133019989",
        "name": "",
        "openapis": "9c04efd1221c5228",
        "servicepath": "/",
        "idPattern": "",
        "watchedAttrs": "",
        "query": "",
        "url": "",
        "attrs": "",
        "x": 510,
        "y": 2600,
        "wires": [
            [
                "1224aa5ce49f4445"
            ]
        ]
    },
    {
        "id": "1c8ae60023bbc8dc",
        "type": "NGSI subscription",
        "z": "2835520133019989",
        "name": "",
        "openapis": "9c04efd1221c5228",
        "servicepath": "/",
        "idPattern": "",
        "watchedAttrs": "",
        "query": "",
        "url": "",
        "attrs": "",
        "x": 890,
        "y": 2040,
        "wires": [
            []
        ]
    },
    {
        "id": "c7ac4d1a45d58707",
        "type": "change",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 140,
        "y": 660,
        "wires": [
            [
                "12c3bc15dd40f12f"
            ]
        ]
    },
    {
        "id": "a721930cdc574ff5",
        "type": "change",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "name": "flow.fiware = gitpod",
        "rules": [
            {
                "t": "set",
                "p": "fiware",
                "pt": "flow",
                "to": "gitpod",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Logo/FW_Horiz_RGB_.png",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 660,
        "wires": [
            [
                "ee377e03d9c6bf1c",
                "2daaee1bd1c0b7c1",
                "2d7e49ca90b1eed1",
                "2e85ad851bd880f7",
                "376e723fa615d072",
                "91b76b15b6e22c04",
                "9d9aa766086fbc1a",
                "35757f0e6a4a61c7"
            ]
        ]
    },
    {
        "id": "12c3bc15dd40f12f",
        "type": "ui_button",
        "z": "2835520133019989",
        "g": "9e743c43c2b4d08b",
        "name": "",
        "group": "abf93112e16b2254",
        "order": 4,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "Gitpod",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 290,
        "y": 660,
        "wires": [
            [
                "a721930cdc574ff5"
            ]
        ]
    },
    {
        "id": "28e3c3551ec0fa6f",
        "type": "change",
        "z": "2835520133019989",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 880,
        "y": 600,
        "wires": [
            [
                "c7ac4d1a45d58707"
            ]
        ]
    },
    {
        "id": "1cb64fec6aab5453",
        "type": "change",
        "z": "2835520133019989",
        "name": "set flow.gitpod",
        "rules": [
            {
                "t": "set",
                "p": "gitpod.keyrock",
                "pt": "flow",
                "to": "keyrock",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "gitpod.clientId",
                "pt": "flow",
                "to": "clientId",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "gitpod.clientSecret",
                "pt": "flow",
                "to": "clientSecret",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "gitpod.username",
                "pt": "flow",
                "to": "username",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "gitpod.password",
                "pt": "flow",
                "to": "password",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "gitpod.orion",
                "pt": "flow",
                "to": "orion",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "gitpod.orion-ld",
                "pt": "flow",
                "to": "orion-ld",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 880,
        "y": 560,
        "wires": [
            [
                "28e3c3551ec0fa6f"
            ]
        ]
    },
    {
        "id": "dc51b49e5e2bb326",
        "type": "inject",
        "z": "a9f15cb41dc0ee30",
        "name": "Get version",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{}",
        "payloadType": "json",
        "x": 130,
        "y": 60,
        "wires": [
            [
                "ee2d60caf9ac69eb"
            ]
        ]
    },
    {
        "id": "184ee19c3308cd68",
        "type": "debug",
        "z": "a9f15cb41dc0ee30",
        "name": "debug 1",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 740,
        "y": 60,
        "wires": []
    },
    {
        "id": "ee2d60caf9ac69eb",
        "type": "NGSI-LD broker version",
        "z": "a9f15cb41dc0ee30",
        "name": "",
        "broker": "907c553d7533ec10",
        "x": 450,
        "y": 60,
        "wires": [
            [
                "184ee19c3308cd68"
            ]
        ]
    },
    {
        "id": "a3410f528ee375ac",
        "type": "inject",
        "z": "a9f15cb41dc0ee30",
        "name": "Create entity",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"id\":\"urn:ngsi-ld:TemperatureSensor:001\",\"type\":\"TemperatureSensor\",\"category\":{\"type\":\"Property\",\"value\":\"sensor\"},\"temperature\":{\"type\":\"Property\",\"value\":25,\"unitCode\":\"CEL\"},\"location\":{\"type\":\"GeoProperty\",\"value\":{\"type\":\"Point\",\"coordinates\":[-73.975,40.775556]}}}",
        "payloadType": "json",
        "x": 130,
        "y": 140,
        "wires": [
            [
                "2b6a055f03286194"
            ]
        ]
    },
    {
        "id": "2b6a055f03286194",
        "type": "NGSI-LD Entity",
        "z": "a9f15cb41dc0ee30",
        "name": "",
        "broker": "907c553d7533ec10",
        "atContext": "",
        "actionType": "create",
        "entityId": "",
        "attrs": "",
        "geometryProperty": "",
        "lang": "",
        "forbidden": "false",
        "x": 480,
        "y": 140,
        "wires": [
            [
                "0b8b31ba473790f3"
            ]
        ]
    },
    {
        "id": "7fec837efa65b713",
        "type": "NGSI-LD Entity",
        "z": "a9f15cb41dc0ee30",
        "name": "",
        "broker": "907c553d7533ec10",
        "atContext": "",
        "actionType": "read",
        "entityId": "",
        "attrs": "",
        "sysAttrs": "true",
        "representation": "normalized",
        "geometryProperty": "",
        "lang": "",
        "accept": "application/json",
        "forbidden": "false",
        "x": 480,
        "y": 200,
        "wires": [
            [
                "0b8b31ba473790f3"
            ]
        ]
    },
    {
        "id": "58d9e8036ea72fd5",
        "type": "NGSI-LD Entity",
        "z": "a9f15cb41dc0ee30",
        "name": "",
        "broker": "907c553d7533ec10",
        "atContext": "",
        "actionType": "delete",
        "entityId": "",
        "attrs": "",
        "geometryProperty": "",
        "lang": "",
        "forbidden": "false",
        "x": 480,
        "y": 320,
        "wires": [
            [
                "0b8b31ba473790f3"
            ]
        ]
    },
    {
        "id": "26bd6fdd9039612d",
        "type": "inject",
        "z": "a9f15cb41dc0ee30",
        "name": "Read entity",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "urn:ngsi-ld:TemperatureSensor:001",
        "payloadType": "str",
        "x": 130,
        "y": 200,
        "wires": [
            [
                "7fec837efa65b713"
            ]
        ]
    },
    {
        "id": "7a73ea7d42c6054b",
        "type": "inject",
        "z": "a9f15cb41dc0ee30",
        "name": "Delete entity",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "urn:ngsi-ld:TemperatureSensor:001",
        "payloadType": "str",
        "x": 130,
        "y": 320,
        "wires": [
            [
                "58d9e8036ea72fd5"
            ]
        ]
    },
    {
        "id": "1025df32730815de",
        "type": "inject",
        "z": "a9f15cb41dc0ee30",
        "name": "Batch create",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "[{\"id\":\"urn:ngsi-ld:TemperatureSensor:002\",\"type\":\"TemperatureSensor\",\"category\":{\"type\":\"Property\",\"value\":\"sensor\"},\"temperature\":{\"type\":\"Property\",\"value\":20,\"unitCode\":\"CEL\"}},{\"id\":\"urn:ngsi-ld:TemperatureSensor:003\",\"type\":\"TemperatureSensor\",\"category\":{\"type\":\"Property\",\"value\":\"sensor\"},\"temperature\":{\"type\":\"Property\",\"value\":2,\"unitCode\":\"CEL\"}},{\"id\":\"urn:ngsi-ld:TemperatureSensor:004\",\"type\":\"TemperatureSensor\",\"category\":{\"type\":\"Property\",\"value\":\"sensor\"},\"temperature\":{\"type\":\"Property\",\"value\":100,\"unitCode\":\"CEL\"}}]",
        "payloadType": "json",
        "x": 130,
        "y": 480,
        "wires": [
            [
                "e26d65c74539be2f"
            ]
        ]
    },
    {
        "id": "0b8b31ba473790f3",
        "type": "debug",
        "z": "a9f15cb41dc0ee30",
        "name": "debug 2",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 740,
        "y": 220,
        "wires": []
    },
    {
        "id": "97fb19492e327147",
        "type": "inject",
        "z": "a9f15cb41dc0ee30",
        "name": "Batch delete",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "[\"urn:ngsi-ld:TemperatureSensor:002\",\"urn:ngsi-ld:TemperatureSensor:003\",\"urn:ngsi-ld:TemperatureSensor:004\"]",
        "payloadType": "json",
        "x": 130,
        "y": 640,
        "wires": [
            [
                "d93f07a0cc167ffe"
            ]
        ]
    },
    {
        "id": "6062cbf3b8f8f5ae",
        "type": "inject",
        "z": "a9f15cb41dc0ee30",
        "name": "Batch upsert",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "[{\"id\":\"urn:ngsi-ld:TemperatureSensor:002\",\"type\":\"TemperatureSensor\",\"category\":{\"type\":\"Property\",\"value\":\"sensor\"},\"temperature\":{\"type\":\"Property\",\"value\":21,\"unitCode\":\"CEL\"}},{\"id\":\"urn:ngsi-ld:TemperatureSensor:003\",\"type\":\"TemperatureSensor\",\"category\":{\"type\":\"Property\",\"value\":\"sensor\"},\"temperature\":{\"type\":\"Property\",\"value\":27,\"unitCode\":\"CEL\"}}]",
        "payloadType": "json",
        "x": 130,
        "y": 560,
        "wires": [
            [
                "ecec0fc4f372d133"
            ]
        ]
    },
    {
        "id": "e26d65c74539be2f",
        "type": "NGSI-LD Batch operations",
        "z": "a9f15cb41dc0ee30",
        "name": "",
        "broker": "907c553d7533ec10",
        "actionType": "create",
        "atContext": "",
        "forbidden": "false",
        "x": 440,
        "y": 480,
        "wires": [
            [
                "ceeb703af26e0179"
            ]
        ]
    },
    {
        "id": "ecec0fc4f372d133",
        "type": "NGSI-LD Batch operations",
        "z": "a9f15cb41dc0ee30",
        "name": "",
        "broker": "907c553d7533ec10",
        "actionType": "upsert",
        "atContext": "",
        "forbidden": "false",
        "x": 440,
        "y": 560,
        "wires": [
            [
                "ceeb703af26e0179"
            ]
        ]
    },
    {
        "id": "d93f07a0cc167ffe",
        "type": "NGSI-LD Batch operations",
        "z": "a9f15cb41dc0ee30",
        "name": "",
        "broker": "907c553d7533ec10",
        "actionType": "delete",
        "atContext": "",
        "forbidden": "false",
        "x": 440,
        "y": 640,
        "wires": [
            [
                "ceeb703af26e0179"
            ]
        ]
    },
    {
        "id": "4494aafcf9f7f1b7",
        "type": "NGSI-LD entities",
        "z": "a9f15cb41dc0ee30",
        "name": "",
        "broker": "907c553d7533ec10",
        "representation": "keyValues",
        "entityId": "",
        "entityType": "",
        "idPattern": "",
        "attrs": "",
        "sysAttrs": "false",
        "query": "",
        "csf": "",
        "georel": "",
        "geometry": "",
        "coordinates": "",
        "geoproperty": "",
        "geometryProperty": "",
        "lang": "",
        "accept": "application/ld+json",
        "atContext": "",
        "buffering": "off",
        "forbidden": "false",
        "x": 470,
        "y": 400,
        "wires": [
            [
                "9ea76b19ceb934fd"
            ]
        ]
    },
    {
        "id": "9ea76b19ceb934fd",
        "type": "debug",
        "z": "a9f15cb41dc0ee30",
        "name": "debug 3",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 740,
        "y": 400,
        "wires": []
    },
    {
        "id": "c76379efcb9a6bb8",
        "type": "inject",
        "z": "a9f15cb41dc0ee30",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": ".*",
        "payloadType": "str",
        "x": 110,
        "y": 400,
        "wires": [
            [
                "4494aafcf9f7f1b7"
            ]
        ]
    },
    {
        "id": "b62278935f727d57",
        "type": "NGSI-LD entity attributes",
        "z": "a9f15cb41dc0ee30",
        "name": "",
        "broker": "907c553d7533ec10",
        "actionType": "append",
        "entityId": "urn:ngsi-ld:TemperatureSensor:001",
        "atContext": "",
        "forbidden": "false",
        "x": 420,
        "y": 720,
        "wires": [
            [
                "6ef934b64201eea7"
            ]
        ]
    },
    {
        "id": "ceeb703af26e0179",
        "type": "debug",
        "z": "a9f15cb41dc0ee30",
        "name": "debug 4",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 740,
        "y": 560,
        "wires": []
    },
    {
        "id": "6ef934b64201eea7",
        "type": "debug",
        "z": "a9f15cb41dc0ee30",
        "name": "debug 5",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 740,
        "y": 780,
        "wires": []
    },
    {
        "id": "b6d6fa91aff79cf9",
        "type": "inject",
        "z": "a9f15cb41dc0ee30",
        "name": "Append attrs",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"batteryLevel\":{\"type\":\"Property\",\"value\":0.9,\"unitCode\":\"C62\"},\"controlledAsset\":{\"type\":\"Relationship\",\"object\":\"urn:ngsi-ld:Building:barn002\"}}",
        "payloadType": "json",
        "x": 130,
        "y": 720,
        "wires": [
            [
                "b62278935f727d57"
            ]
        ]
    },
    {
        "id": "c17c021973d91aaa",
        "type": "NGSI-LD entity attributes",
        "z": "a9f15cb41dc0ee30",
        "name": "",
        "broker": "907c553d7533ec10",
        "actionType": "update",
        "entityId": "urn:ngsi-ld:TemperatureSensor:001",
        "atContext": "",
        "forbidden": "false",
        "x": 420,
        "y": 780,
        "wires": [
            [
                "6ef934b64201eea7"
            ]
        ]
    },
    {
        "id": "068b022533c5c2f5",
        "type": "inject",
        "z": "a9f15cb41dc0ee30",
        "name": "Update attrs",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"batteryLevel\":{\"type\":\"Property\",\"value\":0.5,\"unitCode\":\"C62\"},\"controlledAsset\":{\"type\":\"Relationship\",\"object\":\"urn:ngsi-ld:Building:barn001\"}}",
        "payloadType": "json",
        "x": 130,
        "y": 780,
        "wires": [
            [
                "c17c021973d91aaa"
            ]
        ]
    },
    {
        "id": "55bb9c4116dcce69",
        "type": "inject",
        "z": "a9f15cb41dc0ee30",
        "name": "Upsert attrs",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"batteryLevel\":{\"type\":\"Property\",\"value\":0.1,\"unitCode\":\"C62\"},\"controlledAsset\":{\"type\":\"Relationship\",\"object\":\"urn:ngsi-ld:Building:barn003\"}}",
        "payloadType": "json",
        "x": 130,
        "y": 840,
        "wires": [
            [
                "92a94029970dbeea"
            ]
        ]
    },
    {
        "id": "92a94029970dbeea",
        "type": "NGSI-LD entity attributes",
        "z": "a9f15cb41dc0ee30",
        "name": "",
        "broker": "907c553d7533ec10",
        "actionType": "upsert",
        "entityId": "urn:ngsi-ld:TemperatureSensor:001",
        "atContext": "",
        "forbidden": "false",
        "x": 420,
        "y": 840,
        "wires": [
            [
                "6ef934b64201eea7"
            ]
        ]
    },
    {
        "id": "16f5bcc4cda3d49a",
        "type": "NGSI-LD entity attribute",
        "z": "a9f15cb41dc0ee30",
        "name": "",
        "broker": "907c553d7533ec10",
        "actionType": "update",
        "entityId": "urn:ngsi-ld:TemperatureSensor:001",
        "attrName": "category",
        "deleteAll": "false",
        "datasetId": "",
        "atContext": "",
        "forbidden": "false",
        "x": 410,
        "y": 920,
        "wires": [
            [
                "0d2ef13c258e3f06"
            ]
        ]
    },
    {
        "id": "cf8f05f0bb191b07",
        "type": "inject",
        "z": "a9f15cb41dc0ee30",
        "name": "Update attr",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"value\":[\"sensor\",\"actuator\"],\"type\":\"Property\"}",
        "payloadType": "json",
        "x": 120,
        "y": 920,
        "wires": [
            [
                "16f5bcc4cda3d49a"
            ]
        ]
    },
    {
        "id": "a2cfd81854aaa834",
        "type": "inject",
        "z": "a9f15cb41dc0ee30",
        "name": "Delete attr",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "category",
        "payloadType": "str",
        "x": 120,
        "y": 1000,
        "wires": [
            [
                "4e3e1c8eb80ba715"
            ]
        ]
    },
    {
        "id": "0d2ef13c258e3f06",
        "type": "debug",
        "z": "a9f15cb41dc0ee30",
        "name": "debug 6",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 740,
        "y": 960,
        "wires": []
    },
    {
        "id": "4e3e1c8eb80ba715",
        "type": "NGSI-LD entity attribute",
        "z": "a9f15cb41dc0ee30",
        "name": "",
        "broker": "907c553d7533ec10",
        "actionType": "delete",
        "entityId": "urn:ngsi-ld:TemperatureSensor:001",
        "attrName": "",
        "deleteAll": "false",
        "datasetId": "",
        "atContext": "",
        "forbidden": "false",
        "x": 410,
        "y": 1000,
        "wires": [
            [
                "0d2ef13c258e3f06"
            ]
        ]
    },
    {
        "id": "5b286ee3a0ef9d91",
        "type": "inject",
        "z": "a9f15cb41dc0ee30",
        "name": "Decode data",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"id\":\"urn:ngsi-ld:TemperatureSensor:001\",\"type\":\"TemperatureSensor\",\"name\":\"%3CSensor%3E\"}",
        "payloadType": "json",
        "x": 130,
        "y": 1160,
        "wires": [
            [
                "cf3584aa7d74e045"
            ]
        ]
    },
    {
        "id": "f1a723fcd025c4a5",
        "type": "debug",
        "z": "a9f15cb41dc0ee30",
        "name": "debug 7",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 740,
        "y": 1120,
        "wires": []
    },
    {
        "id": "af5cdff4247732c5",
        "type": "NGSI-LD Encode",
        "z": "a9f15cb41dc0ee30",
        "name": "",
        "x": 410,
        "y": 1080,
        "wires": [
            [
                "f1a723fcd025c4a5"
            ]
        ]
    },
    {
        "id": "cf3584aa7d74e045",
        "type": "NGSI-LD Decode",
        "z": "a9f15cb41dc0ee30",
        "name": "",
        "x": 410,
        "y": 1160,
        "wires": [
            [
                "f1a723fcd025c4a5"
            ]
        ]
    },
    {
        "id": "e3881d8eb5837cb6",
        "type": "inject",
        "z": "a9f15cb41dc0ee30",
        "name": "Encode data",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"id\":\"urn:ngsi-ld:TemperatureSensor:001\",\"type\":\"TemperatureSensor\",\"name\":\"<Sensor>\"}",
        "payloadType": "json",
        "x": 130,
        "y": 1080,
        "wires": [
            [
                "af5cdff4247732c5"
            ]
        ]
    },
    {
        "id": "89ee30ba22736a5b",
        "type": "NGSI-Entity",
        "z": "a9f15cb41dc0ee30",
        "name": "",
        "endpoint": "15d84497.52381b",
        "protocol": "LD",
        "ldContext": "https://uri.etsi.org/ngsi-ld/v1/ngsi-ld-core-context.jsonld",
        "mode": "normalized",
        "mimeType": "application/ld+json",
        "attrs": "",
        "x": 370,
        "y": 260,
        "wires": [
            [
                "cd67c92185101a7c"
            ]
        ]
    },
    {
        "id": "cd67c92185101a7c",
        "type": "json",
        "z": "a9f15cb41dc0ee30",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 510,
        "y": 260,
        "wires": [
            [
                "0b8b31ba473790f3"
            ]
        ]
    },
    {
        "id": "431af41027f0aa0f",
        "type": "inject",
        "z": "a9f15cb41dc0ee30",
        "name": "Read entity",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "urn:ngsi-ld:TemperatureSensor:001",
        "payloadType": "str",
        "x": 130,
        "y": 260,
        "wires": [
            [
                "89ee30ba22736a5b"
            ]
        ]
    },
    {
        "id": "bb48922b3f026b2a",
        "type": "inject",
        "z": "a9f15cb41dc0ee30",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "*.Temp.*",
        "payloadType": "str",
        "x": 280,
        "y": 400,
        "wires": [
            [
                "4494aafcf9f7f1b7"
            ]
        ]
    },
    {
        "id": "5876d13e0cc842ed",
        "type": "comment",
        "z": "a9f15cb41dc0ee30",
        "name": "Docker",
        "info": "NGSI v2\n[Let's FIWARE Guide](https://node-red-contrib-letsfiware-ngsi.letsfiware.jp/en/)\n\nNGSI-LD\n[Let's FIWARE Guide](https://node-red-contrib-ngsi-ld.letsfiware.jp/en/)\n\nNode-RED Custom node\n[node-red-contrib-ngsi-ld](https://flows.nodered.org/node/node-red-contrib-ngsi-ld)\n",
        "x": 90,
        "y": 20,
        "wires": []
    },
    {
        "id": "8217d78c1a0fc5fb",
        "type": "inject",
        "z": "f04368e2cacc78ba",
        "name": "Get version",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{}",
        "payloadType": "json",
        "x": 130,
        "y": 60,
        "wires": [
            [
                "0e2e84d424a4dad0"
            ]
        ]
    },
    {
        "id": "1ecd66810d97142c",
        "type": "debug",
        "z": "f04368e2cacc78ba",
        "name": "debug 1",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 740,
        "y": 60,
        "wires": []
    },
    {
        "id": "0e2e84d424a4dad0",
        "type": "NGSI-LD broker version",
        "z": "f04368e2cacc78ba",
        "name": "",
        "broker": "608eef2b7fe25a9c",
        "x": 450,
        "y": 60,
        "wires": [
            [
                "1ecd66810d97142c"
            ]
        ]
    },
    {
        "id": "a1cb58970ea09481",
        "type": "inject",
        "z": "f04368e2cacc78ba",
        "name": "Create entity",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"id\":\"urn:ngsi-ld:TemperatureSensor:001\",\"type\":\"TemperatureSensor\",\"category\":{\"type\":\"Property\",\"value\":\"sensor\"},\"temperature\":{\"type\":\"Property\",\"value\":25,\"unitCode\":\"CEL\"},\"location\":{\"type\":\"GeoProperty\",\"value\":{\"type\":\"Point\",\"coordinates\":[-73.975,40.775556]}}}",
        "payloadType": "json",
        "x": 130,
        "y": 140,
        "wires": [
            [
                "ec49807d923f141c"
            ]
        ]
    },
    {
        "id": "ec49807d923f141c",
        "type": "NGSI-LD Entity",
        "z": "f04368e2cacc78ba",
        "name": "",
        "broker": "608eef2b7fe25a9c",
        "atContext": "",
        "actionType": "create",
        "entityId": "",
        "attrs": "",
        "geometryProperty": "",
        "lang": "",
        "forbidden": "false",
        "x": 480,
        "y": 140,
        "wires": [
            [
                "3162d39e1bc769d8"
            ]
        ]
    },
    {
        "id": "c5be8f2a8a5d5373",
        "type": "NGSI-LD Entity",
        "z": "f04368e2cacc78ba",
        "name": "",
        "broker": "608eef2b7fe25a9c",
        "atContext": "",
        "actionType": "read",
        "entityId": "",
        "attrs": "",
        "sysAttrs": "false",
        "representation": "concise",
        "geometryProperty": "",
        "lang": "",
        "accept": "application/json",
        "forbidden": "false",
        "x": 480,
        "y": 200,
        "wires": [
            [
                "3162d39e1bc769d8"
            ]
        ]
    },
    {
        "id": "f80f5acfdc910b13",
        "type": "NGSI-LD Entity",
        "z": "f04368e2cacc78ba",
        "name": "",
        "broker": "608eef2b7fe25a9c",
        "atContext": "",
        "actionType": "delete",
        "entityId": "",
        "attrs": "",
        "geometryProperty": "",
        "lang": "",
        "forbidden": "false",
        "x": 480,
        "y": 320,
        "wires": [
            [
                "3162d39e1bc769d8"
            ]
        ]
    },
    {
        "id": "683571e78bfc8c18",
        "type": "inject",
        "z": "f04368e2cacc78ba",
        "name": "Read entity",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "urn:ngsi-ld:TemperatureSensor:001",
        "payloadType": "str",
        "x": 130,
        "y": 200,
        "wires": [
            [
                "c5be8f2a8a5d5373"
            ]
        ]
    },
    {
        "id": "5841726e67a77502",
        "type": "inject",
        "z": "f04368e2cacc78ba",
        "name": "Delete entity",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "urn:ngsi-ld:TemperatureSensor:001",
        "payloadType": "str",
        "x": 130,
        "y": 320,
        "wires": [
            [
                "f80f5acfdc910b13"
            ]
        ]
    },
    {
        "id": "6edff51ab1856a1b",
        "type": "inject",
        "z": "f04368e2cacc78ba",
        "name": "Batch create",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "[{\"id\":\"urn:ngsi-ld:TemperatureSensor:002\",\"type\":\"TemperatureSensor\",\"category\":{\"type\":\"Property\",\"value\":\"sensor\"},\"temperature\":{\"type\":\"Property\",\"value\":20,\"unitCode\":\"CEL\"}},{\"id\":\"urn:ngsi-ld:TemperatureSensor:003\",\"type\":\"TemperatureSensor\",\"category\":{\"type\":\"Property\",\"value\":\"sensor\"},\"temperature\":{\"type\":\"Property\",\"value\":2,\"unitCode\":\"CEL\"}},{\"id\":\"urn:ngsi-ld:TemperatureSensor:004\",\"type\":\"TemperatureSensor\",\"category\":{\"type\":\"Property\",\"value\":\"sensor\"},\"temperature\":{\"type\":\"Property\",\"value\":100,\"unitCode\":\"CEL\"}}]",
        "payloadType": "json",
        "x": 130,
        "y": 480,
        "wires": [
            [
                "47f5e30425236797"
            ]
        ]
    },
    {
        "id": "3162d39e1bc769d8",
        "type": "debug",
        "z": "f04368e2cacc78ba",
        "name": "debug 2",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 740,
        "y": 220,
        "wires": []
    },
    {
        "id": "f2c52525bf43b50b",
        "type": "inject",
        "z": "f04368e2cacc78ba",
        "name": "Batch delete",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "[\"urn:ngsi-ld:TemperatureSensor:002\",\"urn:ngsi-ld:TemperatureSensor:003\",\"urn:ngsi-ld:TemperatureSensor:004\"]",
        "payloadType": "json",
        "x": 130,
        "y": 640,
        "wires": [
            [
                "95a74f690a836298"
            ]
        ]
    },
    {
        "id": "4d9af035bb7881e0",
        "type": "inject",
        "z": "f04368e2cacc78ba",
        "name": "Batch upsert",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "[{\"id\":\"urn:ngsi-ld:TemperatureSensor:002\",\"type\":\"TemperatureSensor\",\"category\":{\"type\":\"Property\",\"value\":\"sensor\"},\"temperature\":{\"type\":\"Property\",\"value\":21,\"unitCode\":\"CEL\"}},{\"id\":\"urn:ngsi-ld:TemperatureSensor:003\",\"type\":\"TemperatureSensor\",\"category\":{\"type\":\"Property\",\"value\":\"sensor\"},\"temperature\":{\"type\":\"Property\",\"value\":27,\"unitCode\":\"CEL\"}}]",
        "payloadType": "json",
        "x": 130,
        "y": 560,
        "wires": [
            [
                "1391fb727e1874cc"
            ]
        ]
    },
    {
        "id": "47f5e30425236797",
        "type": "NGSI-LD Batch operations",
        "z": "f04368e2cacc78ba",
        "name": "",
        "broker": "608eef2b7fe25a9c",
        "actionType": "create",
        "atContext": "",
        "forbidden": "false",
        "x": 440,
        "y": 480,
        "wires": [
            [
                "d974af22a17e96a3"
            ]
        ]
    },
    {
        "id": "1391fb727e1874cc",
        "type": "NGSI-LD Batch operations",
        "z": "f04368e2cacc78ba",
        "name": "",
        "broker": "608eef2b7fe25a9c",
        "actionType": "upsert",
        "atContext": "",
        "forbidden": "false",
        "x": 440,
        "y": 560,
        "wires": [
            [
                "d974af22a17e96a3"
            ]
        ]
    },
    {
        "id": "95a74f690a836298",
        "type": "NGSI-LD Batch operations",
        "z": "f04368e2cacc78ba",
        "name": "",
        "broker": "608eef2b7fe25a9c",
        "actionType": "delete",
        "atContext": "",
        "forbidden": "false",
        "x": 440,
        "y": 640,
        "wires": [
            [
                "d974af22a17e96a3"
            ]
        ]
    },
    {
        "id": "68777715c655c2c6",
        "type": "NGSI-LD entities",
        "z": "f04368e2cacc78ba",
        "name": "",
        "broker": "066ecaa01951305b",
        "representation": "keyValues",
        "entityId": "",
        "entityType": "",
        "idPattern": "",
        "attrs": "",
        "sysAttrs": "false",
        "query": "",
        "csf": "",
        "georel": "",
        "geometry": "",
        "coordinates": "",
        "geoproperty": "",
        "geometryProperty": "",
        "lang": "",
        "accept": "application/ld+json",
        "atContext": "",
        "buffering": "off",
        "forbidden": "false",
        "x": 470,
        "y": 400,
        "wires": [
            [
                "c6ded8e866bf315f"
            ]
        ]
    },
    {
        "id": "c6ded8e866bf315f",
        "type": "debug",
        "z": "f04368e2cacc78ba",
        "name": "debug 3",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 740,
        "y": 400,
        "wires": []
    },
    {
        "id": "3ea201b5bd3a47db",
        "type": "inject",
        "z": "f04368e2cacc78ba",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": ".*",
        "payloadType": "str",
        "x": 110,
        "y": 400,
        "wires": [
            [
                "68777715c655c2c6"
            ]
        ]
    },
    {
        "id": "f2e9d23415761155",
        "type": "NGSI-LD entity attributes",
        "z": "f04368e2cacc78ba",
        "name": "",
        "broker": "608eef2b7fe25a9c",
        "actionType": "append",
        "entityId": "urn:ngsi-ld:TemperatureSensor:001",
        "atContext": "",
        "forbidden": "false",
        "x": 420,
        "y": 720,
        "wires": [
            [
                "5edeef15b7f6e633"
            ]
        ]
    },
    {
        "id": "d974af22a17e96a3",
        "type": "debug",
        "z": "f04368e2cacc78ba",
        "name": "debug 4",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 740,
        "y": 560,
        "wires": []
    },
    {
        "id": "5edeef15b7f6e633",
        "type": "debug",
        "z": "f04368e2cacc78ba",
        "name": "debug 5",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 740,
        "y": 780,
        "wires": []
    },
    {
        "id": "3f4a74574653b718",
        "type": "inject",
        "z": "f04368e2cacc78ba",
        "name": "Append attrs",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"batteryLevel\":{\"type\":\"Property\",\"value\":0.9,\"unitCode\":\"C62\"},\"controlledAsset\":{\"type\":\"Relationship\",\"object\":\"urn:ngsi-ld:Building:barn002\"}}",
        "payloadType": "json",
        "x": 130,
        "y": 720,
        "wires": [
            [
                "f2e9d23415761155"
            ]
        ]
    },
    {
        "id": "2f78db8d34ae7eb2",
        "type": "NGSI-LD entity attributes",
        "z": "f04368e2cacc78ba",
        "name": "",
        "broker": "608eef2b7fe25a9c",
        "actionType": "update",
        "entityId": "urn:ngsi-ld:TemperatureSensor:001",
        "atContext": "",
        "forbidden": "false",
        "x": 420,
        "y": 780,
        "wires": [
            [
                "5edeef15b7f6e633"
            ]
        ]
    },
    {
        "id": "7d3346401ca60412",
        "type": "inject",
        "z": "f04368e2cacc78ba",
        "name": "Update attrs",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"batteryLevel\":{\"type\":\"Property\",\"value\":0.5,\"unitCode\":\"C62\"},\"controlledAsset\":{\"type\":\"Relationship\",\"object\":\"urn:ngsi-ld:Building:barn001\"}}",
        "payloadType": "json",
        "x": 130,
        "y": 780,
        "wires": [
            [
                "2f78db8d34ae7eb2"
            ]
        ]
    },
    {
        "id": "ddd126c1e92a2e88",
        "type": "inject",
        "z": "f04368e2cacc78ba",
        "name": "Upsert attrs",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"batteryLevel\":{\"type\":\"Property\",\"value\":0.1,\"unitCode\":\"C62\"},\"controlledAsset\":{\"type\":\"Relationship\",\"object\":\"urn:ngsi-ld:Building:barn003\"}}",
        "payloadType": "json",
        "x": 130,
        "y": 840,
        "wires": [
            [
                "b1e1d4ad91f5d14a"
            ]
        ]
    },
    {
        "id": "b1e1d4ad91f5d14a",
        "type": "NGSI-LD entity attributes",
        "z": "f04368e2cacc78ba",
        "name": "",
        "broker": "608eef2b7fe25a9c",
        "actionType": "upsert",
        "entityId": "urn:ngsi-ld:TemperatureSensor:001",
        "atContext": "",
        "forbidden": "false",
        "x": 420,
        "y": 840,
        "wires": [
            [
                "5edeef15b7f6e633"
            ]
        ]
    },
    {
        "id": "2d515cc5996b5883",
        "type": "NGSI-LD entity attribute",
        "z": "f04368e2cacc78ba",
        "name": "",
        "broker": "608eef2b7fe25a9c",
        "actionType": "update",
        "entityId": "urn:ngsi-ld:TemperatureSensor:001",
        "attrName": "category",
        "deleteAll": "false",
        "datasetId": "",
        "atContext": "",
        "forbidden": "false",
        "x": 410,
        "y": 920,
        "wires": [
            [
                "0e7aea221e2e1bb8"
            ]
        ]
    },
    {
        "id": "bb519356d5ef8b89",
        "type": "inject",
        "z": "f04368e2cacc78ba",
        "name": "Update attr",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"value\":[\"sensor\",\"actuator\"],\"type\":\"Property\"}",
        "payloadType": "json",
        "x": 120,
        "y": 920,
        "wires": [
            [
                "2d515cc5996b5883"
            ]
        ]
    },
    {
        "id": "acbb7dc17a33b876",
        "type": "inject",
        "z": "f04368e2cacc78ba",
        "name": "Delete attr",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "category",
        "payloadType": "str",
        "x": 120,
        "y": 1000,
        "wires": [
            [
                "8667b7ca4d0ef9fb"
            ]
        ]
    },
    {
        "id": "0e7aea221e2e1bb8",
        "type": "debug",
        "z": "f04368e2cacc78ba",
        "name": "debug 6",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 740,
        "y": 960,
        "wires": []
    },
    {
        "id": "8667b7ca4d0ef9fb",
        "type": "NGSI-LD entity attribute",
        "z": "f04368e2cacc78ba",
        "name": "",
        "broker": "608eef2b7fe25a9c",
        "actionType": "delete",
        "entityId": "urn:ngsi-ld:TemperatureSensor:001",
        "attrName": "",
        "deleteAll": "false",
        "datasetId": "",
        "atContext": "",
        "forbidden": "false",
        "x": 410,
        "y": 1000,
        "wires": [
            [
                "0e7aea221e2e1bb8"
            ]
        ]
    },
    {
        "id": "cb3183f7e9c312c2",
        "type": "inject",
        "z": "f04368e2cacc78ba",
        "name": "Decode data",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"id\":\"urn:ngsi-ld:TemperatureSensor:001\",\"type\":\"TemperatureSensor\",\"name\":\"%3CSensor%3E\"}",
        "payloadType": "json",
        "x": 130,
        "y": 1160,
        "wires": [
            [
                "4c36489e5f92952d"
            ]
        ]
    },
    {
        "id": "3b247fcdc903dc62",
        "type": "debug",
        "z": "f04368e2cacc78ba",
        "name": "debug 7",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 740,
        "y": 1120,
        "wires": []
    },
    {
        "id": "65a590ba8fcc980d",
        "type": "NGSI-LD Encode",
        "z": "f04368e2cacc78ba",
        "name": "",
        "x": 410,
        "y": 1080,
        "wires": [
            [
                "3b247fcdc903dc62"
            ]
        ]
    },
    {
        "id": "4c36489e5f92952d",
        "type": "NGSI-LD Decode",
        "z": "f04368e2cacc78ba",
        "name": "",
        "x": 410,
        "y": 1160,
        "wires": [
            [
                "3b247fcdc903dc62"
            ]
        ]
    },
    {
        "id": "d902c86034f62441",
        "type": "inject",
        "z": "f04368e2cacc78ba",
        "name": "Encode data",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"id\":\"urn:ngsi-ld:TemperatureSensor:001\",\"type\":\"TemperatureSensor\",\"name\":\"<Sensor>\"}",
        "payloadType": "json",
        "x": 130,
        "y": 1080,
        "wires": [
            [
                "65a590ba8fcc980d"
            ]
        ]
    },
    {
        "id": "5276a3a0580731f6",
        "type": "NGSI-Entity",
        "z": "f04368e2cacc78ba",
        "name": "",
        "endpoint": "a085b73ca27873cb",
        "protocol": "v2",
        "ldContext": "https://uri.etsi.org/ngsi-ld/v1/ngsi-ld-core-context.jsonld",
        "mode": "normalized",
        "mimeType": "application/json",
        "attrs": "",
        "x": 370,
        "y": 360,
        "wires": [
            [
                "275257c5a76e1748"
            ]
        ]
    },
    {
        "id": "275257c5a76e1748",
        "type": "json",
        "z": "f04368e2cacc78ba",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 510,
        "y": 360,
        "wires": [
            [
                "3162d39e1bc769d8"
            ]
        ]
    },
    {
        "id": "deebfc463e9aac12",
        "type": "inject",
        "z": "f04368e2cacc78ba",
        "name": "Read entity",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "urn:ngsi-ld:TemperatureSensor:001",
        "payloadType": "str",
        "x": 130,
        "y": 360,
        "wires": [
            [
                "5276a3a0580731f6"
            ]
        ]
    },
    {
        "id": "aaa989eae0b0892b",
        "type": "inject",
        "z": "f04368e2cacc78ba",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": ".*Temp.*",
        "payloadType": "str",
        "x": 280,
        "y": 400,
        "wires": [
            [
                "68777715c655c2c6"
            ]
        ]
    },
    {
        "id": "2bc37b80dc1b00dc",
        "type": "comment",
        "z": "f04368e2cacc78ba",
        "name": "Remote",
        "info": "NGSI v2\n[Let's FIWARE Guide](https://node-red-contrib-letsfiware-ngsi.letsfiware.jp/en/)\n\nNGSI-LD\n[node-red-contrib-ngsi-ld](https://flows.nodered.org/node/node-red-contrib-ngsi-ld)\n\nSmart Data Models\n[test Orion-LD broker](https://smartdatamodels.org/index.php/orion-ld-broker-with-examples-of-some-smart-data-models)\n",
        "x": 90,
        "y": 20,
        "wires": []
    },
    {
        "id": "903baa35f939a994",
        "type": "NGSI-LD Entity",
        "z": "f04368e2cacc78ba",
        "name": "",
        "broker": "066ecaa01951305b",
        "atContext": "",
        "actionType": "read",
        "entityId": "",
        "attrs": "",
        "sysAttrs": "false",
        "representation": "concise",
        "geometryProperty": "",
        "lang": "",
        "accept": "application/json",
        "forbidden": "false",
        "x": 480,
        "y": 260,
        "wires": [
            [
                "3162d39e1bc769d8"
            ]
        ]
    },
    {
        "id": "eb615e1642801cbb",
        "type": "inject",
        "z": "f04368e2cacc78ba",
        "name": "Read entity",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "urn:ngsi-ld:TemperatureSensor:001",
        "payloadType": "str",
        "x": 130,
        "y": 260,
        "wires": [
            [
                "903baa35f939a994"
            ]
        ]
    },
    {
        "id": "379b8f87c7b48b05",
        "type": "http request",
        "z": "df0435d82c4bf5f6",
        "g": "fee944a6bdaf5f10",
        "name": "GET /version (v2)",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "{{{orion}}}/version",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "payload.access_token"
            }
        ],
        "x": 590,
        "y": 360,
        "wires": [
            [
                "4d2b122668704621",
                "7ad91dacce9f89ba"
            ]
        ]
    },
    {
        "id": "4d2b122668704621",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "g": "fee944a6bdaf5f10",
        "name": "version",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "payload.orion.version",
        "statusType": "msg",
        "x": 400,
        "y": 360,
        "wires": []
    },
    {
        "id": "de1dc9b0a360f04b",
        "type": "http request",
        "z": "df0435d82c4bf5f6",
        "g": "fee944a6bdaf5f10",
        "name": "POST /oauth2/token",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "{{{keyrock}}}/oauth2/token",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "Authorization",
                "keyValue": "",
                "valueType": "msg",
                "valueValue": "authorization"
            },
            {
                "keyType": "Content-Type",
                "keyValue": "",
                "valueType": "msg",
                "valueValue": "content-type"
            }
        ],
        "x": 580,
        "y": 180,
        "wires": [
            [
                "e568ed5ce60311c0",
                "40b2f13307ca515e"
            ]
        ]
    },
    {
        "id": "1c184eb76bb592b9",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "g": "fee944a6bdaf5f10",
        "name": "headers",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "\"Basic \" & clientCredentials",
        "statusType": "jsonata",
        "x": 160,
        "y": 180,
        "wires": []
    },
    {
        "id": "d253b3ac8ed31e2b",
        "type": "http request",
        "z": "df0435d82c4bf5f6",
        "g": "fee944a6bdaf5f10",
        "name": "GET /version (IdM)",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "{{{keyrock}}}/version",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "payload.access_token"
            }
        ],
        "x": 590,
        "y": 240,
        "wires": [
            [
                "e235739cdac4cd33"
            ]
        ]
    },
    {
        "id": "e235739cdac4cd33",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "g": "fee944a6bdaf5f10",
        "name": "keyrock version",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "payload.keyrock.version",
        "statusType": "msg",
        "x": 840,
        "y": 240,
        "wires": []
    },
    {
        "id": "b2e61cdd20abb1c3",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "g": "fee944a6bdaf5f10",
        "name": "headers",
        "rules": [
            {
                "t": "set",
                "p": "authorization",
                "pt": "msg",
                "to": "\"Basic \" & clientCredentials",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "content-type",
                "pt": "msg",
                "to": "application/x-www-form-urlencoded",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 160,
        "y": 180,
        "wires": [
            [
                "c38b702a3618f239"
            ]
        ]
    },
    {
        "id": "c38b702a3618f239",
        "type": "template",
        "z": "df0435d82c4bf5f6",
        "g": "fee944a6bdaf5f10",
        "name": "grant",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "grant_type=password&username={{{username}}}&password={{{password}}}",
        "output": "str",
        "x": 410,
        "y": 180,
        "wires": [
            [
                "de1dc9b0a360f04b"
            ]
        ]
    },
    {
        "id": "668626b56dbdf22a",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "g": "fee944a6bdaf5f10",
        "name": "client id",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "clientId",
        "targetType": "msg",
        "statusVal": "clientId",
        "statusType": "auto",
        "x": 820,
        "y": 120,
        "wires": []
    },
    {
        "id": "a524c4addbede590",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "g": "fee944a6bdaf5f10",
        "name": "client secret",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "clientSecret",
        "targetType": "msg",
        "statusVal": "clientId",
        "statusType": "auto",
        "x": 830,
        "y": 180,
        "wires": []
    },
    {
        "id": "13f15381ada61611",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "d": true,
        "g": "fee944a6bdaf5f10",
        "name": "password",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "password",
        "targetType": "msg",
        "statusVal": "$pad(\"\",$length(password),\"*\")\t",
        "statusType": "jsonata",
        "x": 840,
        "y": 80,
        "wires": []
    },
    {
        "id": "e9c0483e87d6e424",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "statusCode&\" - \"&(payload.error?payload.error:$count(payload)&($count(payload)=1?\" result\":\" results\"))",
        "statusType": "jsonata",
        "x": 810,
        "y": 1740,
        "wires": []
    },
    {
        "id": "8f281e6d965c5ae8",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "all entities",
        "props": [
            {
                "p": "options",
                "v": "keyValues",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 120,
        "y": 1680,
        "wires": [
            [
                "5c0b8f764e3c8fe9"
            ]
        ]
    },
    {
        "id": "6be5c13d3ad45cb4",
        "type": "template",
        "z": "df0435d82c4bf5f6",
        "name": "options",
        "field": "payload",
        "fieldType": "msg",
        "format": "json",
        "syntax": "mustache",
        "template": "{\n    \"options\": \"{{options}}\"\n}\n",
        "output": "json",
        "x": 460,
        "y": 1680,
        "wires": [
            [
                "62af9ffdc835056f"
            ]
        ]
    },
    {
        "id": "5c0b8f764e3c8fe9",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "name": "v2",
        "rules": [
            {
                "t": "set",
                "p": "orion",
                "pt": "msg",
                "to": "orion",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "x-auth-token",
                "pt": "msg",
                "to": "x-auth-token",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 1680,
        "wires": [
            [
                "6be5c13d3ad45cb4"
            ]
        ],
        "icon": "node-red-contrib-fiware_official/fiware.png"
    },
    {
        "id": "7ae8bb9df28c1dc8",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "import-data (v2)",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "[{\"id\":\"urn:ngsi-ld:Store:001\",\"type\":\"Store\",\"address\":{\"type\":\"PostalAddress\",\"value\":{\"streetAddress\":\"Bornholmer Straße 65\",\"addressRegion\":\"Berlin\",\"addressLocality\":\"Prenzlauer Berg\",\"postalCode\":\"10439\"}},\"location\":{\"type\":\"geo:json\",\"value\":{\"type\":\"Point\",\"coordinates\":[13.3986,52.5547]}},\"name\":{\"type\":\"Text\",\"value\":\"Bösebrücke Einkauf\"}},{\"id\":\"urn:ngsi-ld:Store:002\",\"type\":\"Store\",\"address\":{\"type\":\"PostalAddress\",\"value\":{\"streetAddress\":\"Friedrichstraße 44\",\"addressRegion\":\"Berlin\",\"addressLocality\":\"Kreuzberg\",\"postalCode\":\"10969\"}},\"location\":{\"type\":\"geo:json\",\"value\":{\"type\":\"Point\",\"coordinates\":[13.3903,52.5075]}},\"name\":{\"type\":\"Text\",\"value\":\"Checkpoint Markt\"}},{\"id\":\"urn:ngsi-ld:Store:003\",\"type\":\"Store\",\"address\":{\"type\":\"PostalAddress\",\"value\":{\"streetAddress\":\"Mühlenstrasse 10\",\"addressRegion\":\"Berlin\",\"addressLocality\":\"Friedrichshain\",\"postalCode\":\"10243\"}},\"location\":{\"type\":\"geo:json\",\"value\":{\"type\":\"Point\",\"coordinates\":[13.4447,52.5031]}},\"name\":{\"type\":\"Text\",\"value\":\"East Side Galleria\"}},{\"id\":\"urn:ngsi-ld:Store:004\",\"type\":\"Store\",\"address\":{\"type\":\"PostalAddress\",\"value\":{\"streetAddress\":\"Panoramastraße 1A\",\"addressRegion\":\"Berlin\",\"addressLocality\":\"Mitte\",\"postalCode\":\"10178\"}},\"location\":{\"type\":\"geo:json\",\"value\":{\"type\":\"Point\",\"coordinates\":[13.4094,52.5208]}},\"name\":{\"type\":\"Text\",\"value\":\"Tower Trödelmarkt\"}},{\"id\":\"urn:ngsi-ld:Shelf:unit001\",\"type\":\"Shelf\",\"location\":{\"type\":\"geo:json\",\"value\":{\"type\":\"Point\",\"coordinates\":[13.3986112,52.554699]}},\"maxCapacity\":{\"type\":\"Integer\",\"value\":50},\"name\":{\"type\":\"Text\",\"value\":\"Corner Unit\"},\"refStore\":{\"type\":\"Relationship\",\"value\":\"urn:ngsi-ld:Store:001\"}},{\"id\":\"urn:ngsi-ld:Shelf:unit002\",\"type\":\"Shelf\",\"location\":{\"type\":\"geo:json\",\"value\":{\"type\":\"Point\",\"coordinates\":[13.3987221,52.554664]}},\"maxCapacity\":{\"type\":\"Integer\",\"value\":100},\"name\":{\"type\":\"Text\",\"value\":\"Wall Unit 1\"},\"refStore\":{\"type\":\"Relationship\",\"value\":\"urn:ngsi-ld:Store:001\"}},{\"id\":\"urn:ngsi-ld:Shelf:unit003\",\"type\":\"Shelf\",\"location\":{\"type\":\"geo:json\",\"value\":{\"type\":\"Point\",\"coordinates\":[13.3987221,52.554664]}},\"maxCapacity\":{\"type\":\"Integer\",\"value\":100},\"name\":{\"type\":\"Text\",\"value\":\"Wall Unit 2\"},\"refStore\":{\"type\":\"Relationship\",\"value\":\"urn:ngsi-ld:Store:001\"}},{\"id\":\"urn:ngsi-ld:Shelf:unit004\",\"type\":\"Shelf\",\"location\":{\"type\":\"geo:json\",\"value\":{\"type\":\"Point\",\"coordinates\":[13.390311,52.507522]}},\"maxCapacity\":{\"type\":\"Integer\",\"value\":50},\"name\":{\"type\":\"Text\",\"value\":\"Corner Unit\"},\"refStore\":{\"type\":\"Relationship\",\"value\":\"urn:ngsi-ld:Store:002\"}},{\"id\":\"urn:ngsi-ld:Shelf:unit005\",\"type\":\"Shelf\",\"location\":{\"type\":\"geo:json\",\"value\":{\"type\":\"Point\",\"coordinates\":[13.390309,52.50751]}},\"maxCapacity\":{\"type\":\"Integer\",\"value\":200},\"name\":{\"type\":\"Text\",\"value\":\"Long Wall Unit\"},\"refStore\":{\"type\":\"Relationship\",\"value\":\"urn:ngsi-ld:Store:002\"}},{\"id\":\"urn:ngsi-ld:Shelf:unit006\",\"type\":\"Shelf\",\"location\":{\"type\":\"geo:json\",\"value\":{\"type\":\"Point\",\"coordinates\":[13.4447112,52.503199]}},\"maxCapacity\":{\"type\":\"Integer\",\"value\":50},\"name\":{\"type\":\"Text\",\"value\":\"Corner Unit\"},\"refStore\":{\"type\":\"Relationship\",\"value\":\"urn:ngsi-ld:Store:003\"}},{\"id\":\"urn:ngsi-ld:Shelf:unit007\",\"type\":\"Shelf\",\"location\":{\"type\":\"geo:json\",\"value\":{\"type\":\"Point\",\"coordinates\":[13.4447221,52.503164]}},\"maxCapacity\":{\"type\":\"Integer\",\"value\":100},\"name\":{\"type\":\"Text\",\"value\":\"Wall Unit 1\"},\"refStore\":{\"type\":\"Relationship\",\"value\":\"urn:ngsi-ld:Store:003\"}},{\"id\":\"urn:ngsi-ld:Shelf:unit008\",\"type\":\"Shelf\",\"location\":{\"type\":\"geo:json\",\"value\":{\"type\":\"Point\",\"coordinates\":[13.4447221,52.503164]}},\"maxCapacity\":{\"type\":\"Integer\",\"value\":100},\"name\":{\"type\":\"Text\",\"value\":\"Wall Unit 2\"},\"refStore\":{\"type\":\"Relationship\",\"value\":\"urn:ngsi-ld:Store:003\"}},{\"id\":\"urn:ngsi-ld:Shelf:unit009\",\"type\":\"Shelf\",\"location\":{\"type\":\"geo:json\",\"value\":{\"type\":\"Point\",\"coordinates\":[13.444711,52.503122]}},\"maxCapacity\":{\"type\":\"Integer\",\"value\":50},\"name\":{\"type\":\"Text\",\"value\":\"Corner Unit\"},\"refStore\":{\"type\":\"Relationship\",\"value\":\"urn:ngsi-ld:Store:003\"}},{\"id\":\"urn:ngsi-ld:Shelf:unit010\",\"type\":\"Shelf\",\"location\":{\"type\":\"geo:json\",\"value\":{\"type\":\"Point\",\"coordinates\":[13.4094111,52.5208028]}},\"maxCapacity\":{\"type\":\"Integer\",\"value\":200},\"name\":{\"type\":\"Text\",\"value\":\"Long Wall Unit\"},\"refStore\":{\"type\":\"Relationship\",\"value\":\"urn:ngsi-ld:Store:004\"}},{\"id\":\"urn:ngsi-ld:Product:001\",\"type\":\"Product\",\"name\":{\"type\":\"Text\",\"value\":\"Beer\"},\"size\":{\"type\":\"Text\",\"value\":\"S\"},\"price\":{\"type\":\"Integer\",\"value\":99}},{\"id\":\"urn:ngsi-ld:Product:002\",\"type\":\"Product\",\"name\":{\"type\":\"Text\",\"value\":\"Red Wine\"},\"size\":{\"type\":\"Text\",\"value\":\"M\"},\"price\":{\"type\":\"Integer\",\"value\":1099}},{\"id\":\"urn:ngsi-ld:Product:003\",\"type\":\"Product\",\"name\":{\"type\":\"Text\",\"value\":\"White Wine\"},\"size\":{\"type\":\"Text\",\"value\":\"M\"},\"price\":{\"type\":\"Integer\",\"value\":1499}},{\"id\":\"urn:ngsi-ld:Product:004\",\"type\":\"Product\",\"name\":{\"type\":\"Text\",\"value\":\"Vodka\"},\"size\":{\"type\":\"Text\",\"value\":\"XL\"},\"price\":{\"type\":\"Integer\",\"value\":5000}},{\"id\":\"urn:ngsi-ld:Product:005\",\"type\":\"Product\",\"name\":{\"type\":\"Text\",\"value\":\"Lager\"},\"size\":{\"type\":\"Text\",\"value\":\"S\"},\"price\":{\"type\":\"Integer\",\"value\":99}},{\"id\":\"urn:ngsi-ld:Product:006\",\"type\":\"Product\",\"name\":{\"type\":\"Text\",\"value\":\"Whisky\"},\"size\":{\"type\":\"Text\",\"value\":\"S\"},\"price\":{\"type\":\"Integer\",\"value\":99}},{\"id\":\"urn:ngsi-ld:Product:007\",\"type\":\"Product\",\"name\":{\"type\":\"Text\",\"value\":\"Gin\"},\"size\":{\"type\":\"Text\",\"value\":\"S\"},\"price\":{\"type\":\"Integer\",\"value\":99}},{\"id\":\"urn:ngsi-ld:Product:008\",\"type\":\"Product\",\"name\":{\"type\":\"Text\",\"value\":\"Apple Juice\"},\"size\":{\"type\":\"Text\",\"value\":\"S\"},\"price\":{\"type\":\"Integer\",\"value\":99}},{\"id\":\"urn:ngsi-ld:Product:009\",\"type\":\"Product\",\"name\":{\"type\":\"Text\",\"value\":\"Orange Juice\"},\"size\":{\"type\":\"Text\",\"value\":\"S\"},\"price\":{\"type\":\"Integer\",\"value\":99}},{\"id\":\"urn:ngsi-ld:InventoryItem:001\",\"type\":\"InventoryItem\",\"refStore\":{\"type\":\"Relationship\",\"value\":\"urn:ngsi-ld:Store:001\"},\"refShelf\":{\"type\":\"Relationship\",\"value\":\"urn:ngsi-ld:Shelf:unit001\"},\"refProduct\":{\"type\":\"Relationship\",\"value\":\"urn:ngsi-ld:Product:001\"},\"stockCount\":{\"type\":\"Integer\",\"value\":10000},\"shelfCount\":{\"type\":\"Integer\",\"value\":15}},{\"id\":\"urn:ngsi-ld:InventoryItem:002\",\"type\":\"InventoryItem\",\"refStore\":{\"type\":\"Relationship\",\"value\":\"urn:ngsi-ld:Store:001\"},\"refShelf\":{\"type\":\"Relationship\",\"value\":\"urn:ngsi-ld:Shelf:unit002\"},\"refProduct\":{\"type\":\"Relationship\",\"value\":\"urn:ngsi-ld:Product:003\"},\"stockCount\":{\"type\":\"Integer\",\"value\":10000},\"shelfCount\":{\"type\":\"Integer\",\"value\":50}},{\"id\":\"urn:ngsi-ld:InventoryItem:003\",\"type\":\"InventoryItem\",\"refStore\":{\"type\":\"Relationship\",\"value\":\"urn:ngsi-ld:Store:001\"},\"refShelf\":{\"type\":\"Relationship\",\"value\":\"urn:ngsi-ld:Shelf:unit003\"},\"refProduct\":{\"type\":\"Relationship\",\"value\":\"urn:ngsi-ld:Product:004\"},\"stockCount\":{\"type\":\"Integer\",\"value\":10000},\"shelfCount\":{\"type\":\"Integer\",\"value\":50}},{\"id\":\"urn:ngsi-ld:InventoryItem:004\",\"type\":\"InventoryItem\",\"refStore\":{\"type\":\"Relationship\",\"value\":\"urn:ngsi-ld:Store:002\"},\"refShelf\":{\"type\":\"Relationship\",\"value\":\"urn:ngsi-ld:Shelf:unit004\"},\"refProduct\":{\"type\":\"Relationship\",\"value\":\"urn:ngsi-ld:Product:001\"},\"stockCount\":{\"type\":\"Integer\",\"value\":10000},\"shelfCount\":{\"type\":\"Integer\",\"value\":15}},{\"id\":\"urn:ngsi-ld:InventoryItem:005\",\"type\":\"InventoryItem\",\"refStore\":{\"type\":\"Relationship\",\"value\":\"urn:ngsi-ld:Store:002\"},\"refShelf\":{\"type\":\"Relationship\",\"value\":\"urn:ngsi-ld:Shelf:unit005\"},\"refProduct\":{\"type\":\"Relationship\",\"value\":\"urn:ngsi-ld:Product:002\"},\"stockCount\":{\"type\":\"Integer\",\"value\":10000},\"shelfCount\":{\"type\":\"Integer\",\"value\":15}},{\"id\":\"urn:ngsi-ld:InventoryItem:006\",\"type\":\"InventoryItem\",\"refStore\":{\"type\":\"Relationship\",\"value\":\"urn:ngsi-ld:Store:003\"},\"refShelf\":{\"type\":\"Relationship\",\"value\":\"urn:ngsi-ld:Shelf:unit006\"},\"refProduct\":{\"type\":\"Relationship\",\"value\":\"urn:ngsi-ld:Product:001\"},\"stockCount\":{\"type\":\"Integer\",\"value\":10000},\"shelfCount\":{\"type\":\"Integer\",\"value\":50}},{\"id\":\"urn:ngsi-ld:InventoryItem:007\",\"type\":\"InventoryItem\",\"refStore\":{\"type\":\"Relationship\",\"value\":\"urn:ngsi-ld:Store:003\"},\"refShelf\":{\"type\":\"Relationship\",\"value\":\"urn:ngsi-ld:Shelf:unit007\"},\"refProduct\":{\"type\":\"Relationship\",\"value\":\"urn:ngsi-ld:Product:008\"},\"stockCount\":{\"type\":\"Integer\",\"value\":10000},\"shelfCount\":{\"type\":\"Integer\",\"value\":50}},{\"id\":\"urn:ngsi-ld:InventoryItem:008\",\"type\":\"InventoryItem\",\"refStore\":{\"type\":\"Relationship\",\"value\":\"urn:ngsi-ld:Store:003\"},\"refShelf\":{\"type\":\"Relationship\",\"value\":\"urn:ngsi-ld:Shelf:unit008\"},\"refProduct\":{\"type\":\"Relationship\",\"value\":\"urn:ngsi-ld:Product:009\"},\"stockCount\":{\"type\":\"Integer\",\"value\":10000},\"shelfCount\":{\"type\":\"Integer\",\"value\":50}},{\"id\":\"urn:ngsi-ld:InventoryItem:401\",\"type\":\"InventoryItem\",\"refStore\":{\"type\":\"Relationship\",\"value\":\"urn:ngsi-ld:Store:004\"},\"refShelf\":{\"type\":\"Relationship\",\"value\":\"urn:ngsi-ld:Shelf:unit010\"},\"refProduct\":{\"type\":\"Relationship\",\"value\":\"urn:ngsi-ld:Product:001\"},\"stockCount\":{\"type\":\"Integer\",\"value\":10000},\"shelfCount\":{\"type\":\"Integer\",\"value\":50}}]",
        "payloadType": "json",
        "x": 140,
        "y": 1560,
        "wires": [
            [
                "147cbb62b18f9fb0"
            ]
        ]
    },
    {
        "id": "2f67cf72ab3f1346",
        "type": "comment",
        "z": "df0435d82c4bf5f6",
        "name": "WRITE (v2)",
        "info": " - [CRUD operations](https://github.com/FIWARE/tutorials.CRUD-Operations/tree/NGSI-v2)\n - [PEP Proxy](https://github.com/FIWARE/tutorials.PEP-Proxy/tree/NGSI-v2)\n",
        "x": 130,
        "y": 1400,
        "wires": []
    },
    {
        "id": "a0e9e84cd355b344",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "entities (v2)",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "[{\"id\":\"urn:ngsi-ld:Product:011\",\"type\":\"Product\",\"name\":{\"type\":\"Text\",\"value\":\"Brandy\"},\"size\":{\"type\":\"Text\",\"value\":\"M\"},\"price\":{\"type\":\"Integer\",\"value\":1199}},{\"id\":\"urn:ngsi-ld:Product:012\",\"type\":\"Product\",\"name\":{\"type\":\"Text\",\"value\":\"Port\"},\"size\":{\"type\":\"Text\",\"value\":\"M\"},\"price\":{\"type\":\"Integer\",\"value\":1099}}]",
        "payloadType": "json",
        "x": 130,
        "y": 1440,
        "wires": [
            [
                "a73671030385aef9"
            ]
        ]
    },
    {
        "id": "f905cb4ee048fb9c",
        "type": "comment",
        "z": "df0435d82c4bf5f6",
        "name": "READ (v2)",
        "info": " - [CRUD Tutorial](https://github.com/FIWARE/tutorials.CRUD-Operations/tree/NGSI-v2)\n - [PEP Proxy](https://github.com/FIWARE/tutorials.PEP-Proxy/tree/NGSI-v2)\n",
        "x": 120,
        "y": 1640,
        "wires": []
    },
    {
        "id": "fd9fc46d4287e283",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "search by",
        "props": [
            {
                "p": "type",
                "v": "Product",
                "vt": "str"
            },
            {
                "p": "attrs",
                "v": "name,price",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 120,
        "y": 1800,
        "wires": [
            [
                "ae10e8be2485ab8f"
            ]
        ]
    },
    {
        "id": "1cdb8bdfea8d2119",
        "type": "template",
        "z": "df0435d82c4bf5f6",
        "name": "type,attrs",
        "field": "payload",
        "fieldType": "msg",
        "format": "json",
        "syntax": "mustache",
        "template": "{\n    \"type\": \"{{type}}\",\n    \"attrs\": \"{{attrs}}\"\n}\n",
        "output": "json",
        "x": 460,
        "y": 1800,
        "wires": [
            [
                "62af9ffdc835056f"
            ]
        ]
    },
    {
        "id": "9cb4b632167e5483",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "sensor",
        "props": [
            {
                "p": "id",
                "v": "urn:ngsi-ld:PowerSensor:001",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 110,
        "y": 1740,
        "wires": [
            [
                "e8d0dbf4ff375c89"
            ]
        ]
    },
    {
        "id": "0218b1408599602e",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "sensor",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "[{\"id\":\"urn:ngsi-ld:PowerSensor:001\"}]",
        "payloadType": "json",
        "x": 110,
        "y": 2040,
        "wires": [
            [
                "038dd5b06d73db33"
            ]
        ]
    },
    {
        "id": "0b2f5a2eea6e4482",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "import-data (v2)",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "[{\"id\":\"urn:ngsi-ld:Store:001\",\"type\":\"Store\"},{\"id\":\"urn:ngsi-ld:Store:002\",\"type\":\"Store\"},{\"id\":\"urn:ngsi-ld:Store:003\",\"type\":\"Store\"},{\"id\":\"urn:ngsi-ld:Store:004\",\"type\":\"Store\"},{\"id\":\"urn:ngsi-ld:Shelf:unit001\",\"type\":\"Shelf\"},{\"id\":\"urn:ngsi-ld:Shelf:unit002\",\"type\":\"Shelf\"},{\"id\":\"urn:ngsi-ld:Shelf:unit003\",\"type\":\"Shelf\"},{\"id\":\"urn:ngsi-ld:Shelf:unit004\",\"type\":\"Shelf\"},{\"id\":\"urn:ngsi-ld:Shelf:unit005\",\"type\":\"Shelf\"},{\"id\":\"urn:ngsi-ld:Shelf:unit006\",\"type\":\"Shelf\"},{\"id\":\"urn:ngsi-ld:Shelf:unit007\",\"type\":\"Shelf\"},{\"id\":\"urn:ngsi-ld:Shelf:unit008\",\"type\":\"Shelf\"},{\"id\":\"urn:ngsi-ld:Shelf:unit009\",\"type\":\"Shelf\"},{\"id\":\"urn:ngsi-ld:Shelf:unit010\",\"type\":\"Shelf\"},{\"id\":\"urn:ngsi-ld:Product:001\",\"type\":\"Product\"},{\"id\":\"urn:ngsi-ld:Product:002\",\"type\":\"Product\"},{\"id\":\"urn:ngsi-ld:Product:003\",\"type\":\"Product\"},{\"id\":\"urn:ngsi-ld:Product:004\",\"type\":\"Product\"},{\"id\":\"urn:ngsi-ld:Product:005\",\"type\":\"Product\"},{\"id\":\"urn:ngsi-ld:Product:006\",\"type\":\"Product\"},{\"id\":\"urn:ngsi-ld:Product:007\",\"type\":\"Product\"},{\"id\":\"urn:ngsi-ld:Product:008\",\"type\":\"Product\"},{\"id\":\"urn:ngsi-ld:Product:009\",\"type\":\"Product\"},{\"id\":\"urn:ngsi-ld:InventoryItem:001\",\"type\":\"InventoryItem\"},{\"id\":\"urn:ngsi-ld:InventoryItem:002\",\"type\":\"InventoryItem\"},{\"id\":\"urn:ngsi-ld:InventoryItem:003\",\"type\":\"InventoryItem\"},{\"id\":\"urn:ngsi-ld:InventoryItem:004\",\"type\":\"InventoryItem\"},{\"id\":\"urn:ngsi-ld:InventoryItem:005\",\"type\":\"InventoryItem\"},{\"id\":\"urn:ngsi-ld:InventoryItem:006\",\"type\":\"InventoryItem\"},{\"id\":\"urn:ngsi-ld:InventoryItem:007\",\"type\":\"InventoryItem\"},{\"id\":\"urn:ngsi-ld:InventoryItem:008\",\"type\":\"InventoryItem\"},{\"id\":\"urn:ngsi-ld:InventoryItem:401\",\"type\":\"InventoryItem\"}]",
        "payloadType": "json",
        "x": 140,
        "y": 2100,
        "wires": [
            [
                "d310fcaa3a5937b3"
            ]
        ]
    },
    {
        "id": "0672299845a25aeb",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "entities (v2)",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "[{\"id\":\"urn:ngsi-ld:Product:011\",\"type\":\"Product\"},{\"id\":\"urn:ngsi-ld:Product:012\",\"type\":\"Product\"}]",
        "payloadType": "json",
        "x": 130,
        "y": 1980,
        "wires": [
            [
                "9f6b591146463158"
            ]
        ]
    },
    {
        "id": "0e81a66b434c1d73",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "all entities",
        "props": [],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 120,
        "y": 1920,
        "wires": [
            [
                "26522b5dbadeb248"
            ]
        ]
    },
    {
        "id": "0cf4f8bb7b24d4dc",
        "type": "template",
        "z": "df0435d82c4bf5f6",
        "name": "attrs",
        "field": "payload",
        "fieldType": "msg",
        "format": "json",
        "syntax": "mustache",
        "template": "{\n    \"attrs\": \"id\"\n}",
        "output": "json",
        "x": 450,
        "y": 1920,
        "wires": [
            [
                "ec7c26e51a11fc7e"
            ]
        ]
    },
    {
        "id": "78478394ecad8756",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "statusCode & \": \" & (statusCode > 300 ? payload.error : \"updated at \" & $now(\"[H01]:[m]:[s]\"))",
        "statusType": "jsonata",
        "x": 810,
        "y": 1500,
        "wires": []
    },
    {
        "id": "cade8350ccc5d1fe",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "statusCode",
        "statusType": "msg",
        "x": 810,
        "y": 2040,
        "wires": []
    },
    {
        "id": "39863b210e260e86",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "name": "append",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\t   \"actionType\": \"append\",\t   \"entities\": payload\t}",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 1500,
        "wires": [
            [
                "7a809ab85680562e"
            ]
        ]
    },
    {
        "id": "cace7bcee2998abf",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "name": "delete",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\t   \"actionType\": \"delete\",\t   \"entities\": payload\t}",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 2040,
        "wires": [
            [
                "3ea7a1070efdc73f"
            ]
        ]
    },
    {
        "id": "9bf99d100e6754a1",
        "type": "comment",
        "z": "df0435d82c4bf5f6",
        "name": "DELETE (v2)",
        "info": " - [CRUD operations](https://github.com/FIWARE/tutorials.CRUD-Operations/tree/NGSI-v2)\n",
        "x": 130,
        "y": 1880,
        "wires": []
    },
    {
        "id": "b2ae407c2e9f81ae",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "sensor",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "[\t    {\t        \"id\":\"urn:ngsi-ld:PowerSensor:001\",\t        \"type\":\"PowerSensor\",\t        \"category\": {\t            \"type\":\"Text\",\t            \"value\":\"Sensor\"\t        },\t        \"power\": {\t            \"type\":\"Integer\",\t            \"value\":$round(70*$random())+185,\t            \"metadata\": {\t                \"unitCode\": {\t                    \"type\": \"Text\",\t                    \"value\": \"Watt\"\t                }\t            }\t        }\t    }\t]",
        "payloadType": "jsonata",
        "x": 110,
        "y": 1500,
        "wires": [
            [
                "a519bfe512533b1f"
            ]
        ]
    },
    {
        "id": "c475e583ac9a607d",
        "type": "template",
        "z": "df0435d82c4bf5f6",
        "name": "id",
        "field": "payload",
        "fieldType": "msg",
        "format": "json",
        "syntax": "mustache",
        "template": "{\n    \"id\": \"{{id}}\"\n}\n",
        "output": "json",
        "x": 450,
        "y": 1740,
        "wires": [
            [
                "62af9ffdc835056f"
            ]
        ]
    },
    {
        "id": "ba1377ff553a1592",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "create entity",
        "props": [
            {
                "p": "x-auth-token",
                "v": "x-auth-token",
                "vt": "flow"
            },
            {
                "p": "orion",
                "v": "orion",
                "vt": "flow"
            },
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"id\":\"urn:ngsi-ld:PowerSensor:001\",\"type\":\"PowerSensor\",\"category\":{\"type\":\"Text\",\"value\":\"Sensor\"},\"power\":{\"type\":\"Integer\",\"value\":0,\"metadata\":{\"unitCode\":{\"type\":\"Text\",\"value\":\"Watt\"}}}}",
        "payloadType": "json",
        "x": 130,
        "y": 500,
        "wires": [
            [
                "bdac50254b8867df"
            ]
        ]
    },
    {
        "id": "b3cae042357ca1f4",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "write attribute",
        "props": [
            {
                "p": "x-auth-token",
                "v": "x-auth-token",
                "vt": "flow"
            },
            {
                "p": "orion",
                "v": "orion",
                "vt": "flow"
            },
            {
                "p": "id",
                "v": "urn:ngsi-ld:PowerSensor:001",
                "vt": "str"
            },
            {
                "p": "attr",
                "v": "power",
                "vt": "str"
            },
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "$round(70*$random())+185",
        "payloadType": "jsonata",
        "x": 130,
        "y": 580,
        "wires": [
            [
                "1fea865f94855627",
                "e4a86899f2a0deab"
            ]
        ]
    },
    {
        "id": "0342955a25c61a98",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "name": "test create",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "statusCode & \": \" & (statusCode > 300 ? payload.error : \"created at \" & $now(\"[H01]:[m]:[s]\"))",
        "statusType": "jsonata",
        "x": 810,
        "y": 500,
        "wires": []
    },
    {
        "id": "fd94df7ee9b01af2",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "name": "test write",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "statusCode & \": \" & (statusCode > 300 ? payload.error : \"updated at \" & $now(\"[H01]:[m]:[s]\"))",
        "statusType": "jsonata",
        "x": 800,
        "y": 580,
        "wires": []
    },
    {
        "id": "2617db0f41027fcd",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "read attribute",
        "props": [
            {
                "p": "x-auth-token",
                "v": "x-auth-token",
                "vt": "flow"
            },
            {
                "p": "orion",
                "v": "orion",
                "vt": "flow"
            },
            {
                "p": "id",
                "v": "urn:ngsi-ld:PowerSensor:001",
                "vt": "str"
            },
            {
                "p": "attr",
                "v": "power",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 130,
        "y": 660,
        "wires": [
            [
                "1ec5d01f0c696c5d"
            ]
        ]
    },
    {
        "id": "9a8cae31d8b2c780",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "name": "test read",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "statusCode & \": \" & (statusCode > 300 ? payload.error : payload)",
        "statusType": "jsonata",
        "x": 800,
        "y": 660,
        "wires": []
    },
    {
        "id": "bdac50254b8867df",
        "type": "http request",
        "z": "df0435d82c4bf5f6",
        "name": "POST /v2/entities",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "{{{orion}}}/v2/entities",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "Content-Type",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            },
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "x-auth-token"
            }
        ],
        "x": 490,
        "y": 500,
        "wires": [
            [
                "0342955a25c61a98"
            ]
        ]
    },
    {
        "id": "2b25c6706ddbd350",
        "type": "http request",
        "z": "df0435d82c4bf5f6",
        "name": "GET /v2/entities/{id}",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "query",
        "url": "{{{orion}}}/v2/entities/{{{id}}}",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "x-auth-token"
            }
        ],
        "x": 490,
        "y": 740,
        "wires": [
            [
                "b9c56731c1b59cab"
            ]
        ]
    },
    {
        "id": "b9c56731c1b59cab",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "name": "test get",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "statusCode & \": \" & (statusCode > 300 ? payload.error : payload.id)",
        "statusType": "jsonata",
        "x": 800,
        "y": 740,
        "wires": []
    },
    {
        "id": "48001fe32fd3b455",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "get entity",
        "props": [
            {
                "p": "x-auth-token",
                "v": "x-auth-token",
                "vt": "flow"
            },
            {
                "p": "orion",
                "v": "orion",
                "vt": "flow"
            },
            {
                "p": "id",
                "v": "urn:ngsi-ld:PowerSensor:001",
                "vt": "str"
            },
            {
                "p": "payload.options",
                "v": "keyValues",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 120,
        "y": 740,
        "wires": [
            [
                "2b25c6706ddbd350"
            ]
        ]
    },
    {
        "id": "5a8fdbed2f169f39",
        "type": "http request",
        "z": "df0435d82c4bf5f6",
        "name": "DELETE /v2/entities/{id}",
        "method": "DELETE",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "{{{orion}}}/v2/entities/{{{id}}}",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "x-auth-token"
            }
        ],
        "x": 510,
        "y": 820,
        "wires": [
            [
                "79c036e006767f3f"
            ]
        ]
    },
    {
        "id": "4e41ec3961fb6140",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "delete entity",
        "props": [
            {
                "p": "x-auth-token",
                "v": "x-auth-token",
                "vt": "flow"
            },
            {
                "p": "orion",
                "v": "orion",
                "vt": "flow"
            },
            {
                "p": "id",
                "v": "urn:ngsi-ld:PowerSensor:001",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 130,
        "y": 820,
        "wires": [
            [
                "5a8fdbed2f169f39"
            ]
        ]
    },
    {
        "id": "79c036e006767f3f",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "name": "test delete",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "statusCode & \": \" & (statusCode > 300 ? payload.error : \"deleted at \" & $now(\"[H01]:[m]:[s]\"))",
        "statusType": "jsonata",
        "x": 810,
        "y": 820,
        "wires": []
    },
    {
        "id": "177e4e8615c88971",
        "type": "http request",
        "z": "df0435d82c4bf5f6",
        "name": "GET /v2/subscriptions/",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "{{{orion}}}/v2/subscriptions/",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "x-auth-token"
            }
        ],
        "x": 500,
        "y": 1280,
        "wires": [
            [
                "a5c07c6f7b4a01de"
            ]
        ]
    },
    {
        "id": "fee397d3f5927a85",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "list all subs",
        "props": [
            {
                "p": "orion",
                "v": "orion",
                "vt": "flow"
            },
            {
                "p": "x-auth-token",
                "v": "x-auth-token",
                "vt": "flow"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 120,
        "y": 1280,
        "wires": [
            [
                "7e6c89d196e3d18b"
            ]
        ]
    },
    {
        "id": "28ed5ae15847748d",
        "type": "http request",
        "z": "df0435d82c4bf5f6",
        "name": "DELETE /v2/subscriptions/{id}",
        "method": "DELETE",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "{{{orion}}}/v2/subscriptions/{{id}}",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "x-auth-token"
            }
        ],
        "x": 530,
        "y": 1200,
        "wires": [
            [
                "177e4e8615c88971",
                "5b6eb3a210866814"
            ]
        ]
    },
    {
        "id": "83ab82cd8c4862a4",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "delete latest sub",
        "props": [
            {
                "p": "orion",
                "v": "orion",
                "vt": "flow"
            },
            {
                "p": "x-auth-token",
                "v": "x-auth-token",
                "vt": "flow"
            },
            {
                "p": "id",
                "v": "latest",
                "vt": "flow"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 140,
        "y": 1200,
        "wires": [
            [
                "f357b7236b53deab"
            ]
        ]
    },
    {
        "id": "fba1a574e20ea420",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "delete all subs",
        "props": [
            {
                "p": "orion",
                "v": "orion",
                "vt": "flow"
            },
            {
                "p": "x-auth-token",
                "v": "x-auth-token",
                "vt": "flow"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 130,
        "y": 1120,
        "wires": [
            [
                "ca8f48654b02dc6e"
            ]
        ]
    },
    {
        "id": "be6cc99f77efb435",
        "type": "http request",
        "z": "df0435d82c4bf5f6",
        "name": "GET /v2/subscriptions/",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "{{{orion}}}/v2/subscriptions/",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "x-auth-token"
            }
        ],
        "x": 500,
        "y": 1120,
        "wires": [
            [
                "e0005ac961cc1ba3",
                "becb461173db71eb"
            ]
        ]
    },
    {
        "id": "9078b6c741d15a80",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "name": "get flow.latest",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload.id",
        "statusType": "msg",
        "x": 820,
        "y": 1340,
        "wires": []
    },
    {
        "id": "c2a6481bc996cb52",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "latest",
                "pt": "flow",
                "to": "payload.id",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 820,
        "y": 1340,
        "wires": [
            []
        ]
    },
    {
        "id": "bd6ab7ed675b37c8",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "payload.id",
                "pt": "msg",
                "to": "id",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 840,
        "y": 1160,
        "wires": [
            [
                "28ed5ae15847748d"
            ]
        ]
    },
    {
        "id": "5b6eb3a210866814",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "statusCode&\" - \"&(payload.error?payload.error:$count(payload)&($count(payload)=1?\" result\":\" results\"))",
        "statusType": "jsonata",
        "x": 810,
        "y": 1200,
        "wires": []
    },
    {
        "id": "e0005ac961cc1ba3",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "name": "split",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "statusCode&\" - \"&(payload.error?payload.error:$count(payload)&($count(payload)=1?\" result\":\" results\"))",
        "statusType": "jsonata",
        "x": 670,
        "y": 1140,
        "wires": []
    },
    {
        "id": "8f350681adaa6d25",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "name": "split",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "statusCode&\" - \"&(payload.error?payload.error:$count(payload)&($count(payload)=1?\" result\":\" results\"))",
        "statusType": "jsonata",
        "x": 670,
        "y": 1340,
        "wires": []
    },
    {
        "id": "becb461173db71eb",
        "type": "split",
        "z": "df0435d82c4bf5f6",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 670,
        "y": 1140,
        "wires": [
            [
                "bd6ab7ed675b37c8"
            ]
        ]
    },
    {
        "id": "8d1b106e810c95e8",
        "type": "split",
        "z": "df0435d82c4bf5f6",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 670,
        "y": 1340,
        "wires": [
            [
                "9078b6c741d15a80",
                "c2a6481bc996cb52"
            ]
        ]
    },
    {
        "id": "da84f6a44547b852",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "create simple sub",
        "props": [
            {
                "p": "orion",
                "v": "orion",
                "vt": "flow"
            },
            {
                "p": "x-auth-token",
                "v": "x-auth-token",
                "vt": "flow"
            },
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"description\":\"Notify me of all power measurements\",\"subject\":{\"entities\":[{\"idPattern\":\".*\",\"type\":\"PowerSensor\"}],\"condition\":{\"attrs\":[\"power\"]}},\"notification\":{\"http\":{\"url\":\"http://node-red:1880/attribute-change\"}}}",
        "payloadType": "json",
        "x": 140,
        "y": 980,
        "wires": [
            [
                "5f6b46db34707201"
            ]
        ]
    },
    {
        "id": "048515b9b28e67f7",
        "type": "http request",
        "z": "df0435d82c4bf5f6",
        "name": "POST /v2/subscriptions/",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "{{{orion}}}/v2/subscriptions/",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "Content-Type",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            },
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "x-auth-token"
            }
        ],
        "x": 510,
        "y": 920,
        "wires": [
            [
                "a9dc0f7a08ba7ccb"
            ]
        ]
    },
    {
        "id": "b274b93e6c5919d8",
        "type": "http in",
        "z": "df0435d82c4bf5f6",
        "name": "",
        "url": "/attribute-change",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 500,
        "y": 980,
        "wires": [
            [
                "c9222b64facd92af",
                "42582e495c9ba58c"
            ]
        ]
    },
    {
        "id": "c9222b64facd92af",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "name": "/power-change",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload.data[0].power.value",
        "statusType": "msg",
        "x": 820,
        "y": 980,
        "wires": []
    },
    {
        "id": "1fea865f94855627",
        "type": "delay",
        "z": "df0435d82c4bf5f6",
        "name": "",
        "pauseType": "delay",
        "timeout": "100",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 290,
        "y": 620,
        "wires": [
            [
                "1ec5d01f0c696c5d"
            ]
        ]
    },
    {
        "id": "68337eac7279b83e",
        "type": "http in",
        "z": "df0435d82c4bf5f6",
        "name": "",
        "url": "/test-simple-ads",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 500,
        "y": 1040,
        "wires": [
            [
                "42582e495c9ba58c",
                "ef875690942670a0"
            ]
        ]
    },
    {
        "id": "42582e495c9ba58c",
        "type": "http response",
        "z": "df0435d82c4bf5f6",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 790,
        "y": 1100,
        "wires": []
    },
    {
        "id": "ef875690942670a0",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "name": "/test-simple-ads",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload.data[0].power.value",
        "statusType": "msg",
        "x": 820,
        "y": 1040,
        "wires": []
    },
    {
        "id": "a9dc0f7a08ba7ccb",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "statusCode & \": \" & $replace(headers.location, \"/v2/subscriptions/\", \"\")",
        "statusType": "jsonata",
        "x": 810,
        "y": 920,
        "wires": []
    },
    {
        "id": "a5c07c6f7b4a01de",
        "type": "trigger",
        "z": "df0435d82c4bf5f6",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "nul",
        "op2type": "payl",
        "duration": "250",
        "extend": true,
        "overrideDelay": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 480,
        "y": 1340,
        "wires": [
            [
                "8f350681adaa6d25",
                "8d1b106e810c95e8"
            ]
        ]
    },
    {
        "id": "53fce3979e2f99d8",
        "type": "comment",
        "z": "df0435d82c4bf5f6",
        "name": "SUBSCRIBE (v2)",
        "info": "[Subscriptions](https://github.com/FIWARE/tutorials.Subscriptions/tree/NGSI-v2)\n\n[Simple Query Language](https://github.com/telefonicaid/fiware-orion/blob/master/doc/manuals/orion-api.md#simple-query-language)",
        "x": 140,
        "y": 920,
        "wires": []
    },
    {
        "id": "1cc9f0b17c9a2312",
        "type": "comment",
        "z": "df0435d82c4bf5f6",
        "name": "http://node-red:1880",
        "info": "On Linux:   172.17.0.1\nOn Windows: host.docker.internal",
        "x": 550,
        "y": 900,
        "wires": []
    },
    {
        "id": "0c8ee8587c5d6fa8",
        "type": "comment",
        "z": "df0435d82c4bf5f6",
        "name": "PowerSensor [185-255 W] (NGSI-v2)",
        "info": "Orion v2\n - [CRUD operations](https://github.com/FIWARE/tutorials.CRUD-Operations/tree/NGSI-v2)\n - [PEP Proxy](https://github.com/FIWARE/tutorials.PEP-Proxy/tree/NGSI-v2)\n - [Subscriptions](https://github.com/FIWARE/tutorials.Subscriptions/tree/NGSI-v2)\n\nNGSI v2\n - [FIWARE-NGSI v2 Specification](https://fiware.github.io/specifications/ngsiv2/stable/)\n - [FIWARE-NGSI Simple API (v2) Cookbook](https://fiware-ges.github.io/orion/archive/api/v2/cookbook/)\n",
        "x": 210,
        "y": 460,
        "wires": []
    },
    {
        "id": "e4a86899f2a0deab",
        "type": "http request",
        "z": "df0435d82c4bf5f6",
        "name": "PUT /v2/entities/{id}/attrs/{attr}/value",
        "method": "PUT",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "{{{orion}}}/v2/entities/{{{id}}}/attrs/{{{attr}}}/value",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "x-auth-token"
            },
            {
                "keyType": "other",
                "keyValue": "Content-Type",
                "valueType": "other",
                "valueValue": "text/plain"
            }
        ],
        "x": 550,
        "y": 580,
        "wires": [
            [
                "fd94df7ee9b01af2"
            ]
        ]
    },
    {
        "id": "1ec5d01f0c696c5d",
        "type": "http request",
        "z": "df0435d82c4bf5f6",
        "name": "GET /v2/entities/{id}/attrs/{attr}/value",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "{{{orion}}}/v2/entities/{{{id}}}/attrs/{{{attr}}}/value",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "x-auth-token"
            },
            {
                "keyType": "Accept",
                "keyValue": "",
                "valueType": "text/plain",
                "valueValue": ""
            }
        ],
        "x": 550,
        "y": 660,
        "wires": [
            [
                "9a8cae31d8b2c780"
            ]
        ]
    },
    {
        "id": "3be1023a6df44e67",
        "type": "comment",
        "z": "df0435d82c4bf5f6",
        "name": "WRITE (LD)",
        "info": " - [CRUD operations](https://github.com/FIWARE/tutorials.CRUD-Operations/tree/NGSI-LD)\n - [PEP Proxy](https://github.com/FIWARE/tutorials.PEP-Proxy/tree/NGSI-LD)\n",
        "x": 1150,
        "y": 1360,
        "wires": []
    },
    {
        "id": "baca3db378f359da",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "entities (LD)",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "[{\"id\":\"urn:ngsi-ld:TemperatureSensor:001\",\"type\":\"TemperatureSensor\",\"category\":{\"type\":\"Property\",\"value\":\"sensor\"},\"temperature\":{\"type\":\"Property\",\"value\":24.1,\"unitCode\":\"CEL\"}},{\"id\":\"urn:ngsi-ld:TemperatureSensor:002\",\"type\":\"TemperatureSensor\",\"category\":{\"type\":\"Property\",\"value\":\"sensor\"},\"temperature\":{\"type\":\"Property\",\"value\":25.2,\"unitCode\":\"CEL\"}},{\"id\":\"urn:ngsi-ld:TemperatureSensor:003\",\"type\":\"TemperatureSensor\",\"category\":{\"type\":\"Property\",\"value\":\"sensor\"},\"temperature\":{\"type\":\"Property\",\"value\":26.3,\"unitCode\":\"CEL\"}}]",
        "payloadType": "json",
        "x": 1150,
        "y": 1400,
        "wires": [
            [
                "3c261c6f74daa98b"
            ]
        ]
    },
    {
        "id": "40c253278c3daec4",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "statusCode",
        "statusType": "msg",
        "x": 1890,
        "y": 1460,
        "wires": []
    },
    {
        "id": "8523ac2cbba67e7f",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "sensor",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "[{\t    \"id\": \"urn:ngsi-ld:TemperatureSensor:001\",\t    \"type\": \"TemperatureSensor\",\t    \"category\": {\t        \"type\": \"Property\",\t        \"value\": \"Sensor\"\t    },\t    \"temperature\": {\t        \"type\": \"Property\",\t        \"value\": $round(200*$random())-50,\t        \"unitCode\": \"CEL\"\t    }\t}]",
        "payloadType": "jsonata",
        "x": 1130,
        "y": 1460,
        "wires": [
            [
                "2a5b0aaa7c8330bf"
            ]
        ]
    },
    {
        "id": "ee4937bd6396cce7",
        "type": "http request",
        "z": "df0435d82c4bf5f6",
        "name": "POST /ngsi-ld/v1/entityOperations/upsert",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "{{{orion-ld}}}/ngsi-ld/v1/entityOperations/upsert",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "x-auth-token"
            },
            {
                "keyType": "other",
                "keyValue": "Link",
                "valueType": "msg",
                "valueValue": "link"
            }
        ],
        "x": 1600,
        "y": 1460,
        "wires": [
            [
                "40c253278c3daec4"
            ]
        ]
    },
    {
        "id": "788d290895652ca1",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "import-data (LD)",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "[{\"id\":\"urn:ngsi-ld:Building:farm001\",\"type\":\"Building\",\"category\":{\"type\":\"Property\",\"value\":[\"farm\"]},\"address\":{\"type\":\"Property\",\"value\":{\"streetAddress\":\"Großer Stern 1\",\"addressRegion\":\"Berlin\",\"addressLocality\":\"Tiergarten\",\"postalCode\":\"10557\"},\"verified\":{\"type\":\"Property\",\"value\":true}},\"location\":{\"type\":\"GeoProperty\",\"value\":{\"type\":\"Point\",\"coordinates\":[13.3505,52.5144]}},\"name\":{\"type\":\"Property\",\"value\":\"Victory Farm\"},\"owner\":{\"type\":\"Relationship\",\"object\":\"urn:ngsi-ld:Person:person001\"}},{\"id\":\"urn:ngsi-ld:Building:barn002\",\"type\":\"Building\",\"category\":{\"type\":\"Property\",\"value\":[\"barn\"]},\"address\":{\"type\":\"Property\",\"value\":{\"streetAddress\":\"Straße des 17. Juni\",\"addressRegion\":\"Berlin\",\"addressLocality\":\"Tiergarten\",\"postalCode\":\"10557\"},\"verified\":{\"type\":\"Property\",\"value\":true}},\"location\":{\"type\":\"GeoProperty\",\"value\":{\"type\":\"Point\",\"coordinates\":[13.3698,52.5163]}},\"name\":{\"type\":\"Property\",\"value\":\"Big Red Barn\"},\"owner\":{\"type\":\"Relationship\",\"object\":\"urn:ngsi-ld:Person:person001\"}},{\"id\":\"urn:ngsi-ld:Building:tower003\",\"type\":\"Building\",\"category\":{\"type\":\"Property\",\"value\":[\"water_tower\"]},\"address\":{\"type\":\"Property\",\"value\":{\"streetAddress\":\"John-Foster-Dulles-Allee\",\"addressRegion\":\"Berlin\",\"addressLocality\":\"Tiergarten\",\"postalCode\":\"10557\"},\"verified\":{\"type\":\"Property\",\"value\":true}},\"location\":{\"type\":\"GeoProperty\",\"value\":{\"type\":\"Point\",\"coordinates\":[13.3598,52.5165]}},\"name\":{\"type\":\"Property\",\"value\":\"Triton Tower\"},\"owner\":{\"type\":\"Relationship\",\"object\":\"urn:ngsi-ld:Person:person001\"}},{\"id\":\"urn:ngsi-ld:Building:farm002\",\"type\":\"Building\",\"category\":{\"type\":\"Property\",\"value\":[\"farm\"]},\"address\":{\"type\":\"Property\",\"value\":{\"streetAddress\":\"Hardenbergplatz 8\",\"addressRegion\":\"Berlin\",\"addressLocality\":\"Tiergarten\",\"postalCode\":\"10787\"},\"verified\":{\"type\":\"Property\",\"value\":true}},\"location\":{\"type\":\"GeoProperty\",\"value\":{\"type\":\"Point\",\"coordinates\":[13.3127,52.4893]}},\"name\":{\"type\":\"Property\",\"value\":\"Animal Farm\"},\"owner\":{\"type\":\"Relationship\",\"object\":\"urn:ngsi-ld:Person:person002\"}},{\"id\":\"urn:ngsi-ld:Person:person001\",\"type\":\"Person\",\"name\":{\"type\":\"Property\",\"value\":\"Old MacDonald\"}},{\"id\":\"urn:ngsi-ld:Person:person002\",\"type\":\"Person\",\"name\":{\"type\":\"Property\",\"value\":\"Napoleon the Pig\"}}]",
        "payloadType": "json",
        "x": 1160,
        "y": 1520,
        "wires": [
            [
                "fd52618d776940fa"
            ]
        ]
    },
    {
        "id": "3c261c6f74daa98b",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "name": "LD",
        "rules": [
            {
                "t": "set",
                "p": "orion-ld",
                "pt": "msg",
                "to": "orion-ld",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "x-auth-token",
                "pt": "msg",
                "to": "x-auth-token",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "link",
                "pt": "msg",
                "to": "link",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1330,
        "y": 1400,
        "wires": [
            [
                "ee4937bd6396cce7"
            ]
        ],
        "icon": "node-red-contrib-fiware_official/fiware.png"
    },
    {
        "id": "47b0ccc6d88ce9e0",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "create entity",
        "props": [
            {
                "p": "x-auth-token",
                "v": "x-auth-token",
                "vt": "flow"
            },
            {
                "p": "orion-ld",
                "v": "orion-ld",
                "vt": "flow"
            },
            {
                "p": "payload"
            },
            {
                "p": "link",
                "v": "link",
                "vt": "flow"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"id\":\"urn:ngsi-ld:TemperatureSensor:001\",\"type\":\"TemperatureSensor\",\"category\":{\"type\":\"Property\",\"value\":\"Sensor\"},\"temperature\":{\"type\":\"Property\",\"value\":0,\"unitCode\":\"CEL\"}}",
        "payloadType": "json",
        "x": 1150,
        "y": 500,
        "wires": [
            [
                "29a4bf5a8e76203c"
            ]
        ]
    },
    {
        "id": "024278f6592a80b8",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "name": "test create",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "statusCode & \": \" & (statusCode > 300 ? payload.title : \"created at \" & $now(\"[H01]:[m]:[s]\"))",
        "statusType": "jsonata",
        "x": 1890,
        "y": 500,
        "wires": []
    },
    {
        "id": "f79a4689b5baaa19",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "name": "test write",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "statusCode & \": \" & (statusCode > 300 ? payload.title : \"updated at \" & $now(\"[H01]:[m]:[s]\"))",
        "statusType": "jsonata",
        "x": 1880,
        "y": 580,
        "wires": []
    },
    {
        "id": "2739bfebf693d5cc",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "read attribute",
        "props": [
            {
                "p": "x-auth-token",
                "v": "x-auth-token",
                "vt": "flow"
            },
            {
                "p": "orion-ld",
                "v": "orion-ld",
                "vt": "flow"
            },
            {
                "p": "id",
                "v": "urn:ngsi-ld:TemperatureSensor:001",
                "vt": "str"
            },
            {
                "p": "link",
                "v": "link",
                "vt": "flow"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 1150,
        "y": 660,
        "wires": [
            [
                "4069e7f621879e5f"
            ]
        ]
    },
    {
        "id": "0e47121761cb1553",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "name": "test read",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "statusCode & \": \" & (payload.title ? payload.title : payload.temperature)",
        "statusType": "jsonata",
        "x": 1880,
        "y": 660,
        "wires": []
    },
    {
        "id": "29a4bf5a8e76203c",
        "type": "http request",
        "z": "df0435d82c4bf5f6",
        "name": "POST /ngsi-ld/v1/entities/",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "{{{orion-ld}}}/ngsi-ld/v1/entities",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "Content-Type",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            },
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "x-auth-token"
            },
            {
                "keyType": "other",
                "keyValue": "Link",
                "valueType": "msg",
                "valueValue": "link"
            }
        ],
        "x": 1550,
        "y": 500,
        "wires": [
            [
                "024278f6592a80b8"
            ]
        ]
    },
    {
        "id": "583e944f9561284c",
        "type": "http request",
        "z": "df0435d82c4bf5f6",
        "name": "GET /ngsi-ld/v1/entities/{id}",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "query",
        "url": "{{{orion-ld}}}/ngsi-ld/v1/entities/{{{id}}}",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "x-auth-token"
            },
            {
                "keyType": "other",
                "keyValue": "Link",
                "valueType": "msg",
                "valueValue": "link"
            }
        ],
        "x": 1560,
        "y": 740,
        "wires": [
            [
                "0e47121761cb1553",
                "6e1a7e440c28ba96"
            ]
        ]
    },
    {
        "id": "422269c7d88ad98a",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "get entity",
        "props": [
            {
                "p": "x-auth-token",
                "v": "x-auth-token",
                "vt": "flow"
            },
            {
                "p": "orion-ld",
                "v": "orion-ld",
                "vt": "flow"
            },
            {
                "p": "id",
                "v": "urn:ngsi-ld:TemperatureSensor:001",
                "vt": "str"
            },
            {
                "p": "link",
                "v": "link",
                "vt": "flow"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 1140,
        "y": 740,
        "wires": [
            [
                "47c549868fedc37a"
            ]
        ]
    },
    {
        "id": "0f65e6129319c749",
        "type": "http request",
        "z": "df0435d82c4bf5f6",
        "name": "DELETE /ngsi-ld/v1/entities/{{id}",
        "method": "DELETE",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "{{{orion-ld}}}/ngsi-ld/v1/entities/{{{id}}}",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "x-auth-token"
            }
        ],
        "x": 1570,
        "y": 820,
        "wires": [
            [
                "654f81effc8040c4"
            ]
        ]
    },
    {
        "id": "1dbb9c1f137d6d1a",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "delete entity",
        "props": [
            {
                "p": "x-auth-token",
                "v": "x-auth-token",
                "vt": "flow"
            },
            {
                "p": "orion-ld",
                "v": "orion-ld",
                "vt": "flow"
            },
            {
                "p": "id",
                "v": "urn:ngsi-ld:TemperatureSensor:001",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 1150,
        "y": 820,
        "wires": [
            [
                "0f65e6129319c749"
            ]
        ]
    },
    {
        "id": "654f81effc8040c4",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "name": "test delete",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "statusCode & \": \" & (statusCode > 300 ? payload.title : \"deleted at \" & $now(\"[H01]:[m]:[s]\"))",
        "statusType": "jsonata",
        "x": 1890,
        "y": 820,
        "wires": []
    },
    {
        "id": "0802effbd9ecd954",
        "type": "http request",
        "z": "df0435d82c4bf5f6",
        "name": "GET /ngsi-ld/v1/subscriptions",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "{{{orion-ld}}}/ngsi-ld/v1/subscriptions",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "x-auth-token"
            }
        ],
        "x": 1560,
        "y": 1280,
        "wires": [
            [
                "4cf4b2bdb6e3cd40"
            ]
        ]
    },
    {
        "id": "fda112e239cfde3c",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "list all subs",
        "props": [
            {
                "p": "orion-ld",
                "v": "orion-ld",
                "vt": "flow"
            },
            {
                "p": "x-auth-token",
                "v": "x-auth-token",
                "vt": "flow"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 1140,
        "y": 1280,
        "wires": [
            [
                "b38882d31a11a84f"
            ]
        ]
    },
    {
        "id": "ef4423936e332dab",
        "type": "http request",
        "z": "df0435d82c4bf5f6",
        "name": "DELETE /ngsi-ld/v1/subscriptions/{{id}}",
        "method": "DELETE",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "{{{orion-ld}}}/ngsi-ld/v1/subscriptions/{{id}}",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "x-auth-token"
            }
        ],
        "x": 1590,
        "y": 1220,
        "wires": [
            [
                "0802effbd9ecd954",
                "d575b52f395691d8"
            ]
        ]
    },
    {
        "id": "cfa99871edd06255",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "delete latest sub",
        "props": [
            {
                "p": "orion-ld",
                "v": "orion-ld",
                "vt": "flow"
            },
            {
                "p": "x-auth-token",
                "v": "x-auth-token",
                "vt": "flow"
            },
            {
                "p": "id",
                "v": "latest",
                "vt": "flow"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 1160,
        "y": 1200,
        "wires": [
            [
                "a8de0b47d3ea6476"
            ]
        ]
    },
    {
        "id": "aea41bdfeaa19e8f",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "delete all subs",
        "props": [
            {
                "p": "orion-ld",
                "v": "orion-ld",
                "vt": "flow"
            },
            {
                "p": "x-auth-token",
                "v": "x-auth-token",
                "vt": "flow"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 1150,
        "y": 1120,
        "wires": [
            [
                "45bbf0b3fbb6e1ad"
            ]
        ]
    },
    {
        "id": "0ebfe93656e97d2c",
        "type": "http request",
        "z": "df0435d82c4bf5f6",
        "name": "GET /ngsi-ld/v1/subscriptions",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "{{{orion-ld}}}/ngsi-ld/v1/subscriptions",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "x-auth-token"
            }
        ],
        "x": 1560,
        "y": 1120,
        "wires": [
            [
                "a552dbd18777a53d",
                "97cc548ff17fdbda"
            ]
        ]
    },
    {
        "id": "5beb8689a57022cb",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "name": "get flow.latest",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload.id",
        "statusType": "msg",
        "x": 1900,
        "y": 1340,
        "wires": []
    },
    {
        "id": "04386f25bfe5a546",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "latest",
                "pt": "flow",
                "to": "payload.id",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1900,
        "y": 1340,
        "wires": [
            []
        ]
    },
    {
        "id": "0602b6f768fd5ee8",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "name": "move msg.payload.id",
        "rules": [
            {
                "t": "move",
                "p": "payload.id",
                "pt": "msg",
                "to": "id",
                "tot": "msg"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1920,
        "y": 1160,
        "wires": [
            [
                "ef4423936e332dab"
            ]
        ]
    },
    {
        "id": "8f1a9731a5da8004",
        "type": "comment",
        "z": "df0435d82c4bf5f6",
        "name": "SUBSCRIBE (LD)",
        "info": " - [Subscriptions](https://github.com/FIWARE/tutorials.Subscriptions/tree/NGSI-LD)\n\nNGSI-LD Query Language, clause 4.9\n```\nQuery = (QueryTerm / QueryTermAssoc) *(LogicalOp (QueryTerm / QueryTermAssoc))\nQueryTermAssoc = %x28 QueryTerm *(LogicalOp QueryTerm) %x29 ; (QueryTerm)\nQueryTerm = Attribute\nQueryTerm =/ Attribute Operator ComparableValue\nQueryTerm =/ Attribute equal CompEqualityValue\nQueryTerm =/ Attribute unequal CompEqualityValue\nQueryTerm =/ Attribute patternOp RegExp\nQueryTerm =/ Attribute notPatternOp RegExp\nDottedPath = AttrName *(%x2E AttrName) ; AttrName *(.AttrName)\nAttribute = DottedPath *1(%x5B DottedPath %x5D) ; DottedPath *1([DottedPath])\nOperator = equal / unequal / greaterEq / greater / lessEq / less\nComparableValue = Number / quotedStr / dateTime / date / time\nOtherValue = false / true\nValue = ComparableValue / OtherValue\nRange = ComparableValue dots ComparableValue\nValueList = Value 1*(%x2C Value) ; Value 1*(, Value)\nCompEqualityValue = OtherValue / ValueList / Range / URI\nequal = %x3D %x3D ; ==\nunequal = %x21 %x3D ; !=\ngreater = %x3E ; >\ngreaterEq = %x3E %x3D ; >=\nless = %x3C ; <\nlessEq = %x3C %x3D ; <=\npatternOp = %x7E %x3D ; ~=\nnotPatternOp = %x21 %x7E %x3D ; !~=\ndots = %x2E %x2E ; ..\nAttrNameChar = unicodeNumber / unicodeLetter\nAttrNameChar =/ %x5F ; _\nAttrName = unicodeLetter *AttrNameChar\nquotedStr = String ; \"*char\"\nandOp = %x3B ; ;\norOp = %x7C ; |\nLogicalOp = andOp / orOp \n```",
        "x": 1170,
        "y": 920,
        "wires": []
    },
    {
        "id": "d575b52f395691d8",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "statusCode&\" - \"&(payload.error?payload.error:$count(payload)&($count(payload)=1?\" result\":\" results\"))",
        "statusType": "jsonata",
        "x": 1890,
        "y": 1220,
        "wires": []
    },
    {
        "id": "a552dbd18777a53d",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "name": "split",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "statusCode&\" - \"&(payload.error?payload.error:$count(payload)&($count(payload)=1?\" result\":\" results\"))",
        "statusType": "jsonata",
        "x": 1750,
        "y": 1140,
        "wires": []
    },
    {
        "id": "3165145fc420b9e7",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "name": "split",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "statusCode&\" - \"&(payload.error?payload.error:$count(payload)&($count(payload)=1?\" result\":\" results\"))",
        "statusType": "jsonata",
        "x": 1750,
        "y": 1340,
        "wires": []
    },
    {
        "id": "97cc548ff17fdbda",
        "type": "split",
        "z": "df0435d82c4bf5f6",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1750,
        "y": 1140,
        "wires": [
            [
                "0602b6f768fd5ee8"
            ]
        ]
    },
    {
        "id": "01cd503f325ca4d8",
        "type": "split",
        "z": "df0435d82c4bf5f6",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1750,
        "y": 1340,
        "wires": [
            [
                "5beb8689a57022cb",
                "04386f25bfe5a546"
            ]
        ]
    },
    {
        "id": "af4c8fe860c7ebb4",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "create simple ld sub",
        "props": [
            {
                "p": "orion-ld",
                "v": "orion-ld",
                "vt": "flow"
            },
            {
                "p": "x-auth-token",
                "v": "x-auth-token",
                "vt": "flow"
            },
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"description\":\"Notify me of all temperature changes\",\"type\":\"Subscription\",\"entities\":[{\"type\":\"TemperatureSensor\"}],\"watchedAttributes\":[\"temperature\"],\"notification\":{\"format\":\"keyValues\",\"endpoint\":{\"uri\":\"http://node-red:1880/attribute-change-ld\",\"accept\":\"application/json\"}}}",
        "payloadType": "json",
        "x": 1170,
        "y": 980,
        "wires": [
            [
                "87852e689e4c41d4"
            ]
        ]
    },
    {
        "id": "70ce479b82ba136a",
        "type": "http request",
        "z": "df0435d82c4bf5f6",
        "name": "POST /ngsi-ld/v1/subscriptions",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "{{{orion-ld}}}/ngsi-ld/v1/subscriptions",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "Content-Type",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            },
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "x-auth-token"
            },
            {
                "keyType": "other",
                "keyValue": "Link",
                "valueType": "msg",
                "valueValue": "link"
            }
        ],
        "x": 1570,
        "y": 920,
        "wires": [
            [
                "490a9db76dd0137e"
            ]
        ]
    },
    {
        "id": "490a9db76dd0137e",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "statusCode & \": \" & $replace(headers.location, \"/ngsi-ld/v1/subscriptions/\", \"\")",
        "statusType": "jsonata",
        "x": 1890,
        "y": 920,
        "wires": []
    },
    {
        "id": "c1e46c3b036eab8f",
        "type": "http in",
        "z": "df0435d82c4bf5f6",
        "name": "",
        "url": "/attribute-change-ld",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 1550,
        "y": 980,
        "wires": [
            [
                "c1485e3c1abfe9cb",
                "50d91663dd0bc63d"
            ]
        ]
    },
    {
        "id": "c1485e3c1abfe9cb",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "name": "/attribute-change-ld",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload.data[0].temperature",
        "statusType": "msg",
        "x": 1910,
        "y": 980,
        "wires": []
    },
    {
        "id": "6e1a7e440c28ba96",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "name": "test get",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "statusCode & \": \" & (payload.title? payload.title : payload.id)",
        "statusType": "jsonata",
        "x": 1880,
        "y": 740,
        "wires": []
    },
    {
        "id": "c0d3bd910b65bb0d",
        "type": "http in",
        "z": "df0435d82c4bf5f6",
        "name": "",
        "url": "/test-simple-ads-ld",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 1550,
        "y": 1040,
        "wires": [
            [
                "50d91663dd0bc63d",
                "ced8f3c2c701db5d"
            ]
        ]
    },
    {
        "id": "50d91663dd0bc63d",
        "type": "http response",
        "z": "df0435d82c4bf5f6",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 1870,
        "y": 1100,
        "wires": []
    },
    {
        "id": "ced8f3c2c701db5d",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "name": "/test-simple-ads-ld",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload.data[0].temperature",
        "statusType": "msg",
        "x": 1910,
        "y": 1040,
        "wires": []
    },
    {
        "id": "4cf4b2bdb6e3cd40",
        "type": "trigger",
        "z": "df0435d82c4bf5f6",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "nul",
        "op2type": "payl",
        "duration": "250",
        "extend": true,
        "overrideDelay": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1520,
        "y": 1340,
        "wires": [
            [
                "3165145fc420b9e7",
                "01cd503f325ca4d8"
            ]
        ]
    },
    {
        "id": "727cd60e131fe018",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "statusCode&\" - \"&(payload.error?payload.error:$count(payload)&($count(payload)=1?\" result\":\" results\"))",
        "statusType": "jsonata",
        "x": 1890,
        "y": 1700,
        "wires": []
    },
    {
        "id": "2cba963330d96592",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "search by types (verbose)",
        "props": [
            {
                "p": "payload.type",
                "v": "TemperatureSensor,Building,Person",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 1190,
        "y": 1640,
        "wires": [
            [
                "a2daaaa0410c347c"
            ]
        ]
    },
    {
        "id": "261195d629324b1a",
        "type": "comment",
        "z": "df0435d82c4bf5f6",
        "name": "READ (LD)",
        "info": " - [CRUD Tutorial](https://github.com/FIWARE/tutorials.CRUD-Operations/tree/NGSI-LD)\n - [PEP Proxy](https://github.com/FIWARE/tutorials.PEP-Proxy/tree/NGSI-LD)\n",
        "x": 1140,
        "y": 1600,
        "wires": []
    },
    {
        "id": "83d1fab696fbd5c6",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "search by type",
        "props": [
            {
                "p": "payload.type",
                "v": "Building",
                "vt": "str"
            },
            {
                "p": "payload.attrs",
                "v": "category,name",
                "vt": "str"
            },
            {
                "p": "payload.options",
                "v": "keyValues",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 1160,
        "y": 1760,
        "wires": [
            [
                "a2daaaa0410c347c"
            ]
        ]
    },
    {
        "id": "59a9da97b3b69303",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "sensor",
        "props": [
            {
                "p": "payload.id",
                "v": "urn:ngsi-ld:TemperatureSensor:001",
                "vt": "str"
            },
            {
                "p": "payload.options",
                "v": "keyValues",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 1130,
        "y": 1700,
        "wires": [
            [
                "a2daaaa0410c347c"
            ]
        ]
    },
    {
        "id": "755addf3ba165573",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "sensor",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "[\"urn:ngsi-ld:TemperatureSensor:001\"]",
        "payloadType": "json",
        "x": 1130,
        "y": 2000,
        "wires": [
            [
                "f0d46ab701576d31"
            ]
        ]
    },
    {
        "id": "7bf2a4b0778a75bc",
        "type": "http request",
        "z": "df0435d82c4bf5f6",
        "name": "POST /ngsi-ld/v1/entityOperations/delete",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "{{{orion-ld}}}/ngsi-ld/v1/entityOperations/delete",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "x-auth-token"
            }
        ],
        "x": 1600,
        "y": 2000,
        "wires": [
            [
                "8dc7872b779e14e4"
            ]
        ]
    },
    {
        "id": "a2d1ade033b42be6",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "import-data (v2)",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "[\"urn:ngsi-ld:Building:farm001\",\"urn:ngsi-ld:Building:farm002\",\"urn:ngsi-ld:Building:tower003\",\"urn:ngsi-ld:Building:barn002\",\"urn:ngsi-ld:Person:person001\",\"urn:ngsi-ld:Person:person002\"]",
        "payloadType": "json",
        "x": 1160,
        "y": 2060,
        "wires": [
            [
                "f0d46ab701576d31"
            ]
        ]
    },
    {
        "id": "ba26b6948aeea9da",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "entities (v2)",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "[\"urn:ngsi-ld:TemperatureSensor:001\",\"urn:ngsi-ld:TemperatureSensor:002\",\"urn:ngsi-ld:TemperatureSensor:003\"]",
        "payloadType": "json",
        "x": 1150,
        "y": 1940,
        "wires": [
            [
                "f0d46ab701576d31"
            ]
        ]
    },
    {
        "id": "8dc7872b779e14e4",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "statusCode",
        "statusType": "msg",
        "x": 1890,
        "y": 2000,
        "wires": []
    },
    {
        "id": "20b966c9374f0eba",
        "type": "comment",
        "z": "df0435d82c4bf5f6",
        "name": "DELETE (LD)",
        "info": " - [CRUD operations](https://github.com/FIWARE/tutorials.CRUD-Operations/tree/NGSI-LD)\n",
        "x": 1150,
        "y": 1840,
        "wires": []
    },
    {
        "id": "e50d85381aeaa541",
        "type": "template",
        "z": "df0435d82c4bf5f6",
        "name": "payload",
        "field": "payload",
        "fieldType": "msg",
        "format": "json",
        "syntax": "mustache",
        "template": "{\n    \"type\": \"Building\",\n    \"atts\": \"category,name\",\n    \"options\": \"keyValues\"\n}\n",
        "output": "json",
        "x": 1500,
        "y": 1640,
        "wires": [
            []
        ]
    },
    {
        "id": "78a6b5833fff51c8",
        "type": "http request",
        "z": "df0435d82c4bf5f6",
        "name": "GET /ngsi-ld/v1/entities",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "query",
        "url": "{{{orion-ld}}}/ngsi-ld/v1/entities",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "Link",
                "valueType": "msg",
                "valueValue": "link"
            },
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "x-auth-token"
            }
        ],
        "x": 1550,
        "y": 1700,
        "wires": [
            [
                "727cd60e131fe018",
                "7fb8d2d756d95ae9"
            ]
        ]
    },
    {
        "id": "a2daaaa0410c347c",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "name": "LD",
        "rules": [
            {
                "t": "set",
                "p": "orion-ld",
                "pt": "msg",
                "to": "orion-ld",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "x-auth-token",
                "pt": "msg",
                "to": "x-auth-token",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "link",
                "pt": "msg",
                "to": "link",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1330,
        "y": 1700,
        "wires": [
            [
                "78a6b5833fff51c8"
            ]
        ],
        "icon": "node-red-contrib-fiware_official/fiware.png"
    },
    {
        "id": "697343e52126b46e",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "all entities",
        "props": [
            {
                "p": "payload.options",
                "v": "keyValues",
                "vt": "str"
            },
            {
                "p": "payload.type",
                "v": "TemperatureSensor,Building,Person",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 1140,
        "y": 1880,
        "wires": [
            [
                "fd773a4b44c30afe"
            ]
        ]
    },
    {
        "id": "fd773a4b44c30afe",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "name": "LD",
        "rules": [
            {
                "t": "set",
                "p": "orion-ld",
                "pt": "msg",
                "to": "orion-ld",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "x-auth-token",
                "pt": "msg",
                "to": "x-auth-token",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "link",
                "pt": "msg",
                "to": "link",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1330,
        "y": 1880,
        "wires": [
            [
                "ab45d692d180144a"
            ]
        ],
        "icon": "node-red-contrib-fiware_official/fiware.png"
    },
    {
        "id": "ab45d692d180144a",
        "type": "http request",
        "z": "df0435d82c4bf5f6",
        "name": "GET /ngsi-ld/v1/entities",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "query",
        "url": "{{{orion-ld}}}/ngsi-ld/v1/entities",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "Content-Type",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            },
            {
                "keyType": "other",
                "keyValue": "Link",
                "valueType": "msg",
                "valueValue": "link"
            },
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "x-auth-token"
            }
        ],
        "x": 1550,
        "y": 1880,
        "wires": [
            [
                "1b9566fea926380b"
            ]
        ]
    },
    {
        "id": "1b9566fea926380b",
        "type": "split",
        "z": "df0435d82c4bf5f6",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1490,
        "y": 1940,
        "wires": [
            [
                "763bc8f257916094"
            ]
        ]
    },
    {
        "id": "3d1c8e52adccd19f",
        "type": "join",
        "z": "df0435d82c4bf5f6",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 1870,
        "y": 1940,
        "wires": [
            [
                "7bf2a4b0778a75bc"
            ]
        ]
    },
    {
        "id": "763bc8f257916094",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "payload.id",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1660,
        "y": 1940,
        "wires": [
            [
                "3d1c8e52adccd19f"
            ]
        ]
    },
    {
        "id": "f0d46ab701576d31",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "name": "LD",
        "rules": [
            {
                "t": "set",
                "p": "orion-ld",
                "pt": "msg",
                "to": "orion-ld",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "x-auth-token",
                "pt": "msg",
                "to": "x-auth-token",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "link",
                "pt": "msg",
                "to": "link",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1330,
        "y": 2000,
        "wires": [
            [
                "7bf2a4b0778a75bc"
            ]
        ],
        "icon": "node-red-contrib-fiware_official/fiware.png"
    },
    {
        "id": "7fb8d2d756d95ae9",
        "type": "split",
        "z": "df0435d82c4bf5f6",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1710,
        "y": 1640,
        "wires": [
            [
                "439573d3f6e0b123"
            ]
        ]
    },
    {
        "id": "439573d3f6e0b123",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1890,
        "y": 1640,
        "wires": []
    },
    {
        "id": "c9ae86dab2c02b41",
        "type": "http request",
        "z": "df0435d82c4bf5f6",
        "name": "GET /ngsi-ld/v1/entities (with @context removed)",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "query",
        "url": "{{{orion-ld}}}/ngsi-ld/v1/entities",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "Link",
                "valueType": "msg",
                "valueValue": "link"
            },
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "x-auth-token"
            },
            {
                "keyType": "Accept",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            }
        ],
        "x": 1630,
        "y": 1760,
        "wires": [
            []
        ]
    },
    {
        "id": "4074336428a3aebe",
        "type": "comment",
        "z": "df0435d82c4bf5f6",
        "name": "TemperatureSensor [15.0-30.0 °C] (NGSI-LD)",
        "info": "Orion-LD\n - [CRUD operations](https://github.com/FIWARE/tutorials.CRUD-Operations/tree/NGSI-LD)\n - [PEP Proxy](https://github.com/FIWARE/tutorials.PEP-Proxy/tree/NGSI-LD)\n - [Subscriptions](https://github.com/FIWARE/tutorials.Subscriptions/tree/NGSI-LD)\n\nNGSI-LD\n - [ETSI GS CIM 009](https://www.etsi.org/standards/get-standards#page=1&search=gs%20cim%20009&title=1&etsiNumber=1&content=1&version=1&onApproval=1&published=1&withdrawn=1&historical=1&isCurrent=1&superseded=1&startDate=1988-01-15&endDate=2024-04-16&harmonized=0&keyword=&TB=&stdType=&frequency=&mandate=&collection=&sort=1)\n - [v1.8.1(2024-03)](https://www.etsi.org/deliver/etsi_gs/CIM/001_099/009/01.08.01_60/gs_cim009v010801p.pdf)\n",
        "x": 1250,
        "y": 460,
        "wires": []
    },
    {
        "id": "84b4e91151209eb7",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "g": "644561f951ea370c",
        "name": "x-subject-token",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "headers[\"x-subject-token\"]",
        "statusType": "msg",
        "x": 1520,
        "y": 360,
        "wires": []
    },
    {
        "id": "264dd7c22c235eb6",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "g": "644561f951ea370c",
        "name": "user info",
        "props": [
            {
                "p": "keyrock",
                "v": "keyrock",
                "vt": "flow"
            },
            {
                "p": "username",
                "v": "username",
                "vt": "flow"
            },
            {
                "p": "password",
                "v": "password",
                "vt": "flow"
            },
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{ \"name\": username, \"password\": password }",
        "payloadType": "jsonata",
        "x": 1140,
        "y": 360,
        "wires": [
            [
                "4f23fc3d8b1d0308"
            ]
        ]
    },
    {
        "id": "3c7ce65a8a8afb94",
        "type": "http request",
        "z": "df0435d82c4bf5f6",
        "g": "644561f951ea370c",
        "name": "GET /v1/auth/tokens",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "{{{keyrock}}}/v1/auth/tokens",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "Content-Type",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            },
            {
                "keyType": "other",
                "keyValue": "X-Auth-token",
                "valueType": "msg",
                "valueValue": "x-subject-token"
            },
            {
                "keyType": "other",
                "keyValue": "X-Subject-token",
                "valueType": "msg",
                "valueValue": "x-subject-token"
            }
        ],
        "x": 1740,
        "y": 360,
        "wires": [
            [
                "209b6241e6a466d8"
            ]
        ]
    },
    {
        "id": "093de2403915081d",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "g": "644561f951ea370c",
        "name": "x-subject-token",
        "rules": [
            {
                "t": "set",
                "p": "x-subject-token",
                "pt": "msg",
                "to": "headers[\"x-subject-token\"]",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1520,
        "y": 360,
        "wires": [
            [
                "3c7ce65a8a8afb94"
            ]
        ]
    },
    {
        "id": "209b6241e6a466d8",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "g": "644561f951ea370c",
        "name": "user id",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "payload.User.id",
        "statusType": "msg",
        "x": 1910,
        "y": 360,
        "wires": []
    },
    {
        "id": "7a0d18bd3b339d0d",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "g": "a399fc643c3207d7",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "clientCredentials",
                "pt": "msg",
                "to": "clientId & \":\" & clientSecret",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1450,
        "y": 120,
        "wires": [
            [
                "7108c481a860d720"
            ]
        ]
    },
    {
        "id": "416e41df565fabb1",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "g": "a399fc643c3207d7",
        "name": "encoded credentials",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "clientCredentials",
        "statusType": "msg",
        "x": 1860,
        "y": 120,
        "wires": []
    },
    {
        "id": "d13d945dec6dcbef",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "g": "a399fc643c3207d7",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "authorization",
                "pt": "msg",
                "to": "\"Basic \" & clientCredentials",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1180,
        "y": 180,
        "wires": [
            [
                "f549aeb0b4ecedd3"
            ]
        ]
    },
    {
        "id": "9f432bef3072aef6",
        "type": "http request",
        "z": "df0435d82c4bf5f6",
        "g": "a399fc643c3207d7",
        "name": "POST /oauth2/token",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "{{{keyrock}}}/oauth2/token",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "Authorization",
                "keyValue": "",
                "valueType": "msg",
                "valueValue": "authorization"
            },
            {
                "keyType": "Content-Type",
                "keyValue": "",
                "valueType": "other",
                "valueValue": "application/x-www-form-urlencoded"
            }
        ],
        "x": 1620,
        "y": 180,
        "wires": [
            [
                "e0bfa17429fabcca",
                "a7421c2dcee4af40"
            ]
        ]
    },
    {
        "id": "e0bfa17429fabcca",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "g": "a399fc643c3207d7",
        "name": "access_token",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "payload.access_token",
        "statusType": "msg",
        "x": 1880,
        "y": 180,
        "wires": []
    },
    {
        "id": "6b1b8c3779e0e4cf",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "g": "a399fc643c3207d7",
        "name": "A",
        "rules": [
            {
                "t": "set",
                "p": "clientId",
                "pt": "msg",
                "to": "tutorial-dckr-site-0000-xpresswebapp",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "clientSecret",
                "pt": "msg",
                "to": "tutorial-dckr-site-0000-clientsecret",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "username",
                "pt": "msg",
                "to": "alice-the-admin@test.com",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "password",
                "pt": "msg",
                "to": "test",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1130,
        "y": 60,
        "wires": [
            [
                "7a0d18bd3b339d0d"
            ]
        ]
    },
    {
        "id": "192af80d18bec436",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "g": "a399fc643c3207d7",
        "name": "B",
        "rules": [
            {
                "t": "set",
                "p": "clientId",
                "pt": "msg",
                "to": "tutorial-dckr-site-0000-xpresswebapp",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "clientSecret",
                "pt": "msg",
                "to": "tutorial-dckr-site-0000-clientsecret",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "username",
                "pt": "msg",
                "to": "bob-the-manager@test.com",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "password",
                "pt": "msg",
                "to": "test",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1150,
        "y": 80,
        "wires": [
            [
                "7a0d18bd3b339d0d"
            ]
        ]
    },
    {
        "id": "7cd6d72930c4185e",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "g": "a399fc643c3207d7",
        "name": "C",
        "rules": [
            {
                "t": "set",
                "p": "clientId",
                "pt": "msg",
                "to": "tutorial-dckr-site-0000-xpresswebapp",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "clientSecret",
                "pt": "msg",
                "to": "tutorial-dckr-site-0000-clientsecret",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "username",
                "pt": "msg",
                "to": "charlie-security@test.com",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "password",
                "pt": "msg",
                "to": "test",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1170,
        "y": 100,
        "wires": [
            [
                "7a0d18bd3b339d0d"
            ]
        ]
    },
    {
        "id": "f549aeb0b4ecedd3",
        "type": "template",
        "z": "df0435d82c4bf5f6",
        "g": "a399fc643c3207d7",
        "name": "oauth2 payload",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "username={{username}}&password={{password}}&grant_type=password",
        "output": "str",
        "x": 1420,
        "y": 180,
        "wires": [
            [
                "9f432bef3072aef6"
            ]
        ]
    },
    {
        "id": "dc4fd2baacc7088d",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "g": "a399fc643c3207d7",
        "name": "Z",
        "rules": [
            {
                "t": "set",
                "p": "clientId",
                "pt": "msg",
                "to": "tutorial-dckr-site-0000-xpresswebapp",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "clientSecret",
                "pt": "msg",
                "to": "tutorial-dckr-site-0000-clientsecret",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "username",
                "pt": "msg",
                "to": "zelda@hyrule.com",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "password",
                "pt": "msg",
                "to": "test",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1190,
        "y": 120,
        "wires": [
            [
                "7a0d18bd3b339d0d"
            ]
        ]
    },
    {
        "id": "7108c481a860d720",
        "type": "base64",
        "z": "df0435d82c4bf5f6",
        "g": "a399fc643c3207d7",
        "name": "",
        "action": "str",
        "property": "clientCredentials",
        "x": 1660,
        "y": 120,
        "wires": [
            [
                "416e41df565fabb1",
                "d13d945dec6dcbef"
            ]
        ]
    },
    {
        "id": "d4137e58491cf6b8",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "g": "a399fc643c3207d7",
        "name": "Zelda",
        "props": [
            {
                "p": "username",
                "v": "zelda@hyrule.com",
                "vt": "str"
            },
            {
                "p": "password",
                "v": "test",
                "vt": "str"
            },
            {
                "p": "orion",
                "v": "orion",
                "vt": "flow"
            },
            {
                "p": "orion-ld",
                "v": "orion-ld",
                "vt": "flow"
            },
            {
                "p": "keyrock",
                "v": "keyrock",
                "vt": "flow"
            },
            {
                "p": "clientSecret",
                "v": "clientSecret",
                "vt": "flow"
            },
            {
                "p": "clientId",
                "v": "clientId",
                "vt": "flow"
            },
            {
                "p": "target",
                "v": "link",
                "vt": "flow"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 1190,
        "y": 120,
        "wires": [
            [
                "7a0d18bd3b339d0d"
            ]
        ]
    },
    {
        "id": "4f23fc3d8b1d0308",
        "type": "http request",
        "z": "df0435d82c4bf5f6",
        "g": "644561f951ea370c",
        "name": "POST /v1/auth/tokens",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "{{{keyrock}}}/v1/auth/tokens",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "Content-Type",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            }
        ],
        "x": 1320,
        "y": 360,
        "wires": [
            [
                "093de2403915081d",
                "84b4e91151209eb7"
            ]
        ]
    },
    {
        "id": "4b0be9e4e01a4290",
        "type": "comment",
        "z": "df0435d82c4bf5f6",
        "g": "a399fc643c3207d7",
        "name": "Portable API (AIO)",
        "info": "",
        "x": 1870,
        "y": 60,
        "wires": []
    },
    {
        "id": "ef29d54a03a9b576",
        "type": "http request",
        "z": "df0435d82c4bf5f6",
        "g": "fee944a6bdaf5f10",
        "name": "GET /version (LD)",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "{{{orion-ld}}}/version",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "payload.access_token"
            }
        ],
        "x": 590,
        "y": 300,
        "wires": [
            [
                "f3836386f6b7084d"
            ]
        ]
    },
    {
        "id": "f3836386f6b7084d",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "g": "fee944a6bdaf5f10",
        "name": "orion-ld version",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "payload[\"orionld version\"]",
        "statusType": "msg",
        "x": 840,
        "y": 300,
        "wires": []
    },
    {
        "id": "81b831ae0bcc412c",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "g": "fee944a6bdaf5f10",
        "name": "username",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "username",
        "targetType": "msg",
        "statusVal": "username",
        "statusType": "auto",
        "x": 820,
        "y": 60,
        "wires": []
    },
    {
        "id": "26522b5dbadeb248",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "name": "v2",
        "rules": [
            {
                "t": "set",
                "p": "orion",
                "pt": "msg",
                "to": "orion",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "x-auth-token",
                "pt": "msg",
                "to": "x-auth-token",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 1920,
        "wires": [
            [
                "0cf4f8bb7b24d4dc"
            ]
        ],
        "icon": "node-red-contrib-fiware_official/fiware.png"
    },
    {
        "id": "9f6b591146463158",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "name": "v2",
        "rules": [
            {
                "t": "set",
                "p": "orion",
                "pt": "msg",
                "to": "orion",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "x-auth-token",
                "pt": "msg",
                "to": "x-auth-token",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 1980,
        "wires": [
            [
                "cace7bcee2998abf"
            ]
        ],
        "icon": "node-red-contrib-fiware_official/fiware.png"
    },
    {
        "id": "5f6b46db34707201",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "name": "v2",
        "rules": [
            {
                "t": "set",
                "p": "orion",
                "pt": "msg",
                "to": "orion",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "x-auth-token",
                "pt": "msg",
                "to": "x-auth-token",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 980,
        "wires": [
            [
                "048515b9b28e67f7"
            ]
        ],
        "icon": "node-red-contrib-fiware_official/fiware.png"
    },
    {
        "id": "ca8f48654b02dc6e",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "name": "v2",
        "rules": [
            {
                "t": "set",
                "p": "orion",
                "pt": "msg",
                "to": "orion",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "x-auth-token",
                "pt": "msg",
                "to": "x-auth-token",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 1120,
        "wires": [
            [
                "be6cc99f77efb435"
            ]
        ],
        "icon": "node-red-contrib-fiware_official/fiware.png"
    },
    {
        "id": "f357b7236b53deab",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "name": "v2",
        "rules": [
            {
                "t": "set",
                "p": "orion",
                "pt": "msg",
                "to": "orion",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "x-auth-token",
                "pt": "msg",
                "to": "x-auth-token",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 1200,
        "wires": [
            [
                "28ed5ae15847748d"
            ]
        ],
        "icon": "node-red-contrib-fiware_official/fiware.png"
    },
    {
        "id": "7e6c89d196e3d18b",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "name": "v2",
        "rules": [
            {
                "t": "set",
                "p": "orion",
                "pt": "msg",
                "to": "orion",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "x-auth-token",
                "pt": "msg",
                "to": "x-auth-token",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 1280,
        "wires": [
            [
                "177e4e8615c88971"
            ]
        ],
        "icon": "node-red-contrib-fiware_official/fiware.png"
    },
    {
        "id": "a73671030385aef9",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "name": "v2",
        "rules": [
            {
                "t": "set",
                "p": "orion",
                "pt": "msg",
                "to": "orion",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "x-auth-token",
                "pt": "msg",
                "to": "x-auth-token",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 1440,
        "wires": [
            [
                "39863b210e260e86"
            ]
        ],
        "icon": "node-red-contrib-fiware_official/fiware.png"
    },
    {
        "id": "a519bfe512533b1f",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "name": "v2",
        "rules": [
            {
                "t": "set",
                "p": "orion",
                "pt": "msg",
                "to": "orion",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "x-auth-token",
                "pt": "msg",
                "to": "x-auth-token",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 1500,
        "wires": [
            [
                "39863b210e260e86"
            ]
        ],
        "icon": "node-red-contrib-fiware_official/fiware.png"
    },
    {
        "id": "147cbb62b18f9fb0",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "name": "v2",
        "rules": [
            {
                "t": "set",
                "p": "orion",
                "pt": "msg",
                "to": "orion",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "x-auth-token",
                "pt": "msg",
                "to": "x-auth-token",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 1560,
        "wires": [
            [
                "39863b210e260e86"
            ]
        ],
        "icon": "node-red-contrib-fiware_official/fiware.png"
    },
    {
        "id": "e8d0dbf4ff375c89",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "name": "v2",
        "rules": [
            {
                "t": "set",
                "p": "orion",
                "pt": "msg",
                "to": "orion",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "x-auth-token",
                "pt": "msg",
                "to": "x-auth-token",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 1740,
        "wires": [
            [
                "c475e583ac9a607d"
            ]
        ],
        "icon": "node-red-contrib-fiware_official/fiware.png"
    },
    {
        "id": "ae10e8be2485ab8f",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "name": "v2",
        "rules": [
            {
                "t": "set",
                "p": "orion",
                "pt": "msg",
                "to": "orion",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "x-auth-token",
                "pt": "msg",
                "to": "x-auth-token",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 1800,
        "wires": [
            [
                "1cdb8bdfea8d2119"
            ]
        ],
        "icon": "node-red-contrib-fiware_official/fiware.png"
    },
    {
        "id": "62af9ffdc835056f",
        "type": "http request",
        "z": "df0435d82c4bf5f6",
        "name": "GET /v2/entities?query",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "query",
        "url": "{{{orion}}}/v2/entities",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "x-auth-token"
            }
        ],
        "x": 630,
        "y": 1740,
        "wires": [
            [
                "e9c0483e87d6e424"
            ]
        ]
    },
    {
        "id": "038dd5b06d73db33",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "name": "v2",
        "rules": [
            {
                "t": "set",
                "p": "orion",
                "pt": "msg",
                "to": "orion",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "x-auth-token",
                "pt": "msg",
                "to": "x-auth-token",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 2040,
        "wires": [
            [
                "cace7bcee2998abf"
            ]
        ],
        "icon": "node-red-contrib-fiware_official/fiware.png"
    },
    {
        "id": "d310fcaa3a5937b3",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "name": "v2",
        "rules": [
            {
                "t": "set",
                "p": "orion",
                "pt": "msg",
                "to": "orion",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "x-auth-token",
                "pt": "msg",
                "to": "x-auth-token",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 2100,
        "wires": [
            [
                "cace7bcee2998abf"
            ]
        ],
        "icon": "node-red-contrib-fiware_official/fiware.png"
    },
    {
        "id": "b902a7b0e06958c7",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "name": "v2",
        "rules": [
            {
                "t": "set",
                "p": "orion",
                "pt": "msg",
                "to": "orion",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "x-auth-token",
                "pt": "msg",
                "to": "x-auth-token",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 1040,
        "wires": [
            [
                "048515b9b28e67f7"
            ]
        ],
        "icon": "node-red-contrib-fiware_official/fiware.png"
    },
    {
        "id": "3ea7a1070efdc73f",
        "type": "http request",
        "z": "df0435d82c4bf5f6",
        "name": "POST /v2/op/update",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "{{{orion}}}/v2/op/update",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "Content-Type",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            },
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "x-auth-token"
            }
        ],
        "x": 630,
        "y": 2040,
        "wires": [
            [
                "cade8350ccc5d1fe"
            ]
        ]
    },
    {
        "id": "ec7c26e51a11fc7e",
        "type": "http request",
        "z": "df0435d82c4bf5f6",
        "name": "GET /v2/entities?query",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "query",
        "url": "{{{orion}}}/v2/entities",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "x-auth-token"
            }
        ],
        "x": 630,
        "y": 1920,
        "wires": [
            [
                "cace7bcee2998abf"
            ]
        ]
    },
    {
        "id": "b38882d31a11a84f",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "name": "LD",
        "rules": [
            {
                "t": "set",
                "p": "orion-ld",
                "pt": "msg",
                "to": "orion-ld",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "x-auth-token",
                "pt": "msg",
                "to": "x-auth-token",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "link",
                "pt": "msg",
                "to": "link",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1330,
        "y": 1280,
        "wires": [
            [
                "0802effbd9ecd954"
            ]
        ],
        "icon": "node-red-contrib-fiware_official/fiware.png"
    },
    {
        "id": "a8de0b47d3ea6476",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "name": "LD",
        "rules": [
            {
                "t": "set",
                "p": "orion-ld",
                "pt": "msg",
                "to": "orion-ld",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "x-auth-token",
                "pt": "msg",
                "to": "x-auth-token",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "link",
                "pt": "msg",
                "to": "link",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1330,
        "y": 1200,
        "wires": [
            [
                "ef4423936e332dab"
            ]
        ],
        "icon": "node-red-contrib-fiware_official/fiware.png"
    },
    {
        "id": "45bbf0b3fbb6e1ad",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "name": "LD",
        "rules": [
            {
                "t": "set",
                "p": "orion-ld",
                "pt": "msg",
                "to": "orion-ld",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "x-auth-token",
                "pt": "msg",
                "to": "x-auth-token",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "link",
                "pt": "msg",
                "to": "link",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1330,
        "y": 1120,
        "wires": [
            [
                "0ebfe93656e97d2c"
            ]
        ],
        "icon": "node-red-contrib-fiware_official/fiware.png"
    },
    {
        "id": "0fb59567381b471a",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "name": "LD",
        "rules": [
            {
                "t": "set",
                "p": "orion-ld",
                "pt": "msg",
                "to": "orion-ld",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "x-auth-token",
                "pt": "msg",
                "to": "x-auth-token",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "link",
                "pt": "msg",
                "to": "link",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1330,
        "y": 1040,
        "wires": [
            [
                "70ce479b82ba136a"
            ]
        ],
        "icon": "node-red-contrib-fiware_official/fiware.png"
    },
    {
        "id": "87852e689e4c41d4",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "name": "LD",
        "rules": [
            {
                "t": "set",
                "p": "orion-ld",
                "pt": "msg",
                "to": "orion-ld",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "x-auth-token",
                "pt": "msg",
                "to": "x-auth-token",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "link",
                "pt": "msg",
                "to": "link",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1330,
        "y": 980,
        "wires": [
            [
                "70ce479b82ba136a"
            ]
        ],
        "icon": "node-red-contrib-fiware_official/fiware.png"
    },
    {
        "id": "10976846ed7e7629",
        "type": "comment",
        "z": "df0435d82c4bf5f6",
        "name": "http://node-red:1880",
        "info": "On Linux:   172.17.0.1\nOn Windows: host.docker.internal",
        "x": 1610,
        "y": 900,
        "wires": []
    },
    {
        "id": "b9f0c8a6c0dd01ae",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "create scoped sub",
        "props": [
            {
                "p": "orion",
                "v": "orion",
                "vt": "flow"
            },
            {
                "p": "x-auth-token",
                "v": "x-auth-token",
                "vt": "flow"
            },
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"description\":\"Notify me of all over power measurements\",\"subject\":{\"entities\":[{\"idPattern\":\".*\",\"type\":\"PowerSensor\"}],\"condition\":{\"attrs\":[\"power\"],\"expression\":{\"q\":\"power!=198..242\"}}},\"notification\":{\"http\":{\"url\":\"http://node-red:1880/test-simple-ads\"}}}",
        "payloadType": "json",
        "x": 150,
        "y": 1040,
        "wires": [
            [
                "b902a7b0e06958c7"
            ]
        ]
    },
    {
        "id": "3ea23fb00f924042",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "create scoped sub",
        "props": [
            {
                "p": "orion-ld",
                "v": "orion-ld",
                "vt": "flow"
            },
            {
                "p": "x-auth-token",
                "v": "x-auth-token",
                "vt": "flow"
            },
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"description\":\"Notify me of all 'confortable' temperatures (LD version)\",\"type\":\"Subscription\",\"entities\":[{\"type\":\"TemperatureSensor\"}],\"watchedAttributes\":[\"temperature\"],\"q\":\"temperature>=19;temperature<=27\",\"notification\":{\"attributes\":[\"temperature\"],\"format\":\"keyValues\",\"endpoint\":{\"uri\":\"http://node-red:1880/test-simple-ads-ld\",\"accept\":\"application/json\"}}}",
        "payloadType": "json",
        "x": 1170,
        "y": 1040,
        "wires": [
            [
                "0fb59567381b471a"
            ]
        ]
    },
    {
        "id": "f7b94bdd388dd224",
        "type": "comment",
        "z": "df0435d82c4bf5f6",
        "name": "T ∈ [19 - 27] °C",
        "info": "",
        "x": 1180,
        "y": 1060,
        "wires": []
    },
    {
        "id": "7bb40e41a7efb607",
        "type": "comment",
        "z": "df0435d82c4bf5f6",
        "name": "Note",
        "info": "Payload not supported by DELETE (removed)",
        "x": 1990,
        "y": 1140,
        "wires": []
    },
    {
        "id": "7a809ab85680562e",
        "type": "http request",
        "z": "df0435d82c4bf5f6",
        "name": "POST /v2/op/update",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "{{{orion}}}/v2/op/update",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "Content-Type",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            },
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "x-auth-token"
            }
        ],
        "x": 630,
        "y": 1500,
        "wires": [
            [
                "78478394ecad8756"
            ]
        ]
    },
    {
        "id": "4069e7f621879e5f",
        "type": "template",
        "z": "df0435d82c4bf5f6",
        "name": "attrs, options",
        "field": "payload",
        "fieldType": "msg",
        "format": "json",
        "syntax": "mustache",
        "template": "{\n    \"attrs\": \"temperature\",\n    \"options\": \"keyValues\"\n}",
        "output": "json",
        "x": 1510,
        "y": 660,
        "wires": [
            [
                "0a3fbe72e16d9f6a"
            ]
        ]
    },
    {
        "id": "2a5b0aaa7c8330bf",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "name": "LD",
        "rules": [
            {
                "t": "set",
                "p": "orion-ld",
                "pt": "msg",
                "to": "orion-ld",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "x-auth-token",
                "pt": "msg",
                "to": "x-auth-token",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "link",
                "pt": "msg",
                "to": "link",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1330,
        "y": 1460,
        "wires": [
            [
                "ee4937bd6396cce7"
            ]
        ],
        "icon": "node-red-contrib-fiware_official/fiware.png"
    },
    {
        "id": "fd52618d776940fa",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "name": "LD",
        "rules": [
            {
                "t": "set",
                "p": "orion-ld",
                "pt": "msg",
                "to": "orion-ld",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "x-auth-token",
                "pt": "msg",
                "to": "x-auth-token",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "link",
                "pt": "msg",
                "to": "link",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1330,
        "y": 1520,
        "wires": [
            [
                "ee4937bd6396cce7"
            ]
        ],
        "icon": "node-red-contrib-fiware_official/fiware.png"
    },
    {
        "id": "ebb11ae7853c6735",
        "type": "comment",
        "z": "df0435d82c4bf5f6",
        "name": "W ≠ 220 ± 10%",
        "info": "",
        "x": 160,
        "y": 1060,
        "wires": []
    },
    {
        "id": "c88f3dcb9491b520",
        "type": "comment",
        "z": "df0435d82c4bf5f6",
        "g": "fee944a6bdaf5f10",
        "name": "Smart Data Models",
        "info": "https://smartdatamodels.org/index.php/orion-ld-broker-with-examples-of-some-smart-data-models/",
        "x": 190,
        "y": 360,
        "wires": []
    },
    {
        "id": "e568ed5ce60311c0",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "g": "fee944a6bdaf5f10",
        "name": "set flow vars and access token",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "statusCode&\" - \"&(payload.error?payload.error:payload.access_token)",
        "statusType": "jsonata",
        "x": 230,
        "y": 300,
        "wires": []
    },
    {
        "id": "40b2f13307ca515e",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "g": "fee944a6bdaf5f10",
        "name": "set flow vars including flow links",
        "rules": [
            {
                "t": "set",
                "p": "keyrock",
                "pt": "flow",
                "to": "keyrock",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "clientId",
                "pt": "flow",
                "to": "clientId",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "clientSecret",
                "pt": "flow",
                "to": "clientSecret",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "username",
                "pt": "flow",
                "to": "username",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "password",
                "pt": "flow",
                "to": "password",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "orion",
                "pt": "flow",
                "to": "orion",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "orion-ld",
                "pt": "flow",
                "to": "orion-ld",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "x-auth-token",
                "pt": "flow",
                "to": "payload.access_token",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "link",
                "pt": "flow",
                "to": "<https://raw.githubusercontent.com/FIWARE/tutorials.IoT-Agent/NGSI-LD/data-models/ngsi-context.jsonld>; rel=\"http://www.w3.org/ns/json-ld#context\"; type=\"application/ld+json\"",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "link-jsonld",
                "pt": "flow",
                "to": "<https://raw.githubusercontent.com/FIWARE/tutorials.IoT-Agent/NGSI-LD/data-models/json-context.jsonld>; rel=\"http://www.w3.org/ns/json-ld#context\"; type=\"application/ld+json\"",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "link-default",
                "pt": "flow",
                "to": "<https://uri.etsi.org/ngsi-ld/v1/ngsi-ld-core-context.jsonld>; rel=\"http://www.w3.org/ns/json-ld#context\"; type=\"application/ld+json\"",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 230,
        "y": 300,
        "wires": [
            [
                "379b8f87c7b48b05",
                "d253b3ac8ed31e2b",
                "ef29d54a03a9b576"
            ]
        ]
    },
    {
        "id": "215f66948b378776",
        "type": "template",
        "z": "df0435d82c4bf5f6",
        "name": "sysAttrs",
        "field": "payload",
        "fieldType": "msg",
        "format": "json",
        "syntax": "mustache",
        "template": "{\n    \"options\": \"sysAttrs\"\n}",
        "output": "json",
        "x": 2400,
        "y": 1000,
        "wires": [
            [
                "0ad3e37f9a288bbf"
            ]
        ]
    },
    {
        "id": "0ad3e37f9a288bbf",
        "type": "http request",
        "z": "df0435d82c4bf5f6",
        "name": "GET /ngsi-ld/v1/entities/{id}",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "query",
        "url": "{{{orion-ld}}}/ngsi-ld/v1/entities/{{{id}}}",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "x-auth-token"
            },
            {
                "keyType": "other",
                "keyValue": "Link",
                "valueType": "msg",
                "valueValue": "link"
            }
        ],
        "x": 2700,
        "y": 780,
        "wires": [
            [
                "92df11aac8212434",
                "901347c286d72cb2"
            ]
        ]
    },
    {
        "id": "92df11aac8212434",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "name": "entity",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "statusCode & \": \" & (payload.title ? payload.title : payload.temperature)",
        "statusType": "jsonata",
        "x": 2970,
        "y": 700,
        "wires": []
    },
    {
        "id": "a568875d86bb3561",
        "type": "template",
        "z": "df0435d82c4bf5f6",
        "name": "concise",
        "field": "payload",
        "fieldType": "msg",
        "format": "json",
        "syntax": "mustache",
        "template": "{\n    \"options\": \"concise\"\n}",
        "output": "json",
        "x": 2400,
        "y": 560,
        "wires": [
            [
                "0ad3e37f9a288bbf"
            ]
        ]
    },
    {
        "id": "9bbdb7d4a19592d5",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "ngsi-ld @context",
        "props": [
            {
                "p": "x-auth-token",
                "v": "x-auth-token",
                "vt": "flow"
            },
            {
                "p": "orion-ld",
                "v": "orion-ld",
                "vt": "flow"
            },
            {
                "p": "id",
                "v": "urn:ngsi-ld:TemperatureSensor:001",
                "vt": "str"
            },
            {
                "p": "link",
                "v": "link",
                "vt": "flow"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 2200,
        "y": 660,
        "wires": [
            [
                "b2bc86cbf2162ac4"
            ]
        ]
    },
    {
        "id": "1964303546c8449b",
        "type": "template",
        "z": "df0435d82c4bf5f6",
        "name": "normalized",
        "field": "payload",
        "fieldType": "msg",
        "format": "json",
        "syntax": "mustache",
        "template": "{\n    \"options\": \"normalized\"\n}",
        "output": "json",
        "x": 2410,
        "y": 860,
        "wires": [
            [
                "0ad3e37f9a288bbf"
            ]
        ]
    },
    {
        "id": "b2bc86cbf2162ac4",
        "type": "template",
        "z": "df0435d82c4bf5f6",
        "name": "keyValues",
        "field": "payload",
        "fieldType": "msg",
        "format": "json",
        "syntax": "mustache",
        "template": "{\n    \"options\": \"keyValues\"\n}",
        "output": "json",
        "x": 2410,
        "y": 700,
        "wires": [
            [
                "0ad3e37f9a288bbf"
            ]
        ]
    },
    {
        "id": "6ad90f50ca458311",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "json-ld @context",
        "props": [
            {
                "p": "x-auth-token",
                "v": "x-auth-token",
                "vt": "flow"
            },
            {
                "p": "orion-ld",
                "v": "orion-ld",
                "vt": "flow"
            },
            {
                "p": "id",
                "v": "urn:ngsi-ld:TemperatureSensor:001",
                "vt": "str"
            },
            {
                "p": "link",
                "v": "link-jsonld",
                "vt": "flow"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 2200,
        "y": 700,
        "wires": [
            [
                "b2bc86cbf2162ac4"
            ]
        ]
    },
    {
        "id": "ee73da2fd6f770f6",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "ngsi-ld @context",
        "props": [
            {
                "p": "x-auth-token",
                "v": "x-auth-token",
                "vt": "flow"
            },
            {
                "p": "orion-ld",
                "v": "orion-ld",
                "vt": "flow"
            },
            {
                "p": "id",
                "v": "urn:ngsi-ld:TemperatureSensor:001",
                "vt": "str"
            },
            {
                "p": "link",
                "v": "link",
                "vt": "flow"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 2200,
        "y": 520,
        "wires": [
            [
                "a568875d86bb3561"
            ]
        ]
    },
    {
        "id": "10d43a421c9251c6",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "json-ld @context",
        "props": [
            {
                "p": "x-auth-token",
                "v": "x-auth-token",
                "vt": "flow"
            },
            {
                "p": "orion-ld",
                "v": "orion-ld",
                "vt": "flow"
            },
            {
                "p": "id",
                "v": "urn:ngsi-ld:TemperatureSensor:001",
                "vt": "str"
            },
            {
                "p": "link",
                "v": "link-jsonld",
                "vt": "flow"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 2200,
        "y": 560,
        "wires": [
            [
                "a568875d86bb3561"
            ]
        ]
    },
    {
        "id": "e427043416fc6959",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "ngsi-ld @context",
        "props": [
            {
                "p": "x-auth-token",
                "v": "x-auth-token",
                "vt": "flow"
            },
            {
                "p": "orion-ld",
                "v": "orion-ld",
                "vt": "flow"
            },
            {
                "p": "id",
                "v": "urn:ngsi-ld:TemperatureSensor:001",
                "vt": "str"
            },
            {
                "p": "link",
                "v": "link",
                "vt": "flow"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 2200,
        "y": 960,
        "wires": [
            [
                "215f66948b378776"
            ]
        ]
    },
    {
        "id": "907a1950400fc5d6",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "json-ld @context",
        "props": [
            {
                "p": "x-auth-token",
                "v": "x-auth-token",
                "vt": "flow"
            },
            {
                "p": "orion-ld",
                "v": "orion-ld",
                "vt": "flow"
            },
            {
                "p": "id",
                "v": "urn:ngsi-ld:TemperatureSensor:001",
                "vt": "str"
            },
            {
                "p": "link",
                "v": "link-jsonld",
                "vt": "flow"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 2200,
        "y": 1000,
        "wires": [
            [
                "215f66948b378776"
            ]
        ]
    },
    {
        "id": "685f4d7829c56cec",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "ngsi-ld @context",
        "props": [
            {
                "p": "x-auth-token",
                "v": "x-auth-token",
                "vt": "flow"
            },
            {
                "p": "orion-ld",
                "v": "orion-ld",
                "vt": "flow"
            },
            {
                "p": "id",
                "v": "urn:ngsi-ld:TemperatureSensor:001",
                "vt": "str"
            },
            {
                "p": "link",
                "v": "link",
                "vt": "flow"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 2200,
        "y": 820,
        "wires": [
            [
                "1964303546c8449b"
            ]
        ]
    },
    {
        "id": "298519393e67ecd4",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "json-ld @context",
        "props": [
            {
                "p": "x-auth-token",
                "v": "x-auth-token",
                "vt": "flow"
            },
            {
                "p": "orion-ld",
                "v": "orion-ld",
                "vt": "flow"
            },
            {
                "p": "id",
                "v": "urn:ngsi-ld:TemperatureSensor:001",
                "vt": "str"
            },
            {
                "p": "link",
                "v": "link-jsonld",
                "vt": "flow"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 2200,
        "y": 860,
        "wires": [
            [
                "1964303546c8449b"
            ]
        ]
    },
    {
        "id": "fddf9c7ba15b745e",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "plain json object",
        "props": [
            {
                "p": "x-auth-token",
                "v": "x-auth-token",
                "vt": "flow"
            },
            {
                "p": "orion-ld",
                "v": "orion-ld",
                "vt": "flow"
            },
            {
                "p": "id",
                "v": "urn:ngsi-ld:TemperatureSensor:001",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 2200,
        "y": 600,
        "wires": [
            [
                "a568875d86bb3561"
            ]
        ]
    },
    {
        "id": "7fa86e9421f478cb",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "plain json object",
        "props": [
            {
                "p": "x-auth-token",
                "v": "x-auth-token",
                "vt": "flow"
            },
            {
                "p": "orion-ld",
                "v": "orion-ld",
                "vt": "flow"
            },
            {
                "p": "id",
                "v": "urn:ngsi-ld:TemperatureSensor:001",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 2200,
        "y": 740,
        "wires": [
            [
                "b2bc86cbf2162ac4"
            ]
        ]
    },
    {
        "id": "96d56b120f1a9f14",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "plain json object",
        "props": [
            {
                "p": "x-auth-token",
                "v": "x-auth-token",
                "vt": "flow"
            },
            {
                "p": "orion-ld",
                "v": "orion-ld",
                "vt": "flow"
            },
            {
                "p": "id",
                "v": "urn:ngsi-ld:TemperatureSensor:001",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 2200,
        "y": 900,
        "wires": [
            [
                "1964303546c8449b"
            ]
        ]
    },
    {
        "id": "76a02fa7603ebe25",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "plain json object",
        "props": [
            {
                "p": "x-auth-token",
                "v": "x-auth-token",
                "vt": "flow"
            },
            {
                "p": "orion-ld",
                "v": "orion-ld",
                "vt": "flow"
            },
            {
                "p": "id",
                "v": "urn:ngsi-ld:TemperatureSensor:001",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 2200,
        "y": 1040,
        "wires": [
            [
                "215f66948b378776"
            ]
        ]
    },
    {
        "id": "47c549868fedc37a",
        "type": "template",
        "z": "df0435d82c4bf5f6",
        "name": "concise",
        "field": "payload",
        "fieldType": "msg",
        "format": "json",
        "syntax": "mustache",
        "template": "{\n    \"options\": \"concise\"\n}",
        "output": "json",
        "x": 1320,
        "y": 740,
        "wires": [
            [
                "583e944f9561284c"
            ]
        ]
    },
    {
        "id": "9f0f8cba2b6dbd99",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "g": "a399fc643c3207d7",
        "name": "set flow vars",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "statusCode&\" - \"&(payload.error?payload.error:payload.access_token)",
        "statusType": "jsonata",
        "x": 1150,
        "y": 300,
        "wires": []
    },
    {
        "id": "bbe233b4512a26dd",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "g": "a399fc643c3207d7",
        "name": "set flow vars",
        "rules": [
            {
                "t": "set",
                "p": "keyrock",
                "pt": "flow",
                "to": "keyrock",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "clientId",
                "pt": "flow",
                "to": "clientId",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "clientSecret",
                "pt": "flow",
                "to": "clientSecret",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "username",
                "pt": "flow",
                "to": "username",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "password",
                "pt": "flow",
                "to": "password",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "orion",
                "pt": "flow",
                "to": "orion",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "orion-ld",
                "pt": "flow",
                "to": "orion-ld",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "x-auth-token",
                "pt": "flow",
                "to": "payload.access_token",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "link",
                "pt": "flow",
                "to": "<https://uri.etsi.org/ngsi-ld/v1/ngsi-ld-core-context.jsonld>; rel=\"http://www.w3.org/ns/json-ld#context\"; type=\"application/ld+json\"",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1150,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "a7421c2dcee4af40",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "g": "a399fc643c3207d7",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "x-auth-token",
                "pt": "msg",
                "to": "payload.access_token",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1180,
        "y": 240,
        "wires": [
            [
                "9f0f8cba2b6dbd99",
                "bbe233b4512a26dd",
                "0453516bf9d06061",
                "a8c5436832d3ad59",
                "f9b2416f30d248ef",
                "0cc0b952fbd45197"
            ]
        ]
    },
    {
        "id": "3daa71f31114633e",
        "type": "http request",
        "z": "df0435d82c4bf5f6",
        "g": "a399fc643c3207d7",
        "name": "GET v2/entities",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "query",
        "url": "{{{orion}}}/v2/entities",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "x-auth-token"
            }
        ],
        "x": 1640,
        "y": 240,
        "wires": [
            [
                "49d64956ecb2a056"
            ]
        ]
    },
    {
        "id": "1d5e64dbaa822e20",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "g": "a399fc643c3207d7",
        "name": "Orion LD",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "$count(payload) & \" entities\"\t",
        "statusType": "jsonata",
        "x": 1900,
        "y": 300,
        "wires": []
    },
    {
        "id": "49d64956ecb2a056",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "g": "a399fc643c3207d7",
        "name": "Orion v2",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "$count(payload) & \" entities\"\t",
        "statusType": "jsonata",
        "x": 1900,
        "y": 240,
        "wires": []
    },
    {
        "id": "de9fee3d21ce5403",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "g": "a399fc643c3207d7",
        "name": "Charlie",
        "props": [
            {
                "p": "username",
                "v": "charlie-security@test.com",
                "vt": "str"
            },
            {
                "p": "password",
                "v": "test",
                "vt": "str"
            },
            {
                "p": "orion",
                "v": "orion",
                "vt": "flow"
            },
            {
                "p": "orion-ld",
                "v": "orion-ld",
                "vt": "flow"
            },
            {
                "p": "keyrock",
                "v": "keyrock",
                "vt": "flow"
            },
            {
                "p": "clientSecret",
                "v": "clientSecret",
                "vt": "flow"
            },
            {
                "p": "clientId",
                "v": "clientId",
                "vt": "flow"
            },
            {
                "p": "target",
                "v": "link",
                "vt": "flow"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 1170,
        "y": 100,
        "wires": [
            [
                "7a0d18bd3b339d0d"
            ]
        ]
    },
    {
        "id": "ea5508c8318a7a91",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "g": "a399fc643c3207d7",
        "name": "Bob",
        "props": [
            {
                "p": "username",
                "v": "bob-the-manager@test.com",
                "vt": "str"
            },
            {
                "p": "password",
                "v": "test",
                "vt": "str"
            },
            {
                "p": "orion",
                "v": "orion",
                "vt": "flow"
            },
            {
                "p": "orion-ld",
                "v": "orion-ld",
                "vt": "flow"
            },
            {
                "p": "keyrock",
                "v": "keyrock",
                "vt": "flow"
            },
            {
                "p": "clientSecret",
                "v": "clientSecret",
                "vt": "flow"
            },
            {
                "p": "clientId",
                "v": "clientId",
                "vt": "flow"
            },
            {
                "p": "target",
                "v": "link",
                "vt": "flow"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 1150,
        "y": 80,
        "wires": [
            [
                "7a0d18bd3b339d0d"
            ]
        ]
    },
    {
        "id": "556bed16e3069b47",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "g": "a399fc643c3207d7",
        "name": "Alice",
        "props": [
            {
                "p": "username",
                "v": "alice-the-admin@test.com",
                "vt": "str"
            },
            {
                "p": "password",
                "v": "test",
                "vt": "str"
            },
            {
                "p": "orion",
                "v": "orion",
                "vt": "flow"
            },
            {
                "p": "orion-ld",
                "v": "orion-ld",
                "vt": "flow"
            },
            {
                "p": "keyrock",
                "v": "keyrock",
                "vt": "flow"
            },
            {
                "p": "clientSecret",
                "v": "clientSecret",
                "vt": "flow"
            },
            {
                "p": "clientId",
                "v": "clientId",
                "vt": "flow"
            },
            {
                "p": "target",
                "v": "link",
                "vt": "flow"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 1130,
        "y": 60,
        "wires": [
            [
                "7a0d18bd3b339d0d"
            ]
        ]
    },
    {
        "id": "5b6f4464fcce3868",
        "type": "base64",
        "z": "df0435d82c4bf5f6",
        "g": "fee944a6bdaf5f10",
        "name": "",
        "action": "str",
        "property": "clientCredentials",
        "x": 620,
        "y": 120,
        "wires": [
            [
                "b2e61cdd20abb1c3",
                "1c184eb76bb592b9",
                "13f15381ada61611",
                "668626b56dbdf22a",
                "a524c4addbede590",
                "81b831ae0bcc412c"
            ]
        ]
    },
    {
        "id": "fb492fbc7f0e1709",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "g": "fee944a6bdaf5f10",
        "name": "new token",
        "props": [
            {
                "p": "orion",
                "v": "orion",
                "vt": "flow"
            },
            {
                "p": "orion-ld",
                "v": "orion-ld",
                "vt": "flow"
            },
            {
                "p": "keyrock",
                "v": "keyrock",
                "vt": "flow"
            },
            {
                "p": "username",
                "v": "username",
                "vt": "flow"
            },
            {
                "p": "password",
                "v": "password",
                "vt": "flow"
            },
            {
                "p": "clientId",
                "v": "clientId",
                "vt": "flow"
            },
            {
                "p": "clientSecret",
                "v": "clientSecret",
                "vt": "flow"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 620,
        "y": 60,
        "wires": [
            [
                "566325ccdbdada90"
            ]
        ]
    },
    {
        "id": "7ad91dacce9f89ba",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "g": "fee944a6bdaf5f10",
        "name": "orion version",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "payload[\"orion version\"]",
        "statusType": "msg",
        "x": 830,
        "y": 360,
        "wires": []
    },
    {
        "id": "9ebc7614f8ae0530",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "g": "fee944a6bdaf5f10",
        "name": "test Orion-LD broker",
        "rules": [
            {
                "t": "set",
                "p": "orion",
                "pt": "msg",
                "to": "https://smartdatamodels.org:1026",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "orion-ld",
                "pt": "msg",
                "to": "https://smartdatamodels.org:1026",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "keyrock",
                "pt": "msg",
                "to": "https://dev-utuiqz60u717uyr8.eu.auth0.com",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "clientId",
                "pt": "msg",
                "to": "F2-YTke0C2Ux21MffizKdsd6",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "clientSecret",
                "pt": "msg",
                "to": "XmSYwozBdicXeUmLv0BeRbrce81mDLIJ2qS5-GwZdORwecoj",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "username",
                "pt": "msg",
                "to": "evil-skipper@example.com",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "password",
                "pt": "msg",
                "to": "Cautious-Centipede-48",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 200,
        "y": 60,
        "wires": [
            [
                "566325ccdbdada90"
            ]
        ]
    },
    {
        "id": "355e79edc51b326c",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "g": "fee944a6bdaf5f10",
        "name": "STARTUP",
        "props": [],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "x": 75,
        "y": 60,
        "wires": [
            [
                "9ebc7614f8ae0530"
            ]
        ],
        "l": false
    },
    {
        "id": "901347c286d72cb2",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "name": "attribute",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload.temperature",
        "targetType": "msg",
        "statusVal": "statusCode & \": \" & (payload.title ? payload.title : payload.temperature)",
        "statusType": "jsonata",
        "x": 2980,
        "y": 860,
        "wires": []
    },
    {
        "id": "0453516bf9d06061",
        "type": "template",
        "z": "df0435d82c4bf5f6",
        "g": "a399fc643c3207d7",
        "name": "quey entrire db",
        "field": "payload",
        "fieldType": "msg",
        "format": "json",
        "syntax": "mustache",
        "template": "{\n    \"options\": \"keyValues\"\n}",
        "output": "json",
        "x": 1420,
        "y": 240,
        "wires": [
            [
                "3daa71f31114633e"
            ]
        ]
    },
    {
        "id": "a8c5436832d3ad59",
        "type": "template",
        "z": "df0435d82c4bf5f6",
        "g": "a399fc643c3207d7",
        "name": "query entire db",
        "field": "payload",
        "fieldType": "msg",
        "format": "json",
        "syntax": "mustache",
        "template": "{\n    \"idPattern\": \".*\"\n}\n",
        "output": "json",
        "x": 1420,
        "y": 300,
        "wires": [
            [
                "c15fd7e5d687bc9a"
            ]
        ]
    },
    {
        "id": "c15fd7e5d687bc9a",
        "type": "http request",
        "z": "df0435d82c4bf5f6",
        "g": "a399fc643c3207d7",
        "name": "GET /ngsi-ld/v1/entities",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "query",
        "url": "{{{orion-ld}}}/ngsi-ld/v1/entities",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "x-auth-token"
            }
        ],
        "x": 1670,
        "y": 300,
        "wires": [
            [
                "1d5e64dbaa822e20"
            ]
        ]
    },
    {
        "id": "40f8129b88477795",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "name": "write attribute",
        "props": [
            {
                "p": "x-auth-token",
                "v": "x-auth-token",
                "vt": "flow"
            },
            {
                "p": "orion-ld",
                "v": "orion-ld",
                "vt": "flow"
            },
            {
                "p": "id",
                "v": "urn:ngsi-ld:TemperatureSensor:001",
                "vt": "str"
            },
            {
                "p": "payload"
            },
            {
                "p": "method",
                "v": "PATCH",
                "vt": "str"
            },
            {
                "p": "link",
                "v": "link",
                "vt": "flow"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\t    \"type\": \"Property\",\t    \"value\": ($round(150*$random())+150)/10\t}\t",
        "payloadType": "jsonata",
        "x": 1150,
        "y": 580,
        "wires": [
            [
                "4b950a1a911e95a6",
                "734fcb2b4106254d"
            ]
        ]
    },
    {
        "id": "4b950a1a911e95a6",
        "type": "http request",
        "z": "df0435d82c4bf5f6",
        "name": "PATCH /ngsi-ld/v1/entities/{id}/attrs/temperature",
        "method": "use",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "{{{orion-ld}}}/ngsi-ld/v1/entities/{{{id}}}/attrs/temperature",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "X-Auth-Token",
                "valueType": "msg",
                "valueValue": "x-auth-token"
            },
            {
                "keyType": "other",
                "keyValue": "Link",
                "valueType": "msg",
                "valueValue": "link"
            },
            {
                "keyType": "Content-Type",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            }
        ],
        "x": 1620,
        "y": 580,
        "wires": [
            [
                "f79a4689b5baaa19"
            ]
        ]
    },
    {
        "id": "f9b2416f30d248ef",
        "type": "template",
        "z": "df0435d82c4bf5f6",
        "g": "a399fc643c3207d7",
        "name": "query by type",
        "field": "payload",
        "fieldType": "msg",
        "format": "json",
        "syntax": "mustache",
        "template": "{\n    \"type\": \"PowerSensor\",\n    \"options\": \"keyValues\"\n}",
        "output": "json",
        "x": 1420,
        "y": 220,
        "wires": [
            [
                "3daa71f31114633e"
            ]
        ]
    },
    {
        "id": "0cc0b952fbd45197",
        "type": "template",
        "z": "df0435d82c4bf5f6",
        "g": "a399fc643c3207d7",
        "name": "query by type",
        "field": "payload",
        "fieldType": "msg",
        "format": "json",
        "syntax": "mustache",
        "template": "{\n    \"type\": \"TemperatureSensor\"\n}\n",
        "output": "json",
        "x": 1420,
        "y": 280,
        "wires": [
            [
                "c15fd7e5d687bc9a"
            ]
        ]
    },
    {
        "id": "d4a6f58dcade2406",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "g": "fee944a6bdaf5f10",
        "name": " ",
        "props": [],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "x": 75,
        "y": 120,
        "wires": [
            [
                "1a03d03fe0320ad6"
            ]
        ],
        "l": false
    },
    {
        "id": "566325ccdbdada90",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "g": "fee944a6bdaf5f10",
        "name": "encode credentials",
        "rules": [
            {
                "t": "set",
                "p": "clientCredentials",
                "pt": "msg",
                "to": "clientId & \":\" & clientSecret",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 120,
        "wires": [
            [
                "5b6f4464fcce3868"
            ]
        ]
    },
    {
        "id": "0a3fbe72e16d9f6a",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "name": "",
        "rules": [
            {
                "t": "delete",
                "p": "method",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1530,
        "y": 700,
        "wires": [
            [
                "583e944f9561284c"
            ]
        ]
    },
    {
        "id": "734fcb2b4106254d",
        "type": "delay",
        "z": "df0435d82c4bf5f6",
        "name": "",
        "pauseType": "delay",
        "timeout": "100",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1330,
        "y": 620,
        "wires": [
            [
                "4069e7f621879e5f"
            ]
        ]
    },
    {
        "id": "b0176eea263a16fc",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "d": true,
        "name": "STARTUP",
        "props": [],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 35,
        "y": 2220,
        "wires": [
            [
                "073c94d9d1ef8430"
            ]
        ],
        "l": false
    },
    {
        "id": "cafc2ab52254540c",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "d": true,
        "name": "STARTUP",
        "props": [],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 35,
        "y": 2260,
        "wires": [
            [
                "e91adaea6c055de5"
            ]
        ],
        "l": false
    },
    {
        "id": "073c94d9d1ef8430",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "d": true,
        "name": "95.216.154.146",
        "rules": [
            {
                "t": "set",
                "p": "orion",
                "pt": "msg",
                "to": "http://95.216.154.146:1026",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "orion-ld",
                "pt": "msg",
                "to": "http://95.216.154.146:1027",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "keyrock",
                "pt": "msg",
                "to": "http://95.216.154.146:3005",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "clientId",
                "pt": "msg",
                "to": "tutorial-dckr-site-0000-xpresswebapp",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "clientSecret",
                "pt": "msg",
                "to": "tutorial-dckr-site-0000-clientsecret",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "username",
                "pt": "msg",
                "to": "alice-the-admin@test.com",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "password",
                "pt": "msg",
                "to": "test",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 140,
        "y": 2220,
        "wires": [
            []
        ]
    },
    {
        "id": "e91adaea6c055de5",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "d": true,
        "name": "under nginx",
        "rules": [
            {
                "t": "set",
                "p": "orion",
                "pt": "msg",
                "to": "https://enershare.zapto.org/orion",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "orion-ld",
                "pt": "msg",
                "to": "https://enershare.zapto.org/orionld",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "keyrock",
                "pt": "msg",
                "to": "https://enershare.zapto.org/keyrock",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "clientId",
                "pt": "msg",
                "to": "tutorial-dckr-site-0000-xpresswebapp",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "clientSecret",
                "pt": "msg",
                "to": "tutorial-dckr-site-0000-clientsecret",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "username",
                "pt": "msg",
                "to": "alice-the-admin@test.com",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "password",
                "pt": "msg",
                "to": "test",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 130,
        "y": 2260,
        "wires": [
            []
        ]
    },
    {
        "id": "c4bc455e9f9ecd33",
        "type": "inject",
        "z": "df0435d82c4bf5f6",
        "d": true,
        "name": "STARTUP",
        "props": [],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 35,
        "y": 2180,
        "wires": [
            [
                "ac2ba57caf9c72d0"
            ]
        ],
        "l": false
    },
    {
        "id": "ac2ba57caf9c72d0",
        "type": "http request",
        "z": "df0435d82c4bf5f6",
        "d": true,
        "name": "GET icanhazip.com",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "https://icanhazip.com",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 150,
        "y": 2180,
        "wires": [
            [
                "4469b3b69479e171",
                "84c20c3ceddd653b"
            ]
        ]
    },
    {
        "id": "4469b3b69479e171",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "d": true,
        "name": "IP",
        "rules": [
            {
                "t": "set",
                "p": "orion",
                "pt": "msg",
                "to": "\"http://\" & $trim(payload) & \":1026\"",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "orion-ld",
                "pt": "msg",
                "to": "\"http://\" & $trim(payload) & \":1026\"",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "keyrock",
                "pt": "msg",
                "to": "\"http://\" & $trim(payload) & \":3005\"",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "clientId",
                "pt": "msg",
                "to": "tutorial-dckr-site-0000-xpresswebapp",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "clientSecret",
                "pt": "msg",
                "to": "tutorial-dckr-site-0000-clientsecret",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "username",
                "pt": "msg",
                "to": "alice-the-admin@test.com",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "password",
                "pt": "msg",
                "to": "test",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 2180,
        "wires": [
            []
        ]
    },
    {
        "id": "84c20c3ceddd653b",
        "type": "debug",
        "z": "df0435d82c4bf5f6",
        "d": true,
        "name": "IP",
        "active": true,
        "tosidebar": false,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 310,
        "y": 2180,
        "wires": []
    },
    {
        "id": "1a03d03fe0320ad6",
        "type": "change",
        "z": "df0435d82c4bf5f6",
        "g": "fee944a6bdaf5f10",
        "name": "host.docker.internal ¹",
        "rules": [
            {
                "t": "set",
                "p": "orion",
                "pt": "msg",
                "to": "http://host.docker.internal:1026",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "orion-ld",
                "pt": "msg",
                "to": "http://host.docker.internal:1026",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "keyrock",
                "pt": "msg",
                "to": "http://host.docker.internal:3005",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "clientId",
                "pt": "msg",
                "to": "tutorial-dckr-site-0000-xpresswebapp",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "clientSecret",
                "pt": "msg",
                "to": "tutorial-dckr-site-0000-clientsecret",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "username",
                "pt": "msg",
                "to": "alice-the-admin@test.com",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "password",
                "pt": "msg",
                "to": "test",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 200,
        "y": 120,
        "wires": [
            [
                "566325ccdbdada90"
            ]
        ]
    }
]